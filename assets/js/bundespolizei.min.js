if(!jQuery)throw new Error("Bootstrap requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(window.jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(window.jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]');if(a.length){var b=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===b.prop("type")&&a.find(".active").removeClass("active")}this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(window.jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(window.jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?(this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350),void 0):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(window.jQuery),+function(a){"use strict";function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown"))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(d=a.Event("show.bs.dropdown")),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",f);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)}(window.jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(window.jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(c).is("body")?a(window):a(c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),function(){function a(a,c){a.prototype=b(c.prototype),a.prototype.constructor=a,a.parent=c.prototype}function b(a){function b(){}return b.prototype=a,new b}function c(a,b,c){return"millisecond"===c?a.setMilliseconds(a.getMilliseconds()+1*b):"second"===c?a.setSeconds(a.getSeconds()+1*b):"minute"===c?a.setMinutes(a.getMinutes()+1*b):"hour"===c?a.setHours(a.getHours()+1*b):"day"===c?a.setDate(a.getDate()+1*b):"week"===c?a.setDate(a.getDate()+7*b):"month"===c?a.setMonth(a.getMonth()+1*b):"year"===c&&a.setFullYear(a.getFullYear()+1*b),a}function d(a,b){return J[b+"Duration"]*a}function e(a,b){var c=!1;for(0>a&&(c=!0,a*=-1),a=""+a,b=b?b:1;a.length<b;)a="0"+a;return c?"-"+a:a}function f(a){a=a.replace(/^\s\s*/,"");for(var b=/\s/,c=a.length;b.test(a.charAt(--c)););return a.slice(0,c+1)}function g(a){a.roundRect=function(a,b,c,d,e,f,g,h){g&&(this.fillStyle=g),h&&(this.strokeStyle=h),"undefined"==typeof stroke&&(stroke=!0),"undefined"==typeof e&&(e=5),this.lineWidth=f,this.beginPath(),this.moveTo(a+e,b),this.lineTo(a+c-e,b),this.quadraticCurveTo(a+c,b,a+c,b+e),this.lineTo(a+c,b+d-e),this.quadraticCurveTo(a+c,b+d,a+c-e,b+d),this.lineTo(a+e,b+d),this.quadraticCurveTo(a,b+d,a,b+d-e),this.lineTo(a,b+e),this.quadraticCurveTo(a,b,a+e,b),this.closePath(),g&&this.fill(),h&&f>0&&this.stroke()}}function h(a,b){return a-b}function j(a,b){return a.x-b.x}function k(a){var b=((16711680&a)>>16).toString(16),c=((65280&a)>>8).toString(16);return a=((255&a)>>0).toString(16),b=2>b.length?"0"+b:b,c=2>c.length?"0"+c:c,a=2>a.length?"0"+a:a,"#"+b+c+a}function l(a){var b=[];return b[0]=(16711680&a)>>16,b[1]=(65280&a)>>8,b[2]=(255&a)>>0,b}function m(a,b,c,d){if(a.addEventListener)a.addEventListener(b,c,d||!1);else{if(!a.attachEvent)return!1;a.attachEvent("on"+b,function(b){b=b||window.event,b.preventDefault=b.preventDefault||function(){b.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0},c.call(a,b)})}}function n(a,b,c){for(a*=Q,b*=Q,a=c.getImageData(a,b,2,2).data,b=!0,c=0;4>c;c++)if(a[c]!==a[c+4]|a[c]!==a[c+8]|a[c]!==a[c+12]){b=!1;break}return b?a[0]<<16|a[1]<<8|a[2]:0}function o(a,b,c){return a in b?b[a]:c[a]}function p(a,b,c){if(E&&N){var d=a.getContext("2d");P=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1,Q=O/P,a.width=b*Q,a.height=c*Q,O!==P&&(a.style.width=b+"px",a.style.height=c+"px",d.scale(Q,Q))}else a.width=b,a.height=c}function q(a,b){var c=document.createElement("canvas");return p(c,a,b),E||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(c),c}function r(a,b,c){this._defaultsKey=a,currentTheme={},c&&I[c]&&I[c][a]&&(currentTheme=I[c][a]),this._options=b?b:{},this.setOptions(this._options,currentTheme)}function s(a,b){b=b||{},s.parent.constructor.call(this,"Chart",b,b.theme?b.theme:"theme1");var c=this;if(this._containerId=a,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this._container=document.getElementById(this._containerId)){this._container.innerHTML="";var d=0,e=0,d=this._options.width?this.width:0<this._container.clientWidth?this._container.clientWidth:this.width,e=this._options.height?this.height:0<this._container.clientHeight?this._container.clientHeight:this.height;this.width=d,this.height=e,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.style.position="relative",E||(this._canvasJSContainer.style.height="0px"),this._container.appendChild(this._canvasJSContainer),this.canvas=q(d,e),this.canvas.style.position="absolute",this.canvas.getContext&&(this.canvas.style.background=this.backgroundColor,this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",g(this.ctx),E?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=q(d,e),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=q(d,e),this.overlaidCanvas.style.position="absolute",this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",this._eventManager=new C(this),this._toolBar=document.createElement("div"),this._toolBar.style.position="absolute",this._toolBar.style.top="0px",this._toolBar.style.right="0px",this._canvasJSContainer.appendChild(this._toolBar),this.zoomEnabled&&(this._zoomButton=document.createElement("button"),this._zoomButton.appendChild(document.createTextNode("Pan")),this._toolBar.appendChild(this._zoomButton),m(this._zoomButton,"click",function(){c.zoomEnabled?(c.zoomEnabled=!1,c.panEnabled=!0,c._zoomButton.innerHTML=c._cultureInfo.zoomText):(c.zoomEnabled=!0,c.panEnabled=!1,c._zoomButton.innerHTML=c._cultureInfo.panText),c.render()
})),this.zoomEnabled&&(this._resetButton=document.createElement("button"),this._resetButton.appendChild(document.createTextNode("Reset")),this._toolBar.appendChild(this._resetButton),this.zoomEnabled=this._options.zoomEnabled?!0:!1,this.panEnabled=!1,this.overlaidCanvas.style.cursor=c._defaultCursor,m(this._resetButton,"click",function(){c._toolTip.hide(),c.zoomEnabled||c.panEnabled?(c.zoomEnabled=!0,c.panEnabled=!1,c._zoomButton.innerHTML=c._cultureInfo.panText,c._defaultCursor="default",c.overlaidCanvas.style.cursor=c._defaultCursor):(c.zoomEnabled=!1,c.panEnabled=!1),c.sessionVariables.axisX.internalMinimum=c._options.axisX&&c._options.axisX.minimum?c._options.axisX.minimum:null,c.sessionVariables.axisX.internalMaximum=c._options.axisX&&c._options.axisX.maximum?c._options.axisX.maximum:null,c.resetOverlayedCanvas(),c.render()})),m(window,"resize",function(){var a=0,b=0;c._options.width?a=c.width:c.width=a=0<c._container.clientWidth?c._container.clientWidth:c.width,c._options.height?b=c.height:c.height=b=0<c._container.clientHeight?c._container.clientHeight:c.height,(c.canvas.width!==a*Q||c.canvas.height!==b*Q)&&(c.renderCount--,p(c.canvas,a,b),p(c.overlaidCanvas,a,b),p(c._eventManager.ghostCanvas,a,b),c.render())}),this._toolBar.style.display="none",this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},c=this,m(this.overlaidCanvas,"click",function(a){c._mouseEventHandler(a)}),m(this.overlaidCanvas,"mousemove",function(a){c._mouseEventHandler(a)}),m(this.overlaidCanvas,"mouseup",function(a){c._mouseEventHandler(a)}),m(this.overlaidCanvas,"mousedown",function(a){c._mouseEventHandler(a)}),m(this.overlaidCanvas,"mouseout",function(a){c._mouseEventHandler(a)}),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(a){c._touchEventHandler(a)}),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(a){c._touchEventHandler(a)}),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(a){c._touchEventHandler(a)}),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(a){c._touchEventHandler(a)}),this._toolTip=new B(this,this._options.toolTip,this.theme),this.layoutManager=new u(this),this.axisY2=this.axisY=this.axisX=this.data=null,this.renderCount=0,this.creditText&&this.creditHref&&(this._creditLink=document.createElement("a"),this._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:3px;top:"+(e-14)+"px;color:dimgrey;text-decoration:none;font-size:10px;font-family:Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),this._creditLink.setAttribute("tabIndex",-1),this._creditLink.setAttribute("href",this.creditHref),this._creditLink.innerHTML=this.creditText,this._creditLink.setAttribute("target","_blank"),this._canvasJSContainer.appendChild(this._creditLink)),this.sessionVariables={axisX:{internalMinimum:null,internalMaximum:null},axisY:{internalMinimum:null,internalMaximum:null},axisY2:{internalMinimum:null,internalMaximum:null}})}}function t(a,b){for(var c=[],d=0;d<a.length;d++)if(0==d)c.push(a[0]);else{var e,f,g;g=d-1,e=0===g?0:g-1,f=g===a.length-1?g:g+1,c[c.length]={x:a[g].x+(a[f].x-a[e].x)/b/3,y:a[g].y+(a[f].y-a[e].y)/b/3},g=d,e=0===g?0:g-1,f=g===a.length-1?g:g+1,c[c.length]={x:a[g].x-(a[f].x-a[e].x)/b/3,y:a[g].y-(a[f].y-a[e].y)/b/3},c[c.length]=a[d]}return c}function u(a){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=0,this.chart=a}function v(a,b){v.parent.constructor.call(this,"TextBlock",b),this.ctx=a,this._isDirty=!0,this._wrappedText=null}function w(a,b){w.parent.constructor.call(this,"Title",b,a.theme),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,"undefined"==typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function x(a,b,c){x.parent.constructor.call(this,"Legend",b,c),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.height=this.width=0,this.orientation=null,this.horizontalSpacing=10,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null}}function y(a,b){y.parent.constructor.call(this,b),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx}function z(a,b,c,d,e){z.parent.constructor.call(this,"DataSeries",b,c),this.chart=a,this.canvas=a.canvas,this._ctx=a.canvas.ctx,this.index=d,this.maxWidthInX=this.noDataPointsInPlotArea=0,this.id=e,this.dataPointIds=[],this.axisY=this.axisX=null,this.axisPlacement=this.getDefaultAxisPlacement(),"undefined"==typeof this._options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function A(a,b,c,d){A.parent.constructor.call(this,"Axis",b,a.theme),this.chart=a,this.canvas=a.canvas,this.ctx=a.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},"axisX"===c?(this.sessionVariables=this.chart.sessionVariables[c],this._options.interval||(this.intervalType=null)):this.sessionVariables="left"===d||"top"===d?this.chart.sessionVariables.axisY:this.chart.sessionVariables.axisY2,"undefined"==typeof this._options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),"undefined"==typeof this._options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=c,b&&"undefined"!=typeof b.gridThickness||(this.gridThickness="axisX"===c?0:1),this._position=d,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:180<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:270<this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this._absoluteMaximum=this._absoluteMinimum=this._titleTextBlock=null,this.hasOptionChanged("minimum")&&(this.sessionVariables.internalMinimum=this.minimum),this.hasOptionChanged("maximum")&&(this.sessionVariables.internalMaximum=this.maximum),this.trackChanges("minimum"),this.trackChanges("maximum")}function B(a,b,c){B.parent.constructor.call(this,"ToolTip",b,c),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._timerId=0,this._prevY=this._prevX=0/0,this._initialize()}function C(a){this.chart=a,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=q(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d")}function D(a,b){var c;b&&G[b]&&(c=G[b]),w.parent.constructor.call(this,"CultureInfo",c,a.theme),this.chart=a,this.canvas=a.canvas,this.ctx=this.chart.ctx}var E=!!document.createElement("canvas").getContext,F={Chart:{width:500,height:400,zoomEnabled:!1,backgroundColor:"white",theme:"theme1",animationEnabled:E?!0:!1,colorSet:"colorSet1",culture:"en"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:5},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,cursor:null,indexLabel:"",indexLabelPlacement:"outside",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"#808080",indexLabelLineThickness:1,lineThickness:2,color:null,startAngle:0,type:"column",xValueType:"number",axisYType:"primary",xValueFormatString:null,yValueFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:null,markerBorderThickness:null,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null},Axis:{minimum:null,maximum:null,interval:null,intervalType:null,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!1,labelWrap:!0,labelMaxWidth:null,prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,gridColor:"A0A0A0",gridThickness:0,interlacedColor:null,valueFormatString:null,margin:2},Legend:{name:null,borderThickness:0,borderColor:"black",cornerRadius:0,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal"},ToolTip:{enabled:!0,borderColor:null,shared:!1,animationEnabled:!0,content:null},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"}},G={en:{}},H={colorSet1:"#369EAD #C24642 #7F6084 #86B402 #A2D1CF #C8B631 #6DBCEB #52514E #4F81BC #A064A1 #F79647".split(" "),colorSet2:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},I={theme1:{Chart:{colorSet:H[0]},Title:{fontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",labelFontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:"monospace, sans-serif,arial black"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}},theme2:{Chart:{colorSet:"colorSet2"},Title:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:32,fontColor:"#333333",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:"monospace, sans-serif,arial black",titleFontWeight:"bold",labelFontFamily:"monospace, Courier New, Courier",labelFontSize:16,labelFontColor:"grey",labelFontWeight:"bold",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:0},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:"monospace, sans-serif,arial black"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:"Courier New, Courier, monospace",indexLabelFontWeight:"bold",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}},theme3:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif",fontSize:32,fontColor:"rgb(68,78,58)",fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:"Verdana, Geneva, Calibri, sans-serif",labelFontFamily:"Calibri, Optima, Candara, Verdana, Geneva, sans-serif",labelFontSize:18,labelFontColor:"grey",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:2,lineColor:"grey"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:"monospace, sans-serif,arial black"},DataSeries:{bevelEnabled:!0,indexLabelFontColor:"grey",indexLabelFontFamily:"Candara, Optima, Calibri, Verdana, Geneva, sans-serif",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}}},J={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},K=function(){var a=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,b="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),c="Sun Mon Tue Wed Thu Fri Sat".split(" "),d="January February March April May June July August September October November December".split(" "),f="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),g=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,h=/[^-+\dA-Z]/g;return function(i,j,k){var l=k?k.days:b,m=k?k.months:d,n=k?k.shortDays:c,o=k?k.shortMonths:f;k="";var p=!1;if(i=i&&i.getTime?i:i?new Date(i):new Date,isNaN(i))throw SyntaxError("invalid date");"UTC:"==j.slice(0,4)&&(j=j.slice(4),p=!0),k=p?"getUTC":"get";var q=i[k+"Date"](),r=i[k+"Day"](),s=i[k+"Month"](),t=i[k+"FullYear"](),u=i[k+"Hours"](),v=i[k+"Minutes"](),w=i[k+"Seconds"](),x=i[k+"Milliseconds"](),y=p?0:i.getTimezoneOffset();return k=j.replace(a,function(a){switch(a){case"D":return q;case"DD":return e(q,2);case"DDD":return n[r];case"DDDD":return l[r];case"M":return s+1;case"MM":return e(s+1,2);case"MMM":return o[s];case"MMMM":return m[s];case"Y":return parseInt(String(t).slice(-2));case"YY":return e(String(t).slice(-2),2);case"YYY":return e(String(t).slice(-3),3);case"YYYY":return e(t,4);case"h":return u%12||12;case"hh":return e(u%12||12,2);case"H":return u;case"HH":return e(u,2);case"m":return v;case"mm":return e(v,2);case"s":return w;case"ss":return e(w,2);case"f":return String(x).slice(0,1);case"ff":return e(String(x).slice(0,2),2);case"fff":return e(String(x).slice(0,3),3);case"t":return 12>u?"a":"p";case"tt":return 12>u?"am":"pm";case"T":return 12>u?"A":"P";case"TT":return 12>u?"AM":"PM";case"K":return p?"UTC":(String(i).match(g)||[""]).pop().replace(h,"");case"z":return(y>0?"-":"+")+Math.floor(Math.abs(y)/60);case"zz":return(y>0?"-":"+")+e(Math.floor(Math.abs(y)/60),2);case"zzz":return(y>0?"-":"+")+e(Math.floor(Math.abs(y)/60),2)+e(Math.abs(y)%60,2);default:return a.slice(1,a.length-1)}})}}(),L=function(a,b,c){a=Number(a);var d=0>a?!0:!1;d&&(a*=-1),decimalSeparator=c?c.decimalSeparator:".",digitGroupSeparator=c?c.digitGroupSeparator:",";var f="";b=String(b);for(var f=1,g=c="",h=-1,i=[],j=[],k=0,l=0,m=0,f=1,n=!1,o=0,g=b.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),p=0;g&&p<g.length;p++)if(b=g[p],"."===b&&0>h)h=p;else{if("%"===b)f*=100;else{if("‰"===b){f*=1e3;continue}if(","===b[0]&&"."===b[b.length-1]){f/=Math.pow(1e3,b.length-1),h=p+b.length-1;continue}"E"!==b[0]&&"e"!==b[0]||"0"!==b[b.length-1]||(n=!0)}0>h?(i.push(b),"#"===b||"0"===b?k++:","===b&&m++):(j.push(b),"#"!==b&&"0"!==b||l++)}for(n&&(b=Math.floor(a),o=(0===b?"":String(b)).length-k,f/=Math.pow(10,o)),0>h&&(h=p),f=(a*f).toFixed(l),b=f.split("."),a=(b[0]+"").split(""),f=(b[1]+"").split(""),a&&"0"===a[0]&&a.shift(),p=n=g=l=h=0;0<i.length;)if(b=i.pop(),"#"===b||"0"===b)if(h++,h===k){var q=a;if(a=[],"0"===b)for(b=k-l-(q?q.length:0);b>0;)q.unshift("0"),b--;for(;0<q.length;)c=q.pop()+c,p++,0===p%n&&g===m&&0<q.length&&(c=digitGroupSeparator+c);d&&(c="-"+c)}else 0<a.length?(c=a.pop()+c,l++,p++):"0"===b&&(c="0"+c,l++,p++),0===p%n&&g===m&&0<a.length&&(c=digitGroupSeparator+c);else"E"!==b[0]&&"e"!==b[0]||"0"!==b[b.length-1]||!/[eE][+-]*[0]+/.test(b)?","===b?(g++,n=p,p=0,0<a.length&&(c=digitGroupSeparator+c)):c=1<b.length&&('"'===b[0]&&'"'===b[b.length-1]||"'"===b[0]&&"'"===b[b.length-1])?b.slice(1,b.length-1)+c:b+c:(b=0>o?b.replace("+","").replace("-",""):b.replace("-",""),c+=b.replace(/[0]+/,function(a){return e(o,a.length)}));for(d=0;0<j.length;)b=j.shift(),"#"===b||"0"===b?0<f.length&&0!==Number(f.join(""))?c+=(0===d++?decimalSeparator:"")+f.shift():"0"===b&&(c+=(0===d++?decimalSeparator:"")+"0"):1<b.length&&('"'===b[0]&&'"'===b[b.length-1]||"'"===b[0]&&"'"===b[b.length-1])?c+=(0===d++?decimalSeparator:"")+b.slice(1,b.length-1):"E"!==b[0]&&"e"!==b[0]||"0"!==b[b.length-1]||!/[eE][+-]*[0]+/.test(b)?c+=(0===d++?decimalSeparator:"")+b:(b=0>o?b.replace("+","").replace("-",""):b.replace("-",""),c+=b.replace(/[0]+/,function(a){return e(o,a.length)}));return c},M=function(a){var b=0,c=0;return a||(a=window.event),a.offsetX||0===a.offsetX?(b=a.offsetX,c=a.offsetY):a.layerX||0==a.layerX?(b=a.layerX,c=a.layerY):(b=a.pageX-a.target.offsetLeft,c=a.pageY-a.target.offsetTop),{x:b,y:c}},N=!0,O=window.devicePixelRatio||1,P=1,Q=N?O/P:1;r.prototype.setOptions=function(a,b){if(F[this._defaultsKey]){var c=F[this._defaultsKey];for(prop in c)this[prop]=a&&prop in a?a[prop]:b&&prop in b?b[prop]:c[prop]}},r.prototype.trackChanges=function(a){this._options._oldOptions||(this._options._oldOptions={}),this._options._oldOptions[a]=this._options[a]},r.prototype.isBeingTracked=function(a){return this._options._oldOptions||(this._options._oldOptions={}),this._options._oldOptions[a]?!0:!1},r.prototype.hasOptionChanged=function(a){return this._options._oldOptions||(this._options._oldOptions={}),this._options._oldOptions[a]!==this._options[a]},a(s,r),s.prototype._initialize=function(){this._selectedColorSet="undefined"!=typeof H[this.colorSet]?H[this.colorSet]:H.colorSet1,this.ctx.clearRect(0,0,this.width,this.height),this.ctx.beginPath(),this.axisY2=this.axisY=this.axisX=null,this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,axisXValueType:null,plotTypes:[]},this.layoutManager.reset(),this._cultureInfo=new D(this,this._options.culture),this.data=[];for(var a=0,b=0;b<this._options.data.length;b++)if(a++,!this._options.data[b].type||0<=s._supportedChartTypes.indexOf(this._options.data[b].type)){var c=new z(this,this._options.data[b],this.theme,a-1,++this._eventManager.lastObjectId);null===c.name&&(c.name="DataSeries "+a),null===c.color?1<this._options.data.length?(c._colorSet=[this._selectedColorSet[c.index%this._selectedColorSet.length]],c.color=this._selectedColorSet[c.index%this._selectedColorSet.length]):c._colorSet="line"===c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"splineArea"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type?[this._selectedColorSet[0]]:this._selectedColorSet:c._colorSet=[c.color],null===c.markerSize&&(("line"===c.type||"stepLine"===c.type||"spline"===c.type)&&c.dataPoints.length<this.width/16||"scatter"===c.type)&&(c.markerSize=8),"bubble"!==c.type&&"scatter"!==c.type||c.dataPoints.sort(j),this.data.push(c);var d,e=c.axisPlacement;if("normal"===e?"xySwapped"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===e?"normal"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"==e&&("normal"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?d='You cannot combine "'+c.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none")),d&&window.console)return window.console.log(d),void 0}this._objectsInitialized=!0},s._supportedChartTypes="line stepLine spline column area splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 pie doughnut".split(" "),s._supportedChartTypes.indexOf||(s._supportedChartTypes.indexOf=function(a,b){var c=this.length>>>0,d=Number(b)||0,d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=c);c>d;d++)if(d in this&&this[d]===a)return d;return-1}),s.prototype.render=function(){this._initialize();for(var a=0;a<this.data.length;a++)("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&(this.data[a].axisYType&&"primary"!==this.data[a].axisYType?"secondary"===this.data[a].axisYType&&(this.axisY2||("normal"===this.plotInfo.axisPlacement?this.axisY2=new A(this,this._options.axisY2,"axisY","right"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY2=new A(this,this._options.axisY2,"axisY","top"))),this.data[a].axisY=this.axisY2):(this.axisY||("normal"===this.plotInfo.axisPlacement?this.axisY=new A(this,this._options.axisY,"axisY","left"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY=new A(this,this._options.axisY,"axisY","bottom"))),this.data[a].axisY=this.axisY),this.axisX||("normal"===this.plotInfo.axisPlacement?this.axisX=new A(this,this._options.axisX,"axisX","bottom"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisX=new A(this,this._options.axisX,"axisX","left"))),this.data[a].axisX=this.axisX);for(this._processData(),this._options.title&&(this._title=new w(this,this._options.title),this._title.render()),this.legend=new x(this,this._options.legend,this.theme),a=0;a<this.data.length;a++)this.data[a].showInLegend&&this.legend.dataSeries.push(this.data[a]);if(this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)this.layoutManager.getFreeSpace(),A.setLayoutAndRender(this.axisX,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace());else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(a=0;a<this.plotInfo.plotTypes.length;a++)for(var b=this.plotInfo.plotTypes[a],c=0;c<b.plotUnits.length;c++){var d=b.plotUnits[c];"line"===d.type?this.renderLine(d):"stepLine"===d.type?this.renderStepLine(d):"spline"===d.type?this.renderSpline(d):"column"===d.type?this.renderColumn(d):"bar"===d.type?this.renderBar(d):"area"===d.type?this.renderArea(d):"splineArea"===d.type?this.renderSplineArea(d):"stackedColumn"===d.type?this.renderStackedColumn(d):"stackedColumn100"===d.type?this.renderStackedColumn100(d):"stackedBar"===d.type?this.renderStackedBar(d):"stackedBar100"===d.type?this.renderStackedBar100(d):"stackedArea"===d.type?this.renderStackedArea(d):"stackedArea100"===d.type?this.renderStackedArea100(d):"bubble"===d.type?this.renderBubble(d):"scatter"===d.type?this.renderScatter(d):"pie"===d.type?this.renderPie(d):"doughnut"===d.type&&this.renderPie(d);for(var e=0;e<d.dataSeriesIndexes.length;e++)this._dataInRenderedOrder.push(this.data[d.dataSeriesIndexes[e]])}0<this._indexLabels.length&&this.renderIndexLabels(),this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||"none"===this._toolBar.style.display||(this._toolBar.style.display="none"),this._toolTip._updateToolTip(),this.renderCount++},s.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.zoomEnabled?"col-resize":"move",cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},s.prototype.categoriseDataSeries=function(){for(var a="",b=0;b<this.data.length;b++)if(a=this.data[b],a.dataPoints&&0!==a.dataPoints.length&&0<=s._supportedChartTypes.indexOf(a.type)){for(var c=null,d=!1,e=null,f=!1,g=0;g<this.plotInfo.plotTypes.length;g++)if(this.plotInfo.plotTypes[g].type===a.type){d=!0,c=this.plotInfo.plotTypes[g];break}for(d||(c={type:a.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(c)),g=0;g<c.plotUnits.length;g++)if(c.plotUnits[g].axisYType===a.axisYType){f=!0,e=c.plotUnits[g];break}f||(e={type:a.type,previousDataSeriesCount:0,index:c.plotUnits.length,plotType:c,axisYType:a.axisYType,axisY:"primary"===a.axisYType?this.axisY:this.axisY2,axisX:this.axisX,dataSeriesIndexes:[]},c.plotUnits.push(e)),c.totalDataSeries++,e.dataSeriesIndexes.push(b)}for(b=0;b<this.plotInfo.plotTypes.length;b++)for(c=this.plotInfo.plotTypes[b],g=a=0;g<c.plotUnits.length;g++)c.plotUnits[g].previousDataSeriesCount=a,a+=c.plotUnits[g].dataSeriesIndexes.length},s.prototype.assignIdToDataPoints=function(){for(var a=0;a<this.data.length;a++)for(var b=this.data[a],c=b.dataPoints.length,d=0;c>d;d++)b.dataPointIds[d]=++this._eventManager.lastObjectId},s.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var a=0;a<this.plotInfo.plotTypes.length;a++)for(var b=this.plotInfo.plotTypes[a],c=0;c<b.plotUnits.length;c++){var d=b.plotUnits[c];"line"===d.type||"stepLine"===d.type||"spline"===d.type||"column"===d.type||"area"===d.type||"splineArea"===d.type||"bar"===d.type||"bubble"===d.type||"scatter"===d.type?this._processMultiseriesPlotUnit(d):"stackedColumn"===d.type||"stackedBar"===d.type||"stackedArea"===d.type?this._processStackedPlotUnit(d):"stackedColumn100"!==d.type&&"stackedBar100"!==d.type&&"stackedArea100"!==d.type||this._processStacked100PlotUnit(d)}},s.prototype._processMultiseriesPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length))for(var b,c,d=a.axisY.dataInfo,e=a.axisX.dataInfo,f=!1,g=0;g<a.dataSeriesIndexes.length;g++){var h=this.data[a.dataSeriesIndexes[g]],i=0,j=!1,k=!1;if("normal"===h.axisPlacement||"xySwapped"===h.axisPlacement)var l=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-1/0,m=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((h.dataPoints[i].x&&h.dataPoints[i].x.getTime||"dateTime"===h.xValueType)&&(f=!0),i=0;i<h.dataPoints.length;i++){if("undefined"==typeof h.dataPoints[i].x&&(h.dataPoints[i].x=i),h.dataPoints[i].x.getTime?(f=!0,b=h.dataPoints[i].x.getTime()):b=h.dataPoints[i].x,c=h.dataPoints[i].y,b<e.min&&(e.min=b),b>e.max&&(e.max=b),c<d.min&&(d.min=c),c>d.max&&(d.max=c),i>0){var n=b-h.dataPoints[i-1].x;0>n&&(n*=-1),e.minDiff>n&&0!==n&&(e.minDiff=n)}if(!(l>b)||j){if(!j&&(j=!0,i>0)){i-=2;continue}if(b>m&&!k)k=!0;else if(b>m&&k)continue;h.dataPoints[i].label&&(a.axisX.labels[b]=h.dataPoints[i].label),b<e.viewPortMin&&(e.viewPortMin=b),b>e.viewPortMax&&(e.viewPortMax=b),c<d.viewPortMin&&(d.viewPortMin=c),c>d.viewPortMax&&(d.viewPortMax=c)}}this.plotInfo.axisXValueType=h.xValueType=f?"dateTime":"number"}},s.prototype._processStackedPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var b,c,d=a.axisY.dataInfo,e=a.axisX.dataInfo,f=!1,g=[],h=[],i=0;i<a.dataSeriesIndexes.length;i++){var j=this.data[a.dataSeriesIndexes[i]],k=0,l=!1,m=!1;if("normal"===j.axisPlacement||"xySwapped"===j.axisPlacement)var n=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-1/0,o=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((j.dataPoints[k].x&&j.dataPoints[k].x.getTime||"dateTime"===j.xValueType)&&(f=!0),k=0;k<j.dataPoints.length;k++){if("undefined"==typeof j.dataPoints[k].x&&(j.dataPoints[k].x=k),j.dataPoints[k].x.getTime?(f=!0,b=j.dataPoints[k].x.getTime()):b=j.dataPoints[k].x,c=j.dataPoints[k].y,b<e.min&&(e.min=b),b>e.max&&(e.max=b),k>0){var p=b-j.dataPoints[k-1].x;0>p&&(p*=-1),e.minDiff>p&&0!==p&&(e.minDiff=p)}if(!(n>b)||l){if(!l&&(l=!0,k>0)){k-=2;continue}if(b>o&&!m)m=!0;else if(b>o&&m)continue;j.dataPoints[k].label&&(a.axisX.labels[b]=j.dataPoints[k].label),b<e.viewPortMin&&(e.viewPortMin=b),b>e.viewPortMax&&(e.viewPortMax=b),c>=0?g[b]=g[b]?g[b]+c:c:h[b]=h[b]?h[b]+c:c}}this.plotInfo.axisXValueType=j.xValueType=f?"dateTime":"number"}for(k in g)isNaN(k)||(a=g[k],a<d.min&&(d.min=a),a>d.max&&(d.max=a),k<e.viewPortMin||k>e.viewPortMax||(a<d.viewPortMin&&(d.viewPortMin=a),a>d.viewPortMax&&(d.viewPortMax=a)));for(k in h)isNaN(k)||(a=h[k],a<d.min&&(d.min=a),a>d.max&&(d.max=a),k<e.viewPortMin||k>e.viewPortMax||(a<d.viewPortMin&&(d.viewPortMin=a),a>d.viewPortMax&&(d.viewPortMax=a)))}},s.prototype._processStacked100PlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var b,c,d=a.axisY.dataInfo,e=a.axisX.dataInfo,f=!1,g=!1,h=!1,i=[],j=0;j<a.dataSeriesIndexes.length;j++){var k=this.data[a.dataSeriesIndexes[j]],l=0,m=!1,n=!1;if("normal"===k.axisPlacement||"xySwapped"===k.axisPlacement)var o=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-1/0,p=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:1/0;for((k.dataPoints[l].x&&k.dataPoints[l].x.getTime||"dateTime"===k.xValueType)&&(f=!0),l=0;l<k.dataPoints.length;l++){if("undefined"==typeof k.dataPoints[l].x&&(k.dataPoints[l].x=l),k.dataPoints[l].x.getTime?(f=!0,b=k.dataPoints[l].x.getTime()):b=k.dataPoints[l].x,c=k.dataPoints[l].y,b<e.min&&(e.min=b),b>e.max&&(e.max=b),l>0){var q=b-k.dataPoints[l-1].x;0>q&&(q*=-1),e.minDiff>q&&0!==q&&(e.minDiff=q)}if(!(o>b)||m){if(!m&&(m=!0,l>0)){l-=2;continue}if(b>p&&!n)n=!0;else if(b>p&&n)continue;k.dataPoints[l].label&&(a.axisX.labels[b]=k.dataPoints[l].label),b<e.viewPortMin&&(e.viewPortMin=b),b>e.viewPortMax&&(e.viewPortMax=b),c>=0?g=!0:h=!0,i[b]=i[b]?i[b]+Math.abs(c):Math.abs(c)}}this.plotInfo.axisXValueType=k.xValueType=f?"dateTime":"number"}g&&!h?(d.max=99,d.min=1):g&&h?(d.max=99,d.min=-99):!g&&h&&(d.max=-1,d.min=-99),d.viewPortMin=d.min,d.viewPortMax=d.max,a.dataPointYSums=i}},s.prototype.getDataPointAtXY=function(a,b,c){c=c||!1;for(var d=[],e=this._dataInRenderedOrder.length-1;e>=0;e--){var f=null;(f=this._dataInRenderedOrder[e].getDataPointAtXY(a,b,c))&&d.push(f)}for(a=null,b=!1,c=0;c<d.length;c++)if(("line"===d[c].dataSeries.type||"stepLine"===d[c].dataSeries.type||"area"===d[c].dataSeries.type)&&(e=o("markerSize",d[c].dataPoint,d[c].dataSeries)||8,d[c].distance<=e/2)){b=!0;break}for(c=0;c<d.length;c++)b&&"line"!==d[c].dataSeries.type&&"stepLine"!==d[c].dataSeries.type&&"area"!==d[c].dataSeries.type||(a?d[c].distance<=a.distance&&(a=d[c]):a=d[c]);return a},s.prototype.getAutoFontSize=function(a){return a/=400,Math.min(this.width,this.height)*a},s.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},s.prototype.attachEvent=function(a){this._events.push(a)},s.prototype._touchEventHandler=function(a){if(a.changedTouches){var b=[];switch(first=(b=a.changedTouches)?b[0]:a,a.type){case"touchstart":case"MSPointerDown":b=["mousemove","mousedown"];break;case"touchmove":case"MSPointerMove":b=["mousemove"];break;case"touchend":case"MSPointerUp":b="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType?["mouseup","click"]:["mouseup"];break;default:return}this._lastTouchEventType=a.type;for(var c=0;c<b.length;c++){var d=b[c],e=document.createEvent("MouseEvent");e.initMouseEvent(d,!0,!0,window,1,first.screenX,first.screenY,first.clientX,first.clientY,!1,!1,!1,!1,0,null),first.target.dispatchEvent(e),a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault()}}},s.prototype._mouseEventHandler=function(a){a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault(),"undefined"==typeof a.target&&a.srcElement&&(a.target=a.srcElement);
var b,c,d=M(a),e=a.type;if(a.which?c=3==a.which:a.button&&(c=2==a.button),!c){if(s.capturedEventParam)b=s.capturedEventParam,"mouseup"===e&&(s.capturedEventParam=null,b.chart.overlaidCanvas.releaseCapture?b.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",b.chart._mouseEventHandler,!1)),b.hasOwnProperty(e)&&b[e].call(b.context,d.x,d.y);else if(this._events){for(c=0;c<this._events.length;c++)if(this._events[c].hasOwnProperty(e)){b=this._events[c];var f=b.bounds;if(d.x>=f.x1&&d.x<=f.x2&&d.y>=f.y1&&d.y<=f.y2){b[e].call(b.context,d.x,d.y),"mousedown"===e&&!0===b.capture?(s.capturedEventParam=b,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.body.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===e&&(b.chart.overlaidCanvas.releaseCapture?b.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",this._mouseEventHandler,!1));break}b=null}a.target.style.cursor=b&&b.cursor?b.cursor:this._defaultCursor}this._toolTip&&this._toolTip.enabled&&(e=this.plotArea,(d.x<e.x1||d.x>e.x2||d.y<e.y1||d.y>e.y2)&&this._toolTip.hide()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(a)}},s.prototype._plotAreaMouseDown=function(a,b){this.isDrag=!0,this.dragStartPoint="none"!==this.plotInfo.axisPlacement?{x:a,y:b,xMinimum:this.axisX.minimum,xMaximum:this.axisX.maximum}:{x:a,y:b}},s.prototype._plotAreaMouseUp=function(a,b){var c,d;if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var e=0,e=this.axisX.lineCoordinates,e="xySwapped"===this.plotInfo.axisPlacement?b-this.dragStartPoint.y:this.dragStartPoint.x-a;if(Math.abs(this.axisX.maximum-this.axisX.minimum),2<Math.abs(e)){if(this.panEnabled)e=!1,d=0,this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum?(d=this.axisX._absoluteMinimum-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=d,this.axisX.sessionVariables.internalMaximum+=d,e=!0):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum&&(d=this.axisX.sessionVariables.internalMaximum-this.axisX._absoluteMaximum,this.axisX.sessionVariables.internalMaximum-=d,this.axisX.sessionVariables.internalMinimum-=d,e=!0),e&&this.render();else if(this.zoomEnabled){if(this.resetOverlayedCanvas(),!this.dragStartPoint)return;"xySwapped"===this.plotInfo.axisPlacement?(c=Math.min(this.dragStartPoint.y,b),d=Math.max(this.dragStartPoint.y,b),1<Math.abs(c-d)&&(e=this.axisX.lineCoordinates,d=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/e.height*(d-e.y1),e=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/e.height*(c-e.y1),d=Math.max(d,this.axisX.dataInfo.min),e=Math.min(e,this.axisX.dataInfo.max),Math.abs((e-d)/this.axisX.dataInfo.minDiff)>=.008*this.height&&(this.axisX.sessionVariables.internalMinimum=d,this.axisX.sessionVariables.internalMaximum=e,this.render()))):"normal"===this.plotInfo.axisPlacement&&(d=Math.min(this.dragStartPoint.x,a),c=Math.max(this.dragStartPoint.x,a),1<Math.abs(d-c)&&(e=this.axisX.lineCoordinates,d=(this.axisX.maximum-this.axisX.minimum)/e.width*(d-e.x1)+this.axisX.minimum,e=(this.axisX.maximum-this.axisX.minimum)/e.width*(c-e.x1)+this.axisX.minimum,d=Math.max(d,this.axisX.dataInfo.min),e=Math.min(e,this.axisX.dataInfo.max),Math.abs((e-d)/this.axisX.dataInfo.minDiff)>=.01*this.width&&(this.axisX.sessionVariables.internalMinimum=d,this.axisX.sessionVariables.internalMaximum=e,this.render())))}this.zoomEnabled&&"none"===this._toolBar.style.display&&(this._toolBar.style.display="inline",this._zoomButton.innerHTML=this._cultureInfo.panText,this._resetButton.innerHTML=this._cultureInfo.resetText)}}this.isDrag=!1},s.prototype._plotAreaMouseMove=function(a,b){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var c=0,e=0,e=this.axisX.lineCoordinates;if("xySwapped"===this.plotInfo.axisPlacement?(c=b-this.dragStartPoint.y,e=Math.abs(this.axisX.maximum-this.axisX.minimum)/e.height*c):(c=this.dragStartPoint.x-a,e=Math.abs(this.axisX.maximum-this.axisX.minimum)/e.width*c),2<Math.abs(c)&&8>Math.abs(c)&&(this.panEnabled||this.zoomEnabled)?this._toolTip.hide():!this._toolTip.enabled||this.panEnabled||this.zoomEnabled||this._toolTip.mouseMoveHandler(a,b),2<Math.abs(c)&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled){this.axisX.sessionVariables.internalMinimum=this.dragStartPoint.xMinimum+e,this.axisX.sessionVariables.internalMaximum=this.dragStartPoint.xMaximum+e,c=0,this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum-d(this.axisX.interval,this.axisX.intervalType)?(c=this.axisX._absoluteMinimum-d(this.axisX.interval,this.axisX.intervalType)-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=c,this.axisX.sessionVariables.internalMaximum+=c):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum+d(this.axisX.interval,this.axisX.intervalType)&&(c=this.axisX.sessionVariables.internalMaximum-(this.axisX._absoluteMaximum+d(this.axisX.interval,this.axisX.intervalType)),this.axisX.sessionVariables.internalMaximum-=c,this.axisX.sessionVariables.internalMinimum-=c);var f=this;clearTimeout(this._panTimerId),this._panTimerId=setTimeout(function(){f.render()},0)}else this.zoomEnabled&&(c=this.plotArea,this.resetOverlayedCanvas(),e=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillStyle="#A0ABB8","xySwapped"===this.plotInfo.axisPlacement?this.overlaidCanvasCtx.fillRect(c.x1,this.dragStartPoint.y,c.x2-c.x1,b-this.dragStartPoint.y):"normal"===this.plotInfo.axisPlacement&&this.overlaidCanvasCtx.fillRect(this.dragStartPoint.x,c.y1,a-this.dragStartPoint.x,c.y2-c.y1),this.overlaidCanvasCtx.globalAlpha=e)}else this._toolTip.enabled&&this._toolTip.mouseMoveHandler(a,b)},s.prototype.preparePlotArea=function(){var a=this.plotArea,b=this.axisY?this.axisY:this.axisY2;!E&&(0<a.x1||0<a.y1)&&a.ctx.translate(a.x1,a.y1),this.axisX&&b?(a.x1=this.axisX.lineCoordinates.x1<this.axisX.lineCoordinates.x2?this.axisX.lineCoordinates.x1:b.lineCoordinates.x1,a.y1=this.axisX.lineCoordinates.y1<b.lineCoordinates.y1?this.axisX.lineCoordinates.y1:b.lineCoordinates.y1,a.x2=this.axisX.lineCoordinates.x2>b.lineCoordinates.x2?this.axisX.lineCoordinates.x2:b.lineCoordinates.x2,a.y2=this.axisX.lineCoordinates.y2>this.axisX.lineCoordinates.y1?this.axisX.lineCoordinates.y2:b.lineCoordinates.y2,a.width=a.x2-a.x1,a.height=a.y2-a.y1):(b=this.layoutManager.getFreeSpace(),a.x1=b.x1,a.x2=b.x2,a.y1=b.y1,a.y2=b.y2,a.width=b.width,a.height=b.height),E||(a.canvas.width=a.width,a.canvas.height=a.height,a.canvas.style.left=a.x1+"px",a.canvas.style.top=a.y1+"px",(0<a.x1||0<a.y1)&&a.ctx.translate(-a.x1,-a.y1))},s.prototype.getPixelCoordinatesOnPlotArea=function(a,b){return{x:this.axisX.getPixelCoordinatesOnAxis(a).x,y:this.axisY.getPixelCoordinatesOnAxis(b).y}},s.prototype.renderIndexLabels=function(){var a=this.plotArea.ctx;a.textBaseline="middle";for(var b=this.plotArea,c=0;c<this._indexLabels.length;c++){var d,e,f,g=this._indexLabels[c];a.fillStyle=o("indexLabelFontColor",g.dataPoint,g.dataSeries),f=a;var h=g.dataPoint,i=g.dataSeries,j="",j=j+(h.indexLabelFontStyle?h.indexLabelFontStyle+" ":i&&i.indexLabelFontStyle?i.indexLabelFontStyle+" ":""),j=j+(h.indexLabelFontWeight?h.indexLabelFontWeight+" ":i&&i.indexLabelFontWeight?i.indexLabelFontWeight+" ":""),j=j+(h.indexLabelFontSize?h.indexLabelFontSize+"px ":i&&i.indexLabelFontSize?i.indexLabelFontSize+"px ":""),j=j+(h.indexLabelFontFamily?h.indexLabelFontFamily+" ":i&&i.indexLabelFontFamily?i.indexLabelFontFamily+" ":"");f.font=j;var h=this.replaceKeywordsWithValue(o("indexLabel",g.dataPoint,g.dataSeries),g.dataPoint,g.dataSeries),i=a.measureText(h).width,j=o("indexLabelFontSize",g.dataPoint,g.dataSeries),k=o("indexLabelPlacement",g.dataPoint,g.dataSeries),l=o("indexLabelOrientation",g.dataPoint,g.dataSeries),m=f=0,n=0,p=0,q=0;g.point.x<b.x1||g.point.x>b.x2||g.point.y<b.y1||g.point.y>b.y2||("column"===g.chartType||"stackedColumn"===g.chartType||"stackedColumn100"===g.chartType||"bar"===g.chartType||"stackedBar"===g.chartType||"stackedBar100"===g.chartType?(Math.abs(g.bounds.x1,g.bounds.x2),Math.abs(g.bounds.y1,g.bounds.y2),"normal"===this.plotInfo.axisPlacement?("outside"===k?(m=b.y1,n=b.y2):"inside"===k&&(m=g.bounds.y1,n=g.bounds.y2),"horizontal"===l?(d=g.point.x-i/2,e=0<=g.dataPoint.y?Math.min(Math.max(g.point.y-j/2-5,m+j/2+5),n-j/2-5):Math.max(Math.min(g.point.y+j/2+5,n-j/2),m+j/2+5)):"vertical"===l&&(d=g.point.x,e=0<=g.dataPoint.y?Math.min(Math.max(g.point.y-5,m+i+5),n):Math.max(Math.min(g.point.y+i+5,n-5),m),f=-90)):"xySwapped"===this.plotInfo.axisPlacement&&("outside"===k?(p=b.x1,q=b.x2):"inside"===k&&(p=g.bounds.x1,q=g.bounds.x2),"horizontal"===l?(e=g.point.y,d=0<=g.dataPoint.y?Math.max(Math.min(g.point.x+5,q-i),p):Math.min(Math.max(g.point.x-i-5,p),q)):"vertical"===l&&(e=g.point.y+i/2,d=0<=g.dataPoint.y?Math.max(Math.min(g.point.x+j/2+5,q-j/2),p):Math.min(Math.max(g.point.x-j/2-5,p+j/2),q+j/2),f=-90))):"horizontal"===l?(d=g.point.x-i/2,e=0<=g.dataPoint.y?Math.max(g.point.y-j/2-5,b.y1+j/2):Math.min(g.point.y+j/2+5,b.y2-j/2)):"vertical"===l&&(d=g.point.x,e=0<=g.dataPoint.y?Math.max(g.point.y-5,b.y1+i):Math.min(g.point.y+i+5,b.y2),f=-90),a.save(),a.translate(d,e),a.rotate(Math.PI/180*f),a.fillText(h,0,0),a.restore())}},s.prototype.renderLine=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;b.save();var d=this.plotArea;b.beginPath(),b.rect(d.x1,d.y1,d.width,d.height),b.clip();for(var d=[],e=0;e<a.dataSeriesIndexes.length;e++){var f=a.dataSeriesIndexes[e],g=this.data[f];b.lineWidth=g.lineThickness;var h=g.dataPoints,i=g.id;this._eventManager.objectMap[i]={objectType:"dataSeries",dataSeriesIndex:f},i=k(i),c.strokeStyle=i,c.lineWidth=0<g.lineThickness?Math.max(g.lineThickness,4):0,colorSet=g._colorSet,color=colorSet[0],b.strokeStyle=color;var j,l,i=!0,m=0;if(0<h.length){for(m=0;m<h.length;m++)if(j=h[m].getTime?h[m].x.getTime():h[m].x,!(j<a.axisX.dataInfo.viewPortMin||j>a.axisX.dataInfo.viewPortMax)&&"number"==typeof h[m].y){j=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(j-a.axisX.convertionParameters.minimum)+.5<<0,l=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(h[m].y-a.axisY.convertionParameters.minimum)+.5<<0;var n=g.dataPointIds[m];if(this._eventManager.objectMap[n]={objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:m,x1:j,y1:l},i?(b.beginPath(),b.moveTo(j,l),E&&(c.beginPath(),c.moveTo(j,l)),i=!1):(b.lineTo(j,l),E&&c.lineTo(j,l),0==m%500&&(b.stroke(),b.beginPath(),b.moveTo(j,l),E&&(c.stroke(),c.beginPath(),c.moveTo(j,l)))),0<h[m].markerSize||0<g.markerSize){var o=g.getMarkerProperties(m,j,l,b);d.push(o),(!g.maxWidthInX||o.size>g.maxWidthInX)&&(g.maxWidthInX=o.size/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit)),n=k(n),E&&d.push({x:j,y:l,ctx:c,type:o.type,size:o.size,color:n,borderColor:n,borderThickness:o.borderThickness})}(h[m].indexLabel||g.indexLabel)&&this._indexLabels.push({chartType:"line",dataPoint:h[m],dataSeries:g,point:{x:j,y:l},color:color})}b.stroke(),E&&c.stroke()}}T.drawMarkers(d),b.restore(),b.beginPath(),E&&c.beginPath()}},s.prototype.renderStepLine=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;b.save();var d=this.plotArea;b.beginPath(),b.rect(d.x1,d.y1,d.width,d.height),b.clip();for(var d=[],e=0;e<a.dataSeriesIndexes.length;e++){var f=a.dataSeriesIndexes[e],g=this.data[f];b.lineWidth=g.lineThickness;var h=g.dataPoints,i=g.id;this._eventManager.objectMap[i]={objectType:"dataSeries",dataSeriesIndex:f},i=k(i),c.strokeStyle=i,c.lineWidth=0<g.lineThickness?Math.max(g.lineThickness,4):0,colorSet=g._colorSet,color=colorSet[0],b.strokeStyle=color;var j,l,i=!0,m=0;if(0<h.length){for(m=0;m<h.length;m++)if(j=h[m].getTime?h[m].x.getTime():h[m].x,!(j<a.axisX.dataInfo.viewPortMin||j>a.axisX.dataInfo.viewPortMax)&&"number"==typeof h[m].y){var n=l;j=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(j-a.axisX.convertionParameters.minimum)+.5<<0,l=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(h[m].y-a.axisY.convertionParameters.minimum)+.5<<0;var o=g.dataPointIds[m];this._eventManager.objectMap[o]={objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:m,x1:j,y1:l},i?(b.beginPath(),b.moveTo(j,l),E&&(c.beginPath(),c.moveTo(j,l)),i=!1):(b.lineTo(j,n),E&&c.lineTo(j,n),b.lineTo(j,l),E&&c.lineTo(j,l),0==m%500&&(b.stroke(),b.beginPath(),b.moveTo(j,l),E&&(c.stroke(),c.beginPath(),c.moveTo(j,l)))),(0<h[m].markerSize||0<g.markerSize)&&(n=g.getMarkerProperties(m,j,l,b),d.push(n),(!g.maxWidthInX||n.size>g.maxWidthInX)&&(g.maxWidthInX=n.size/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit)),o=k(o),E&&d.push({x:j,y:l,ctx:c,type:n.type,size:n.size,color:o,borderColor:o,borderThickness:n.borderThickness})),(h[m].indexLabel||g.indexLabel)&&this._indexLabels.push({chartType:"stepLine",dataPoint:h[m],dataSeries:g,point:{x:j,y:l},color:color})}b.stroke(),E&&c.stroke()}}T.drawMarkers(d),b.restore(),b.beginPath(),E&&c.beginPath()}},s.prototype.renderSpline=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;b.save();var d=this.plotArea;b.beginPath(),b.rect(d.x1,d.y1,d.width,d.height),b.clip();for(var d=[],e=0;e<a.dataSeriesIndexes.length;e++){var f=a.dataSeriesIndexes[e],g=this.data[f];b.lineWidth=g.lineThickness;var h=g.dataPoints,i=g.id;this._eventManager.objectMap[i]={objectType:"dataSeries",dataSeriesIndex:f},i=k(i),c.strokeStyle=i,c.lineWidth=0<g.lineThickness?Math.max(g.lineThickness,4):0,colorSet=g._colorSet,color=colorSet[0],b.strokeStyle=color;var j,l,i=0,m=[];if(0<h.length)for(i=0;i<h.length;i++)if(j=h[i].getTime?h[i].x.getTime():h[i].x,!(j<a.axisX.dataInfo.viewPortMin||j>a.axisX.dataInfo.viewPortMax)&&"number"==typeof h[i].y){j=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(j-a.axisX.convertionParameters.minimum)+.5<<0,l=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(h[i].y-a.axisY.convertionParameters.minimum)+.5<<0;var n=g.dataPointIds[i];if(this._eventManager.objectMap[n]={objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:i,x1:j,y1:l},m[m.length]={x:j,y:l},0<h[i].markerSize||0<g.markerSize){var o=g.getMarkerProperties(i,j,l,b);d.push(o),(!g.maxWidthInX||o.size>g.maxWidthInX)&&(g.maxWidthInX=o.size/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit)),n=k(n),E&&d.push({x:j,y:l,ctx:c,type:o.type,size:o.size,color:n,borderColor:n,borderThickness:o.borderThickness})}(h[i].indexLabel||g.indexLabel)&&this._indexLabels.push({chartType:"spline",dataPoint:h[i],dataSeries:g,point:{x:j,y:l},color:color})}if(f=t(m,2),0<f.length){for(b.beginPath(),E&&c.beginPath(),b.moveTo(f[0].x,f[0].y),E&&c.moveTo(f[0].x,f[0].y),i=0;i<f.length-3;i+=3)b.bezierCurveTo(f[i+1].x,f[i+1].y,f[i+2].x,f[i+2].y,f[i+3].x,f[i+3].y),E&&c.bezierCurveTo(f[i+1].x,f[i+1].y,f[i+2].x,f[i+2].y,f[i+3].x,f[i+3].y),i>0&&0===i%3e3&&(b.stroke(),b.beginPath(),b.moveTo(f[i+3].x,f[i+3].y),E&&(c.stroke(),c.beginPath(),c.moveTo(f[i+3].x,f[i+3].y)));b.stroke(),E&&c.stroke()}}T.drawMarkers(d),b.restore(),b.beginPath(),E&&c.beginPath()}};var R=function(a,b,c,d,e,f,g,h,i,j){var k=d-b>15&&e-c>15?8:.35*Math.min(d-b,e-c);color2="rgba(255, 255, 255, .4)",color3="rgba(255, 255, 255, 0.1)",color1=f,a.beginPath(),a.moveTo(b,c),a.save(),a.fillStyle=color1,a.fillRect(b,c,d-b,e-c),a.restore(),!0===g&&(a.save(),a.beginPath(),a.moveTo(b,c),a.lineTo(b+k,c+k),a.lineTo(d-k,c+k),a.lineTo(d,c),a.closePath(),f=a.createLinearGradient((d+b)/2,c+k,(d+b)/2,c),f.addColorStop(0,color1),f.addColorStop(1,color2),a.fillStyle=f,a.fill(),a.restore()),!0===h&&(a.save(),a.beginPath(),a.moveTo(b,e),a.lineTo(b+k,e-k),a.lineTo(d-k,e-k),a.lineTo(d,e),a.closePath(),f=a.createLinearGradient((d+b)/2,e-k,(d+b)/2,e),f.addColorStop(0,color1),f.addColorStop(1,color2),a.fillStyle=f,a.fill(),a.restore()),!0===i&&(a.save(),a.beginPath(),a.moveTo(b,c),a.lineTo(b+k,c+k),a.lineTo(b+k,e-k),a.lineTo(b,e),a.closePath(),f=a.createLinearGradient(b+k,(e+c)/2,b,(e+c)/2),f.addColorStop(0,color1),f.addColorStop(1,color3),a.fillStyle=f,a.fill(),a.restore()),!0===j&&(a.save(),a.beginPath(),a.moveTo(d,c),a.lineTo(d-k,c+k),a.lineTo(d-k,e-k),a.lineTo(d,e),f=a.createLinearGradient(d-k,(e+c)/2,d,(e+c)/2),f.addColorStop(0,color1),f.addColorStop(1,color3),a.fillStyle=f,f.addColorStop(0,color1),f.addColorStop(1,color3),a.fillStyle=f,a.fill(),a.closePath(),a.restore())};s.prototype.renderColumn=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d,e,f=null,g=this.plotArea,h=0,i=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,j=.15*this.width,h=a.axisX.dataInfo.minDiff,l=.9*(g.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(h)/a.plotType.totalDataSeries)<<0;for(b.save(),E&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(g.x1,g.y1,g.width,g.height),b.clip(),E&&(this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip()),g=0;g<a.dataSeriesIndexes.length;g++){var m=a.dataSeriesIndexes[g],n=this.data[m],o=n.dataPoints;if(1==o.length&&(l=j),1>l?l=1:l>j&&(l=j),n.maxWidthInX=l/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit),0<o.length)for(var p=l>5&&n.bevelEnabled?!0:!1,h=0;h<o.length;h++)if(e=o[h].getTime?o[h].x.getTime():o[h].x,!(e<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"==typeof o[h].y){c=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(e-a.axisX.convertionParameters.minimum)+.5<<0,d=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(o[h].y-a.axisY.convertionParameters.minimum)+.5<<0,c=c-a.plotType.totalDataSeries*l/2+(a.previousDataSeriesCount+g)*l<<0;var q,r=c+l<<0;0<=o[h].y?q=i:(q=d,d=i),d>q&&(q=d=q),f=o[h].color?o[h].color:n._colorSet[h%n._colorSet.length],R(b,c,d,r,q,f,p&&0<=o[h].y,0>o[h].y&&p,!1,!1),f=n.dataPointIds[h],this._eventManager.objectMap[f]={objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:c,y1:d,x2:r,y2:q},f=k(f),E&&R(this._eventManager.ghostCtx,c,d,r,q,f,!1,!1,!1,!1),(o[h].indexLabel||n.indexLabel)&&this._indexLabels.push({chartType:"column",dataPoint:o[h],dataSeries:n,point:{x:c+(r-c)/2,y:0<=o[h].y?d:q},bounds:{x1:c,y1:Math.min(d,q),x2:r,y2:Math.max(d,q)},color:f})}}b.restore(),E&&this._eventManager.ghostCtx.restore()}},s.prototype.renderStackedColumn=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d=null,e=this.plotArea,f=[],g=[],h=0,i=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,j=.15*this.width,h=a.axisX.dataInfo.minDiff,l=.9*(e.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(h)/a.plotType.plotUnits.length)<<0;b.save(),E&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(e.x1,e.y1,e.width,e.height),b.clip(),E&&(this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip());for(var m=0;m<a.dataSeriesIndexes.length;m++){var n=a.dataSeriesIndexes[m],o=this.data[n],p=o.dataPoints;if(1==p.length&&(l=j),1>l?l=1:l>j&&(l=j),o.maxWidthInX=l/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit),0<p.length){var q=l>5&&o.bevelEnabled?!0:!1;for(b.strokeStyle="#4572A7 ",h=0;h<p.length;h++)if(d=p[h].x.getTime?p[h].x.getTime():p[h].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof p[h].y){e=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(d-a.axisX.convertionParameters.minimum)+.5<<0,c=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(p[h].y-a.axisY.convertionParameters.minimum)+.5<<0;var r,s=e-a.plotType.plotUnits.length*l/2+a.index*l<<0,t=s+l<<0;if(0<=p[h].y){var u=f[d]?f[d]:0;c-=u,r=i-u,f[d]=u+(r-c)}else u=g[d]?g[d]:0,r=c+u,c=i+u,g[d]=u+(r-c);d=p[h].color?p[h].color:o._colorSet[h%o._colorSet.length],R(b,s,c,t,r,d,q&&0<=p[h].y,0>p[h].y&&q,!1,!1),d=o.dataPointIds[h],this._eventManager.objectMap[d]={objectType:"dataPoint",dataSeriesIndex:n,dataPointIndex:h,x1:s,y1:c,x2:t,y2:r},d=k(d),E&&R(this._eventManager.ghostCtx,s,c,t,r,d,!1,!1,!1,!1),(p[h].indexLabel||o.indexLabel)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:p[h],dataSeries:o,point:{x:e,y:0<=p[h].y?c:r},bounds:{x1:s,y1:Math.min(c,r),x2:t,y2:Math.max(c,r)},color:d})}}}b.restore(),E&&this._eventManager.ghostCtx.restore()}},s.prototype.renderStackedColumn100=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d=null,e=this.plotArea,f=[],g=[],h=0,i=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,j=.15*this.width,h=a.axisX.dataInfo.minDiff,l=.9*(e.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(h)/a.plotType.plotUnits.length)<<0;b.save(),E&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(e.x1,e.y1,e.width,e.height),b.clip(),E&&(this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip());for(var m=0;m<a.dataSeriesIndexes.length;m++){var n=a.dataSeriesIndexes[m],o=this.data[n],p=o.dataPoints;if(1==p.length&&(l=j),1>l?l=1:l>j&&(l=j),o.maxWidthInX=l/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit),0<p.length)for(var q=l>5&&o.bevelEnabled?!0:!1,h=0;h<p.length;h++)if(d=p[h].x.getTime?p[h].x.getTime():p[h].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof p[h].y){e=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(d-a.axisX.convertionParameters.minimum)+.5<<0,c=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*((0!==a.dataPointYSums[d]?100*(p[h].y/a.dataPointYSums[d]):0)-a.axisY.convertionParameters.minimum)+.5<<0;var r,s=e-a.plotType.plotUnits.length*l/2+a.index*l<<0,t=s+l<<0;if(0<=p[h].y){var u=f[d]?f[d]:0;c-=u,r=i-u,f[d]=u+(r-c)}else u=g[d]?g[d]:0,r=c+u,c=i+u,g[d]=u+(r-c);d=p[h].color?p[h].color:o._colorSet[h%o._colorSet.length],R(b,s,c,t,r,d,q&&0<=p[h].y,0>p[h].y&&q,!1,!1),d=o.dataPointIds[h],this._eventManager.objectMap[d]={objectType:"dataPoint",dataSeriesIndex:n,dataPointIndex:h,x1:s,y1:c,x2:t,y2:r},d=k(d),E&&R(this._eventManager.ghostCtx,s,c,t,r,d,!1,!1,!1,!1),(p[h].indexLabel||o.indexLabel)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:p[h],dataSeries:o,point:{x:e,y:0<=p[h].y?c:r},bounds:{x1:s,y1:Math.min(c,r),x2:t,y2:Math.max(c,r)},color:d})}}b.restore(),E&&this._eventManager.ghostCtx.restore()}},s.prototype.renderBar=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d,e,f=null,g=this.plotArea,h=0,i=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,j=.15*this.height,h=a.axisX.dataInfo.minDiff,l=.9*(g.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(h)/a.plotType.totalDataSeries)<<0;for(b.save(),E&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(g.x1,g.y1,g.width,g.height),b.clip(),E&&(this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip()),g=0;g<a.dataSeriesIndexes.length;g++){var m=a.dataSeriesIndexes[g],n=this.data[m],o=n.dataPoints;if(1==o.length&&(l=j),1>l?l=1:l>j&&(l=j),n.maxWidthInX=l/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit),0<o.length){var p=l>5&&n.bevelEnabled?!0:!1;for(b.strokeStyle="#4572A7 ",h=0;h<o.length;h++)if(e=o[h].getTime?o[h].x.getTime():o[h].x,!(e<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"==typeof o[h].y){d=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(e-a.axisX.convertionParameters.minimum)+.5<<0,c=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(o[h].y-a.axisY.convertionParameters.minimum)+.5<<0,d=d-a.plotType.totalDataSeries*l/2+(a.previousDataSeriesCount+g)*l<<0;var q,r=d+l<<0;0<=o[h].y?q=i:(q=c,c=i),f=o[h].color?o[h].color:n._colorSet[h%n._colorSet.length],R(b,q,d,c,r,f,p,!1,!1,!1),f=n.dataPointIds[h],this._eventManager.objectMap[f]={objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:q,y1:d,x2:c,y2:r},f=k(f),E&&R(this._eventManager.ghostCtx,q,d,c,r,f,!1,!1,!1,!1),this._indexLabels.push({chartType:"bar",dataPoint:o[h],dataSeries:n,point:{x:0<=o[h].y?c:q,y:d+(r-d)/2},bounds:{x1:Math.min(q,c),y1:d,x2:Math.max(q,c),y2:r},color:f})}}}b.restore(),E&&this._eventManager.ghostCtx.restore()}},s.prototype.renderStackedBar=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d=null,e=this.plotArea,f=[],g=[],h=0,i=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,j=.15*this.width,h=a.axisX.dataInfo.minDiff,l=.9*(e.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(h)/a.plotType.plotUnits.length)<<0;b.save(),E&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(e.x1,e.y1,e.width,e.height),b.clip(),E&&(this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip());for(var m=0;m<a.dataSeriesIndexes.length;m++){var n=a.dataSeriesIndexes[m],o=this.data[n],p=o.dataPoints;if(1==p.length&&(l=j),1>l?l=1:l>j&&(l=j),o.maxWidthInX=l/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit),0<p.length){var q=l>5&&o.bevelEnabled?!0:!1;for(b.strokeStyle="#4572A7 ",h=0;h<p.length;h++)if(d=p[h].x.getTime?p[h].x.getTime():p[h].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof p[h].y){e=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(d-a.axisX.convertionParameters.minimum)+.5<<0,c=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(p[h].y-a.axisY.convertionParameters.minimum)+.5<<0;var r,s=e-a.plotType.plotUnits.length*l/2+a.index*l<<0,t=s+l<<0;if(0<=p[h].y){var u=f[d]?f[d]:0;r=i+u,c+=u,f[d]=u+(c-r)}else u=g[d]?g[d]:0,r=c-u,c=i-u,g[d]=u+(c-r);d=p[h].color?p[h].color:o._colorSet[h%o._colorSet.length],R(b,r,s,c,t,d,q,!1,!1,!1),d=o.dataPointIds[h],this._eventManager.objectMap[d]={objectType:"dataPoint",dataSeriesIndex:n,dataPointIndex:h,x1:r,y1:s,x2:c,y2:t},d=k(d),E&&R(this._eventManager.ghostCtx,r,s,c,t,d,!1,!1,!1,!1),this._indexLabels.push({chartType:"stackedBar",dataPoint:p[h],dataSeries:o,point:{x:0<=p[h].y?c:r,y:e},bounds:{x1:Math.min(r,c),y1:s,x2:Math.max(r,c),y2:t},color:d})}}}b.restore(),E&&this._eventManager.ghostCtx.restore()}},s.prototype.renderStackedBar100=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d=null,e=this.plotArea,f=[],g=[],h=0,i=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,j=.15*this.width,h=a.axisX.dataInfo.minDiff,l=.9*(e.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(h)/a.plotType.plotUnits.length)<<0;b.save(),E&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(e.x1,e.y1,e.width,e.height),b.clip(),E&&(this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip());for(var m=0;m<a.dataSeriesIndexes.length;m++){var n=a.dataSeriesIndexes[m],o=this.data[n],p=o.dataPoints;if(1==p.length&&(l=j),1>l?l=1:l>j&&(l=j),o.maxWidthInX=l/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit),0<p.length){var q=l>5&&o.bevelEnabled?!0:!1;for(b.strokeStyle="#4572A7 ",h=0;h<p.length;h++)if(d=p[h].x.getTime?p[h].x.getTime():p[h].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof p[h].y){e=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(d-a.axisX.convertionParameters.minimum)+.5<<0,c=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*((0!==a.dataPointYSums[d]?100*(p[h].y/a.dataPointYSums[d]):0)-a.axisY.convertionParameters.minimum)+.5<<0;var r,s=e-a.plotType.plotUnits.length*l/2+a.index*l<<0,t=s+l<<0;if(0<=p[h].y){var u=f[d]?f[d]:0;r=i+u,c+=u,f[d]=u+(c-r)}else u=g[d]?g[d]:0,r=c-u,c=i-u,g[d]=u+(c-r);d=p[h].color?p[h].color:o._colorSet[h%o._colorSet.length],R(b,r,s,c,t,d,q,!1,!1,!1),d=o.dataPointIds[h],this._eventManager.objectMap[d]={objectType:"dataPoint",dataSeriesIndex:n,dataPointIndex:h,x1:r,y1:s,x2:c,y2:t},d=k(d),E&&R(this._eventManager.ghostCtx,r,s,c,t,d,!1,!1,!1,!1),this._indexLabels.push({chartType:"stackedBar100",dataPoint:p[h],dataSeries:o,point:{x:0<=p[h].y?c:r,y:e},bounds:{x1:Math.min(r,c),y1:s,x2:Math.max(r,c),y2:t},color:d})}}}b.restore(),E&&this._eventManager.ghostCtx.restore()}},s.prototype.renderArea=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx,d=a.axisX.lineCoordinates,e=a.axisY.lineCoordinates,f=[],g=this.plotArea;for(b.save(),E&&c.save(),b.beginPath(),b.rect(g.x1,g.y1,g.width,g.height),b.clip(),E&&(c.beginPath(),c.rect(g.x1,g.y1,g.width,g.height),c.clip()),g=0;g<a.dataSeriesIndexes.length;g++){var h=a.dataSeriesIndexes[g],i=this.data[h],j=i.dataPoints,f=i.id;this._eventManager.objectMap[f]={objectType:"dataSeries",dataSeriesIndex:h},f=k(f),c.fillStyle=f;var l,m,n,f=[],o=!0,p=0,q=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)+.5<<0,r=null;if(0<j.length){for(color=i._colorSet[p%i._colorSet.length],b.fillStyle=color;p<j.length;p++)if(m=j[p].x.getTime?j[p].x.getTime():j[p].x,!(m<a.axisX.dataInfo.viewPortMin||m>a.axisX.dataInfo.viewPortMax)&&(l=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(m-a.axisX.convertionParameters.minimum)+.5<<0,m=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(j[p].y-a.axisY.convertionParameters.minimum)+.5<<0,"number"==typeof j[p].y)){o?(b.beginPath(),b.moveTo(l,m),r={x:l,y:m},E&&(c.beginPath(),c.moveTo(l,m)),o=!1):(b.lineTo(l,m),E&&c.lineTo(l,m),0==p%250&&(0>=a.axisY.minimum&&0<=a.axisY.maximum?n=q:0>a.axisY.maximum?n=e.y1:0<a.axisY.minimum&&(n=d.y2),b.lineTo(l,n),b.lineTo(r.x,n),b.closePath(),b.fill(),b.beginPath(),b.moveTo(l,m),E&&(c.lineTo(l,n),c.lineTo(r.x,n),c.closePath(),c.fill(),c.beginPath(),c.moveTo(l,m)),r={x:l,y:m}));var s=i.dataPointIds[p];if(this._eventManager.objectMap[s]={objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:p,x1:l,y1:m},0!==j[p].markerSize&&(0<j[p].markerSize||0<i.markerSize)){var t=i.getMarkerProperties(p,l,m,b);f.push(t),(!i.maxWidthInX||t.size>i.maxWidthInX)&&(i.maxWidthInX=t.size/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit)),markerColor=k(s),E&&f.push({x:l,y:m,ctx:c,type:t.type,size:t.size,color:markerColor,borderColor:markerColor,borderThickness:t.borderThickness})}(j[p].indexLabel||i.indexLabel)&&this._indexLabels.push({chartType:"area",dataPoint:j[p],dataSeries:i,point:{x:l,y:m},color:color})}0>=a.axisY.minimum&&0<=a.axisY.maximum?n=q:0>a.axisY.maximum?n=e.y1:0<a.axisY.minimum&&(n=d.y2),b.lineTo(l,n),b.lineTo(r.x,n),b.closePath(),b.fill(),E&&(c.lineTo(l,n),c.lineTo(r.x,n),c.closePath(),c.fill()),T.drawMarkers(f)}}b.restore(),E&&this._eventManager.ghostCtx.restore()
}},s.prototype.renderSplineArea=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx,d=a.axisX.lineCoordinates,e=a.axisY.lineCoordinates,f=[],g=this.plotArea;for(b.save(),E&&c.save(),b.beginPath(),b.rect(g.x1,g.y1,g.width,g.height),b.clip(),E&&(c.beginPath(),c.rect(g.x1,g.y1,g.width,g.height),c.clip()),g=0;g<a.dataSeriesIndexes.length;g++){var h=a.dataSeriesIndexes[g],i=this.data[h],j=i.dataPoints,f=i.id;this._eventManager.objectMap[f]={objectType:"dataSeries",dataSeriesIndex:h},f=k(f),c.fillStyle=f;var l,m,n,f=[],o=0,p=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)+.5<<0,q=null,q=[];if(0<j.length){for(color=i._colorSet[o%i._colorSet.length],b.fillStyle=color;o<j.length;o++)if(l=j[o].x.getTime?j[o].x.getTime():j[o].x,!(l<a.axisX.dataInfo.viewPortMin||l>a.axisX.dataInfo.viewPortMax)&&(l=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(l-a.axisX.convertionParameters.minimum)+.5<<0,m=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(j[o].y-a.axisY.convertionParameters.minimum)+.5<<0,"number"==typeof j[o].y)){var r=i.dataPointIds[o];if(this._eventManager.objectMap[r]={objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:o,x1:l,y1:m},q[q.length]={x:l,y:m},0!==j[o].markerSize&&(0<j[o].markerSize||0<i.markerSize)){var s=i.getMarkerProperties(o,l,m,b);f.push(s),(!i.maxWidthInX||s.size>i.maxWidthInX)&&(i.maxWidthInX=s.size/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit)),markerColor=k(r),E&&f.push({x:l,y:m,ctx:c,type:s.type,size:s.size,color:markerColor,borderColor:markerColor,borderThickness:s.borderThickness})}(j[o].indexLabel||i.indexLabel)&&this._indexLabels.push({chartType:"splineArea",dataPoint:j[o],dataSeries:i,point:{x:l,y:m},color:color})}if(h=t(q,2),0<h.length){for(b.beginPath(),b.moveTo(h[0].x,h[0].y),E&&(c.beginPath(),c.moveTo(h[0].x,h[0].y)),o=0;o<h.length-3;o+=3)b.bezierCurveTo(h[o+1].x,h[o+1].y,h[o+2].x,h[o+2].y,h[o+3].x,h[o+3].y),E&&c.bezierCurveTo(h[o+1].x,h[o+1].y,h[o+2].x,h[o+2].y,h[o+3].x,h[o+3].y);0>=a.axisY.minimum&&0<=a.axisY.maximum?n=p:0>a.axisY.maximum?n=e.y1:0<a.axisY.minimum&&(n=d.y2),q={x:h[0].x,y:h[0].y},b.lineTo(h[h.length-1].x,n),b.lineTo(q.x,n),b.closePath(),b.fill(),E&&(c.lineTo(h[h.length-1].x,n),c.lineTo(q.x,n),c.closePath(),c.fill())}T.drawMarkers(f)}}b.restore(),E&&this._eventManager.ghostCtx.restore()}},s.prototype.renderStackedArea=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d,e,f=null,g=[],i=this.plotArea,j=[],l=[],m=0,n=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,o=this._eventManager.ghostCtx;for(E&&o.beginPath(),b.save(),E&&o.save(),b.beginPath(),b.rect(i.x1,i.y1,i.width,i.height),b.clip(),E&&(o.beginPath(),o.rect(i.x1,i.y1,i.width,i.height),o.clip()),xValuePresent=[],i=0;i<a.dataSeriesIndexes.length;i++){var p=a.dataSeriesIndexes[i],q=this.data[p],r=q.dataPoints;for(q.dataPointIndexes=[],m=0;m<r.length;m++)p=r[m].x.getTime?r[m].x.getTime():r[m].x,q.dataPointIndexes[p]=m,xValuePresent[p]||(l.push(p),xValuePresent[p]=!0);l.sort(h)}for(i=0;i<a.dataSeriesIndexes.length;i++){var p=a.dataSeriesIndexes[i],q=this.data[p],r=q.dataPoints,s=!0,t=[],m=q.id;if(this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:p},m=k(m),o.fillStyle=m,0<l.length){for(f=q._colorSet[0],b.fillStyle=f,m=0;m<l.length;m++){e=l[m];var u=null,u=0<=q.dataPointIndexes[e]?r[q.dataPointIndexes[e]]:{x:e,y:0};if(!(e<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"==typeof u.y){c=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(e-a.axisX.convertionParameters.minimum)+.5<<0,d=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(u.y-a.axisY.convertionParameters.minimum)+.5<<0;var v=j[e]?j[e]:0;if(d-=v,t.push({x:c,y:n-v}),j[e]=n-d,s)b.beginPath(),b.moveTo(c,d),E&&(o.beginPath(),o.moveTo(c,d)),s=!1;else if(b.lineTo(c,d),E&&o.lineTo(c,d),0==m%250){for(;0<t.length;){var w=t.pop();b.lineTo(w.x,w.y),E&&o.lineTo(w.x,w.y)}b.closePath(),b.fill(),b.beginPath(),b.moveTo(c,d),E&&(o.closePath(),o.fill(),o.beginPath(),o.moveTo(c,d)),t.push({x:c,y:n-v})}if(0<=q.dataPointIndexes[e]){var x=q.dataPointIds[q.dataPointIndexes[e]];this._eventManager.objectMap[x]={objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:q.dataPointIndexes[e],x1:c,y1:d}}0<=q.dataPointIndexes[e]&&0!==u.markerSize&&(0<u.markerSize||0<q.markerSize)&&(e=q.getMarkerProperties(m,c,d,b),g.push(e),(!q.maxWidthInX||e.size>q.maxWidthInX)&&(q.maxWidthInX=e.size/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit)),markerColor=k(x),E&&g.push({x:c,y:d,ctx:o,type:e.type,size:e.size,color:markerColor,borderColor:markerColor,borderThickness:e.borderThickness})),(u.indexLabel||q.indexLabel)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:u,dataSeries:q,point:{x:c,y:d},color:f})}}for(;0<t.length;)w=t.pop(),b.lineTo(w.x,w.y),E&&o.lineTo(w.x,w.y);b.closePath(),b.fill(),b.beginPath(),b.moveTo(c,d),E&&(o.closePath(),o.fill(),o.beginPath(),o.moveTo(c,d))}delete q.dataPointIndexes}T.drawMarkers(g),b.restore(),E&&o.restore()}},s.prototype.renderStackedArea100=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c,d,e,f=null,g=this.plotArea,i=[],j=[],l=[],m=0,n=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(0-a.axisY.convertionParameters.minimum)<<0,o=.15*this.width,p=a.axisX.dataInfo.minDiff,p=.9*g.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(p)<<0,q=this._eventManager.ghostCtx;for(b.save(),E&&q.save(),b.beginPath(),b.rect(g.x1,g.y1,g.width,g.height),b.clip(),E&&(q.beginPath(),q.rect(g.x1,g.y1,g.width,g.height),q.clip()),xValuePresent=[],g=0;g<a.dataSeriesIndexes.length;g++){var r=a.dataSeriesIndexes[g],s=this.data[r],t=s.dataPoints;for(s.dataPointIndexes=[],m=0;m<t.length;m++)r=t[m].x.getTime?t[m].x.getTime():t[m].x,s.dataPointIndexes[r]=m,xValuePresent[r]||(l.push(r),xValuePresent[r]=!0);l.sort(h)}for(g=0;g<a.dataSeriesIndexes.length;g++){var r=a.dataSeriesIndexes[g],s=this.data[r],t=s.dataPoints,u=!0,f=s.id;this._eventManager.objectMap[f]={objectType:"dataSeries",dataSeriesIndex:r},f=k(f),q.fillStyle=f,1==t.length&&(p=o),1>p?p=1:p>o&&(p=o);var v=[];if(0<l.length){for(f=s._colorSet[m%s._colorSet.length],b.fillStyle=f,m=0;m<l.length;m++){e=l[m];var w=null,w=0<=s.dataPointIndexes[e]?t[s.dataPointIndexes[e]]:{x:e,y:0};if(!(e<a.axisX.dataInfo.viewPortMin||e>a.axisX.dataInfo.viewPortMax)&&"number"==typeof w.y){d=0!==a.dataPointYSums[e]?100*(w.y/a.dataPointYSums[e]):0,c=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(e-a.axisX.convertionParameters.minimum)+.5<<0,d=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(d-a.axisY.convertionParameters.minimum)+.5<<0;var x=j[e]?j[e]:0;if(d-=x,v.push({x:c,y:n-x}),j[e]=n-d,u)b.beginPath(),b.moveTo(c,d),E&&(q.beginPath(),q.moveTo(c,d)),u=!1;else if(b.lineTo(c,d),E&&q.lineTo(c,d),0==m%250){for(;0<v.length;){var y=v.pop();b.lineTo(y.x,y.y),E&&q.lineTo(y.x,y.y)}b.closePath(),b.fill(),b.beginPath(),b.moveTo(c,d),E&&(q.closePath(),q.fill(),q.beginPath(),q.moveTo(c,d)),v.push({x:c,y:n-x})}if(0<=s.dataPointIndexes[e]){var z=s.dataPointIds[s.dataPointIndexes[e]];this._eventManager.objectMap[z]={objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:s.dataPointIndexes[e],x1:c,y1:d}}0<=s.dataPointIndexes[e]&&0!==w.markerSize&&(0<w.markerSize||0<s.markerSize)&&(e=s.getMarkerProperties(m,c,d,b),i.push(e),(!s.maxWidthInX||e.size>s.maxWidthInX)&&(s.maxWidthInX=e.size/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit)),markerColor=k(z),E&&i.push({x:c,y:d,ctx:q,type:e.type,size:e.size,color:markerColor,borderColor:markerColor,borderThickness:e.borderThickness})),(w.indexLabel||s.indexLabel)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:w,dataSeries:s,point:{x:c,y:d},color:f})}}for(;0<v.length;)y=v.pop(),b.lineTo(y.x,y.y),E&&q.lineTo(y.x,y.y);b.closePath(),b.fill(),b.beginPath(),b.moveTo(c,d),E&&(q.closePath(),q.fill(),q.beginPath(),q.moveTo(c,d))}delete s.dataPointIndexes}T.drawMarkers(i),b.restore(),E&&q.restore()}},s.prototype.renderBubble=function(a){var b=this.plotArea.ctx,c=a.dataSeriesIndexes.length;if(!(0>=c)){var d,e,f=this.plotArea,g=0,h=.15*this.width,g=a.axisX.dataInfo.minDiff,c=.9*(f.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(g)/c)<<0;b.save(),E&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(f.x1,f.y1,f.width,f.height),b.clip(),E&&(this._eventManager.ghostCtx.rect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.clip());for(var i=-1/0,j=1/0,l=0;l<a.dataSeriesIndexes.length;l++)for(var m=a.dataSeriesIndexes[l],n=this.data[m],o=n.dataPoints,p=0,g=0;g<o.length;g++)d=d=o[g].getTime?o[g].x.getTime():o[g].x,d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax||"undefined"==typeof o[g].z||(p=o[g].z,p>i&&(i=p),j>p&&(j=p));for(var q=25*Math.PI,f=Math.max(Math.pow(.25*Math.min(f.height,f.width)/2,2)*Math.PI,q),l=0;l<a.dataSeriesIndexes.length;l++)if(m=a.dataSeriesIndexes[l],n=this.data[m],o=n.dataPoints,1==o.length&&(c=h),1>c?c=1:c>h&&(c=h),0<o.length)for(b.strokeStyle="#4572A7 ",g=0;g<o.length;g++)if(d=d=o[g].getTime?o[g].x.getTime():o[g].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof o[g].y){d=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(d-a.axisX.convertionParameters.minimum)+.5<<0,e=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(o[g].y-a.axisY.convertionParameters.minimum)+.5<<0;var p=o[g].z,r=2*Math.max(Math.sqrt((q+(f-q)/(i-j)*(p-j))/Math.PI)<<0,1),p=n.getMarkerProperties(g,b);p.size=r,T.drawMarker(d,e,b,p.type,p.size,p.color,p.borderColor,p.borderThickness),(!n.maxWidthInX||p.size>n.maxWidthInX)&&(n.maxWidthInX=p.size/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit));var s=n.dataPointIds[g];this._eventManager.objectMap[s]={objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:g,x1:d,y1:e,size:r},r=k(s),E&&T.drawMarker(d,e,this._eventManager.ghostCtx,p.type,p.size,r,r,p.borderThickness)}b.restore(),E&&this._eventManager.ghostCtx.restore()}},s.prototype.renderScatter=function(a){var b=this.plotArea.ctx,c=a.dataSeriesIndexes.length;if(!(0>=c)){var d,e,f=this.plotArea,g=0,h=.15*this.width,g=a.axisX.dataInfo.minDiff,c=.9*(f.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(g)/c)<<0;b.save(),E&&this._eventManager.ghostCtx.save(),b.beginPath(),b.rect(f.x1,f.y1,f.width,f.height),b.clip(),E&&(this._eventManager.ghostCtx.rect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.clip());for(var i=0;i<a.dataSeriesIndexes.length;i++){var j=a.dataSeriesIndexes[i],l=this.data[j],m=l.dataPoints;if(1==m.length&&(c=h),1>c?c=1:c>h&&(c=h),0<m.length){b.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(f.height,f.width)/2,2);for(var n=0,o=0,g=0;g<m.length;g++)if(d=d=m[g].getTime?m[g].x.getTime():m[g].x,!(d<a.axisX.dataInfo.viewPortMin||d>a.axisX.dataInfo.viewPortMax)&&"number"==typeof m[g].y){d=a.axisX.convertionParameters.reference+a.axisX.convertionParameters.pixelPerUnit*(d-a.axisX.convertionParameters.minimum)+.5<<0,e=a.axisY.convertionParameters.reference+a.axisY.convertionParameters.pixelPerUnit*(m[g].y-a.axisY.convertionParameters.minimum)+.5<<0;var p=l.getMarkerProperties(g,d,e,b);T.drawMarker(p.x,p.y,p.ctx,p.type,p.size,p.color,p.color,p.thickness),(!l.maxWidthInX||p.size>l.maxWidthInX)&&(l.maxWidthInX=p.size/(1<a.axisX.convertionParameters.pixelPerUnit?a.axisX.convertionParameters.pixelPerUnit-1:a.axisX.convertionParameters.pixelPerUnit)),Math.sqrt((n-d)*(n-d)+(o-e)*(o-e))<Math.min(p.size,5)||(n=l.dataPointIds[g],this._eventManager.objectMap[n]={objectType:"dataPoint",dataSeriesIndex:j,dataPointIndex:g,x1:d,y1:e},n=k(n),E&&T.drawMarker(p.x,p.y,this._eventManager.ghostCtx,p.type,p.size,n,n,p.borderThickness),n=d,o=e)}}}b.restore(),E&&this._eventManager.ghostCtx.restore()}};var S=function(a,b,c,d,e,f,g){a.save(),"pie"===e?(a.beginPath(),a.moveTo(b.x,b.y),a.arc(b.x,b.y,c,f,g,!1),a.fillStyle=d,a.strokeStyle="white",a.lineWidth=2,a.closePath(),a.stroke(),a.fill()):"doughnut"===e&&(a.beginPath(),a.arc(b.x,b.y,c,f,g,!1),a.arc(b.x,b.y,.6*c,g,f,!0),a.closePath(),a.fillStyle=d,a.strokeStyle="white",a.lineWidth=2,a.stroke(),a.fill()),a.restore()};s.prototype.renderPie=function(a){function b(){D.ctx.save(),E&&D._eventManager.ghostCtx.save(),D.ctx.translate(u.x,u.y),E&&D._eventManager.ghostCtx.translate(u.x,u.y),D.ctx.clearRect(-t.width/2,-t.height/2,t.width,t.height);var a=!0===D.animationEnabled?60:1;if(null!=F&&F.frame<=a){F.isAnimating--;for(var d=i[0],h=F.maxAngle+2*Math.PI/a,j=!1,k=0;s>k;k++){var o=f.dataPoints[k].exploded,p=f.dataPoints[k].color?f.dataPoints[k].color:f.color?f.color:v[k%v.length],q=d,r=d=q+2*Math.PI/m*Math.abs(f.dataPoints[k].y);r>h&&(r=h),type=f.type,"outside"===f.indexLabelPlacement?(indexLineMinLength=Math.min(t.width,t.height)/14,n=w>indexLineMinLength?w-indexLineMinLength:w-25):"inside"===f.indexLabelPlacement&&(n=.5*(1-g)*Math.min(t.width,t.height));var x={x:0,y:0};j||S(D.ctx,x,n,p,type,q,r),q=f.dataPointIds[k],D._eventManager.objectMap[q]={objectType:"dataPoint",dataSeriesIndex:0,dataPointIndex:k,center:{x:u.x,y:u.y},radius:n,color:p,startAngle:i[k],endAngle:i[k+1],currentlyExploded:!0===f.dataPoints[k].exploded?!0:!1,userSetExploded:o,pastExploded:!1},o=l(q),E&&D._eventManager.ghostCtx.save(),p="rgb("+o[0]+","+o[1]+","+o[2]+")",E&&(S(D._eventManager.ghostCtx,x,n,p,type,i[k],i[k+1]),D._eventManager.ghostCtx.restore()),r===h&&(j=!0)}F.maxAngle=h,F.frame++,F.frame<=a?D.requestAnimFrame.call(window,b):(e(0,a),D.ctx.restore(),E&&D._eventManager.ghostCtx.restore(),setTimeout(function(){F.frame=0,F.isAnimating=E?20:4,c()},200))}D.renderCount++,D.ctx.restore(),E&&D._eventManager.ghostCtx.restore()}function c(){D.ctx.save(),E&&D._eventManager.ghostCtx.save(),D.ctx.translate(u.x,u.y),E&&D._eventManager.ghostCtx.translate(u.x,u.y);var a=E?20:4;if(null!==F&&F.frame<a){F.isAnimating--,D.ctx.fillStyle=D.backgroundColor?D.backgroundColor:"white",D.ctx.clearRect(-t.width/2,-t.height/2,t.width,t.height);for(var b=0;s>b;b++){var d=f.dataPoints[b].color?f.dataPoints[b].color:f.color?f.color:v[b%v.length],h={x:0,y:0},k=n*g*Math.cos(j[b]),m=n*g*Math.sin(j[b]),o=f.type,p=f.dataPointIds[b],q=D._eventManager.objectMap[p].currentlyExploded,r=D._eventManager.objectMap[p].pastExploded;!0===q&&!1===r?(h.x+=k/a*(F.frame+1),h.y+=m/a*(F.frame+1),F.frame+1===a&&(D._eventManager.objectMap[p].pastExploded=!0)):!0===q&&!0===r&&(h.x+=k,h.y+=m),D._eventManager.objectMap[p].center.x=h.x+u.x,D._eventManager.objectMap[p].center.y=h.y+u.y,r!==q&&(k={},k.dataSeries=f,k.dataPoint=f.dataPoints[b],k.index=b,D._toolTip.highlightObjects([k])),S(D.ctx,h,n,d,o,i[b],i[b+1]),F.frame===a-1&&(p=f.dataPointIds[b],d=l(p),d="rgb("+d[0]+","+d[1]+","+d[2]+")",E&&(D._eventManager.ghostCtx.save(),S(D._eventManager.ghostCtx,h,n,d,o,i[b],i[b+1]),D._eventManager.ghostCtx.restore()))}F.frame++,F.frame<a&&D.requestAnimFrame.call(window,c)}e(F.frame,a),D.ctx.restore(),E&&D._eventManager.ghostCtx.restore()}function d(){D.ctx.save(),E&&D._eventManager.ghostCtx.save(),D.ctx.translate(u.x,u.y),E&&D._eventManager.ghostCtx.translate(u.x,u.y);var a=E?20:4;if(null!==F&&0<F.frame){F.isAnimating--,D.ctx.clearRect(-t.width/2,-t.height/2,t.width,t.height);for(var b=0;s>b;b++){var c=f.dataPointIds[b],h=D._eventManager.objectMap[c].currentlyExploded,k=D._eventManager.objectMap[c].pastExploded,m=f.dataPoints[b].color?f.dataPoints[b].color:f.color?f.color:v[b%v.length],o={x:0,y:0},p=f.type,h=D._eventManager.objectMap[c].currentlyExploded,q=n*g*Math.cos(j[b]),r=n*g*Math.sin(j[b]);!1===h&&!0===k?(o.x+=q/a*F.frame,o.y+=r/a*F.frame,1===F.frame&&(D._eventManager.objectMap[c].pastExploded=!1)):!0===h&&!0===k&&(o.x+=q,o.y+=r),D._eventManager.objectMap[c].center.x=o.x+u.x,D._eventManager.objectMap[c].center.y=o.y+u.y,k!==h&&(c={},c.dataSeries=f,c.dataPoint=f.dataPoints[b],c.index=b,D._toolTip.highlightObjects([c])),S(D.ctx,o,n,m,p,i[b],i[b+1]),1===F.frame&&(c=f.dataPointIds[b],m=l(c),m="rgb("+m[0]+","+m[1]+","+m[2]+")",E&&(D._eventManager.ghostCtx.save(),S(D._eventManager.ghostCtx,o,n,m,p,i[b],i[b+1]),D._eventManager.ghostCtx.restore()))}F.frame--,0<F.frame&&D.requestAnimFrame.call(window,d)}e(F.frame,a),D.ctx.restore(),E&&D._eventManager.ghostCtx.restore()}function e(a,b){for(var c=0;c<f.dataPoints.length;c++){var d=f.dataPointIds[c],e=D.ctx,i=o[c],l=p[c],m=q[c],s=r[c],t=D._eventManager.objectMap[d].currentlyExploded,u=k[c],v=n,w=j[c],x=f.dataPoints[c].indexLabelFontColor?f.dataPoints[c].indexLabelFontColor:f.indexLabelFontColor,y=f.indexLabelPlacement,z=f.dataPoints[c].indexLabelLineColor?f.dataPoints[c].indexLabelLineColor:f.indexLabelLineColor,A=f.dataPoints[c].indexLabelLineThickness?f.dataPoints[c].indexLabelLineThickness:f.indexLabelLineThickness,B=a,C=b,d=D._eventManager.objectMap[d].pastExploded,E=h[c],F=f.dataPoints[c].indexLabelFontStyle?f.dataPoints[c].indexLabelFontStyle:f.indexLabelFontStyle,G=f.dataPoints[c].indexLabelFontWeight?f.dataPoints[c].indexLabelFontWeight:f.indexLabelFontWeight,H=f.dataPoints[c].indexLabelFontSize?f.dataPoints[c].indexLabelFontSize:f.indexLabelFontSize,I=f.dataPoints[c].indexLabelFontFamily?f.dataPoints[c].indexLabelFontFamily:f.indexLabelFontFamily,J=f.dataPoints[c].indexLabelBackgroundColor?f.dataPoints[c].indexLabelBackgroundColor:f.indexLabelBackgroundColor?f.indexLabelBackgroundColor:null,K=c;e.save(),e.lineWidth=A,e.font=F+" "+G+" "+H+"px "+I,A="left",0>i&&"outside"===y?A="right":i>=0&&"outside"===y?A="left":"inside"===y&&(A="center"),e.textAlign=A,e.textBaseline="middle",e.beginPath(),J&&(e.fillStyle=J,"outside"===y?i>=0?e.fillRect(i-2.5,m-2.5,l-i+5,s-m+5):e.fillRect(i+2.5,m-2.5,l-i-5,s-m+5):"inside"===y&&(i>=0?e.fillRect(i-E/2-2.5,m-2.5,l-i+5,s-m+5):e.fillRect(i+E/2+2.5,m-2.5,l-i-5,s-m+5))),e.fillStyle=x,e.fillText(u,i,(m+s)/2),"outside"===y&&h[K]&&(l=v*Math.cos(w),u=v*Math.sin(w),!0===t&&!0!==d?(l+=v*g*Math.cos(w)/C*B,u+=v*g*Math.sin(w)/C*B):!0===t&&!0===d?(l+=v*g*Math.cos(w),u+=v*g*Math.sin(w)):!0!==t&&!0===d&&(l+=v*g*Math.cos(w)/C*B,u+=v*g*Math.sin(w)/C*B),e.moveTo(l,u),i>0?(e.lineTo(i-10,(m+s)/2),e.lineTo(i-2,(m+s)/2)):0>i&&(e.lineTo(i+10,(m+s)/2),e.lineTo(i+2,(m+s)/2)),e.strokeStyle=z,e.stroke()),e.restore()}}if(!(0>=a.dataSeriesIndexes.length)){var f=this.data[a.dataSeriesIndexes[0]],g=.07;ctx=this.plotArea.ctx;var h=[],i=[],j=[],k=[],m=0,n=0,o=[],p=[],q=[],r=[],s=f.dataPoints.length,t=this.plotArea;t.width=t.x2-t.x1,t.height=t.y2-t.y1;var u={x:(t.x2+t.x1)/2,y:(t.y2+t.y1)/2};a=f.startAngle?f.startAngle:0,a=(a%360+360)%360*Math.PI/180,i.push(a);var v=this._selectedColorSet,w=.5*Math.min(t.width,t.height);for(a=0;s>a;a++){var x=f.dataPoints[a].indexLabel?f.dataPoints[a].indexLabel:f.indexLabel?f.indexLabel:f.dataPoints[a].label?f.dataPoints[a].label:f.label?f.label:"",x=this.replaceKeywordsWithValue(x,f.dataPoints[a],f,a);k.push(x);var x=f.dataPoints[a].indexLabelFontStyle?f.dataPoints[a].indexLabelFontStyle:f.indexLabelFontStyle,y=f.dataPoints[a].indexLabelFontWeight?f.dataPoints[a].indexLabelFontWeight:f.indexLabelFontWeight,z=f.dataPoints[a].indexLabelFontSize?f.dataPoints[a].indexLabelFontSize:f.indexLabelFontSize,A=f.dataPoints[a].indexLabelFontFamily?f.dataPoints[a].indexLabelFontFamily:f.indexLabelFontFamily;ctx.save(),ctx.font=x+" "+y+" "+z+"px "+A,x=ctx.measureText(k[a]).width,ctx.restore(),h.push(x),m+=Math.abs(f.dataPoints[a].y)}for(a=x=0;s>a;a++)y=Math.abs(f.dataPoints[a].y),y=2*Math.PI*(y/m),i.push(i[a]+y),y=y/2+i[a],j.push(y%(2*Math.PI)),x+=h[a];if(0===x&&(f.indexLabelPlacement="inside"),x=0,"inside"===f.indexLabelPlacement)for(w*=.8*(1-g),a=0;s>a;a++)z=w*Math.cos(j[a]),A=w*Math.sin(j[a]),o.push(z),z>0?p.push(o[a]+h[a]):p.push(o[a]-h[a]),q.push(A-f.indexLabelFontSize/2),r.push(A+f.indexLabelFontSize/2);else if("outside"===f.indexLabelPlacement)for(y=0;3>y;y++){for(a=0;s>a;a++)z=w*Math.cos(j[a]),A=w*Math.sin(j[a]),o.push(z),z>0?p.push(o[a]+h[a]):p.push(o[a]-h[a]),q.push(A-f.indexLabelFontSize/2),r.push(A+f.indexLabelFontSize/2);for(a=0;s>a;a++)j[a]<Math.PI/2&&a>=1&&q[a]<r[a-1]&&(z=r[a-1]-q[a],q[a]+=z+2,r[a]+=z+2,20>s&&(q[a]+=3,r[a]+=3)),j[a]<3*Math.PI/2&&j[a]>=Math.PI&&r[a]>q[a-1]&&(z=r[a]-q[a-1],q[a]-=z+2,r[a]-=z+2,20>s&&(q[a]-=3,r[a]-=3));for(a=s;a>=0;a--)j[a]<Math.PI&&j[a]>=Math.PI/2&&q[a]<r[a+1]&&(z=r[a+1]-q[a],q[a]+=z+2,r[a]+=z+2,20>s&&(q[a]+=3,r[a]+=3)),j[a]>=3*Math.PI/2&&r[a]>q[a+1]&&(z=r[a]-q[a+1],q[a]-=z,r[a]-=z,20>s&&(q[a]+=-3,r[a]+=-3));if(2>x){a=Math.min.apply(Math,q.concat(r));var z=Math.max.apply(Math,q.concat(r)),A=Math.max.apply(Math,p.concat(o)),B=Math.min.apply(Math,p.concat(o)),C=[];Math.abs(a)>t.height/2&&C.push(Math.abs(a)-t.height/2),Math.abs(z)>t.height/2&&C.push(Math.abs(z)-t.height/2),Math.abs(A)>t.width/2&&C.push(Math.abs(A)-t.width/2),Math.abs(B)>t.width/2&&C.push(Math.abs(B)-t.width/2),o=[],p=[],q=[],r=[],C.length&&(w-=Math.max.apply(Math,C)+f.indexLabelFontSize/2+2,40>w&&(w=40)),x++}}var D=this,F={frame:0,maxAngle:i[0],count:0};0!==D.renderCount&&(this.animationEnabled=!1),F.isAnimating=60,b(),this.pieDoughnutClickHandler=function(a){if(0===F.isAnimating){a=a.dataPointIndex;var b=f.dataPointIds[a];!0===D._eventManager.objectMap[b].currentlyExploded?(!0===D._eventManager.objectMap[b].userSetExploded&&(f.dataPoints[a].exploded=!1),D._eventManager.objectMap[b].currentlyExploded=!1,F.frame=E?20:4,F.isAnimating=E?20:4,d()):!1===D._eventManager.objectMap[b].currentlyExploded&&(!0===D._eventManager.objectMap[b].userSetExploded&&(f.dataPoints[a].exploded=!0),D._eventManager.objectMap[b].currentlyExploded=!0,F.isAnimating=E?20:4,F.frame=0,c())}}}},s.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),u.prototype.registerSpace=function(a,b){"top"===a?this._topOccupied+=b.height:"bottom"===a?this._bottomOccupied+=b.height:"left"===a?this._leftOccupied+=b.width:"right"===a&&(this._rightOccupied+=b.width)},u.prototype.unRegisterSpace=function(a,b){"top"===a?this._topOccupied-=b.height:"bottom"===a?this._bottomOccupied-=b.height:"left"===a?this._leftOccupied-=b.width:"right"===a&&(this._rightOccupied-=b.width)},u.prototype.getFreeSpace=function(){return{x1:this._leftOccupied,y1:this._topOccupied,x2:this.chart.width-this._rightOccupied,y2:this.chart.height-this._bottomOccupied,width:this.chart.width-this._rightOccupied-this._leftOccupied,height:this.chart.height-this._bottomOccupied-this._topOccupied}},u.prototype.reset=function(){this._topOccupied=0,this._bottomOccupied=3,this._rightOccupied=this._leftOccupied=0},a(v,r),v.prototype.render=function(a){a&&this.ctx.save();var b=this.ctx.font;this.ctx.textBaseline=this.textBaseline,this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var c=0,d=this.padding,e=null;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&(this.ctx.roundRect(0,0,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),"middle"===this.textBaseline&&(d+=this.fontSize/2)),this.ctx.fillStyle=this.fontColor;for(var f=0;f<this._wrappedText.lines.length;f++)e=this._wrappedText.lines[f],"right"===this.horizontalAlign?c=this.width-e.width-this.padding:"left"===this.horizontalAlign?c=this.padding:"center"===this.horizontalAlign&&(c=(this.width-2*this.padding)/2-e.width/2+this.padding),this.ctx.fillText(e.text,c,d),d+=e.height;this.ctx.font=b,a&&this.ctx.restore()},v.prototype.setText=function(a){this.text=a,this._isDirty=!0,this._wrappedText=null},v.prototype.measureText=function(){if(null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},v.prototype._getLineWithWidth=function(a,b,c){if(a=String(a),!a)return{text:"",width:0};var d=c=0,e=a.length-1,f=1/0;for(this.ctx.font=this._getFontString();e>=d;){var f=Math.floor((d+e)/2),g=a.substr(0,f+1);if(c=this.ctx.measureText(g).width,b>c)d=f+1;else{if(!(c>b))break;e=f-1}}return c>b&&1<g.length&&(g=g.substr(0,g.length-1),c=this.ctx.measureText(g).width),b=!0,(g.length===a.length||" "===a[g.length])&&(b=!1),b&&(a=g.split(" "),1<a.length&&a.pop(),g=a.join(" "),c=this.ctx.measureText(g).width),{text:g,width:c}},v.prototype._wrapText=function(){text=new String(f(this.text));var a=[],b=this.ctx.font,c=0,d=0;for(this.ctx.font=this._getFontString();0<text.length;){var e=this.maxHeight-2*this.padding,g=this._getLineWithWidth(text,this.maxWidth-2*this.padding,!1);g.height=this.fontSize,a.push(g),d=Math.max(d,g.width),c+=g.height,text=f(text.slice(g.text.length,text.length)),e&&c>e&&a.pop()}this._wrappedText={lines:a,width:d,height:c},this.width=d+2*this.padding,this.height=c+2*this.padding,this.ctx.font=b},v.prototype._getFontString=function(){return this.fontStyle+" "+this.fontWeight+" "+this.fontSize+"px "+this.fontFamily},a(w,r),w.prototype.render=function(){if(this.text){var a,b,c=this.chart.layoutManager.getFreeSpace(),d=0,e=0,f=0,g=0,h=0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(g=c.width-2*this.margin,h=.5*c.height-2*this.margin,f=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(g=c.height-2*this.margin,h=.5*c.width-2*this.margin):"center"===this.horizontalAlign&&(g=c.width-2*this.margin,h=.5*c.height-2*this.margin));var h=new v(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:g,maxHeight:h,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:this.borderColor&&0<this.borderThickness?"middle":"top"}),i=h.measureText();"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(e=this.margin,b="top"):"bottom"===this.verticalAlign&&(e=c.y2-this.margin-i.height,b="bottom"),"left"===this.horizontalAlign?d=c.x1+this.margin:"center"===this.horizontalAlign?d=c.x1+(g/2-i.width/2)+this.margin:"right"===this.horizontalAlign&&(d=c.x2-this.margin-i.width),a=this.horizontalAlign,this.width=i.width,this.height=i.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(d=c.x1+this.margin,e=c.y2-this.margin-(g/2-i.width/2),f=-90,b="left",this.width=i.height,this.height=i.width):"right"===this.horizontalAlign?(d=c.x2-this.margin,e=c.y1+this.margin+(g/2-i.width/2),f=90,b="right",this.width=i.height,this.height=i.width):"center"===this.horizontalAlign&&(e=c.y1+(c.height/2-i.height/2),d=c.x1+(c.width/2-i.width/2),b="center",this.width=i.width,this.height=i.height),a="center"),h.x=d,h.y=e,h.angle=f,h.horizontalAlign=a,h.render(!0),this.chart.layoutManager.registerSpace(b,{width:this.width+2*this.margin,height:this.height+2*this.margin}),this.bounds={x1:d,y1:e,x2:d+this.width,y2:e+this.height},this.ctx.textBaseline="top"}},a(x,r),x.prototype.render=function(){var a=this.chart.layoutManager.getFreeSpace(),b=null,c=0,d=0,e=0,f=0,g=[],h=[];"undefined"==typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",b=this.verticalAlign,e=.9*a.width,f=.5*a.height):"center"===this.verticalAlign&&(this.orientation="vertical",b=this.horizontalAlign,e=.5*a.width,f=.9*a.height);for(var i=0;i<this.dataSeries.length;i++){var j=this.dataSeries[i],k=j.legendMarkerType?j.legendMarkerType:"line"!==j.type&&"stepLine"!==j.type&&"spline"!==j.type&&"scatter"!==j.type&&"bubble"!==j.type||!j.markerType?z.getDefaultLegendMarker(j.type):j.markerType,l=j.legendText?j.legendText:j.name,m=j.legendMarkerColor?j.legendMarkerColor:j.markerColor?j.markerColor:j._colorSet[0],n=j.markerSize||"line"!==j.type&&"stepLine"!==j.type&&"spline"!==j.type?.7*this.fontSize:0;if("pie"!==j.type&&"doughnut"!==j.type)k={markerType:k,markerColor:m,text:l,textBlock:null,chartType:j.type,markerSize:n,lineColor:j._colorSet[0]},g.push(k);else for(var o=0;o<j.dataPoints.length;o++)n=j.dataPoints[o],k=n.legendMarkerType?n.legendMarkerType:j.legendMarkerType?j.legendMarkerType:z.getDefaultLegendMarker(j.type),l=n.legendText?n.legendText:j.legendText?j.legendText:n.name?n.name:"DataPoint: "+(o+1),m=n.markerColor?n.markerColor:j.markerColor?j.markerColor:n.color?n.color:j.color?j.color:j._colorSet[o%j._colorSet.length],n=0!==n.markerSize&&(0!==j.markerSize||n.markerSize)||"line"!==j.type&&"stepLine"!==j.type&&"spline"!==j.type?.7*this.fontSize:0,k={markerType:k,markerColor:m,text:l,textBlock:null,chartType:j.type,markerSize:n},g.push(k)}if(0<g.length){for(j=null,i=o=0;i<g.length;i++)k=g[i],"horizontal"===this.orientation?(k.textBlock=new v(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:this.fontSize,angle:0,text:k.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"}),k.textBlock.measureText(),(!j||j.width+k.textBlock.width+(0===j.width?0:this.horizontalSpacing)>e)&&(j={entries:[],width:0},h.push(j),this.height=h.length*(this.fontSize+5))):(this.height+this.fontSize<f?(j={entries:[],width:0},h.push(j),this.height=h.length*this.fontSize):(j=h[o],o=(o+1)%h.length),k.textBlock=new v(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:this.fontSize,angle:0,text:k.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"}),k.textBlock.measureText()),k.textBlock.x=j.width+(0===j.width?0:this.horizontalSpacing),k.textBlock.y=0,j.width+=k.textBlock.width+(this.fontSize+5)+(0===j.width?0:this.horizontalSpacing),j.entries.push(k),this.width=Math.max(j.width,this.width);this.height=h.length*this.fontSize}for("top"===this.verticalAlign?(d="left"===this.horizontalAlign?a.x1+2:"right"===this.horizontalAlign?a.x2-this.width-2:a.x1+a.width/2-this.width/2,c=a.y1):"center"===this.verticalAlign?(d="left"===this.horizontalAlign?a.x1+2:"right"===this.horizontalAlign?a.x2-this.width-2:a.x1+a.width/2-this.width/2,c=a.y1+a.height/2-this.height/2):"bottom"===this.verticalAlign&&(d="left"===this.horizontalAlign?a.x1+2:"right"===this.horizontalAlign?a.x2-this.width-2:a.x1+a.width/2-this.width/2,c=a.y2-this.height-5),i=0;i<h.length;i++)for(j=h[i],a=0;a<j.entries.length;a++)k=j.entries[a],e=k.textBlock.x+d,f=c+i*this.fontSize,("line"===k.chartType||"stepLine"===k.chartType||"spline"===k.chartType)&&(this.ctx.strokeStyle=k.lineColor,this.ctx.lineWidth=Math.ceil(this.fontSize/8),this.ctx.beginPath(),this.ctx.moveTo(e-2,f+this.fontSize/2),this.ctx.lineTo(e+2+this.fontSize,f+this.fontSize/2),this.ctx.stroke()),T.drawMarker(e+this.fontSize/2,f+this.fontSize/2,this.ctx,k.markerType,n,k.markerColor,null,0),k.textBlock.x=e+this.fontSize+5,k.textBlock.y=f,k.textBlock.render(!0);this.chart.layoutManager.registerSpace(b,{width:this.width,height:this.height+5+5}),this.bounds={x1:d,y1:c,x2:d+this.width,y2:c+this.height}},a(y,r),y.prototype.render=function(){var a=this.chart.layoutManager.getFreeSpace();this.ctx.fillStyle="red",this.ctx.fillRect(a.x1,a.y1,a.x2,a.y2)},a(z,r),z.prototype.getDefaultAxisPlacement=function(){return type=this.type,"column"===type||"line"===type||"stepLine"===type||"spline"===type||"area"===type||"splineArea"===type||"stackedColumn"===type||"stackedLine"===type||"bubble"===type||"scatter"===type||"stackedArea"===type||"stackedColumn100"===type||"stackedLine100"===type||"stackedArea100"===type?"normal":"bar"===type||"stackedBar"===type||"stackedBar100"===type?"xySwapped":"pie"===type||"doughnut"===type?"none":(window.console.log("Unknown Chart Type: "+type),null)
},z.getDefaultLegendMarker=function(a){return"column"===a||"stackedColumn"===a||"stackedLine"===a||"bar"===a||"stackedBar"===a||"stackedBar100"===a||"bubble"===a||"scatter"===a||"stackedColumn100"===a||"stackedLine100"===a?"square":"line"===a||"stepLine"===a||"spline"===a||"pie"===a||"doughnut"===a?"circle":"area"===a||"splineArea"===a||"stackedArea"===a||"stackedArea100"===a?"triangle":(window.console.log("Unknown Chart Type: "+a),null)},z.prototype.getDataPointAtX=function(a,b){if(!this.dataPoints||0===this.dataPoints.length)return null;var c={dataPoint:null,distance:1/0,index:0/0},d=null,e=0,f=0,g=1,h=1/0,i=0,j=0,k=0;for("none"!==this.chart.plotInfo.axisPlacement&&(k=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,k=k>0?(this.dataPoints.length-1)/k*(a-this.dataPoints[0].x)>>0:0);;){if(f=g>0?k+e:k-e,f>=0&&f<this.dataPoints.length){var d=this.dataPoints[f],l=Math.abs(d.x-a);if(l<c.distance&&(c.dataPoint=d,c.distance=l,c.index=f),d=Math.abs(d.x-a),h>=d?h=d:g>0?i++:j++,i>1e3&&j>1e3)break}else if(0>k-e&&k+e>=this.dataPoints.length)break;-1===g?(e++,g=1):g=-1}return b||c.dataPoint.x!==a?b&&null!==c.dataPoint?c:null:c},z.prototype.getDataPointAtXY=function(a,b,c){if(!this.dataPoints||0===this.dataPoints.length)return null;c=c||!1;var d=[],e=0,f=0,g=1,h=!1,i=1/0,j=0,k=0,l=0;for("none"!==this.chart.plotInfo.axisPlacement&&(l=this.chart.axisX.getXValueAt({x:a,y:b}),f=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,l=f>0?(this.dataPoints.length-1)/f*(l-this.dataPoints[0].x)>>0:0);;){if(f=g>0?l+e:l-e,f>=0&&f<this.dataPoints.length){var m=this.chart._eventManager.objectMap[this.dataPointIds[f]],n=this.dataPoints[f];if(m){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":a>=m.x1&&a<=m.x2&&b>=m.y1&&b<=m.y2&&(d.push({dataPoint:n,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(m.x1-a),Math.abs(m.x2-a),Math.abs(m.y1-b),Math.abs(m.y2-b))}),h=!0);break;case"line":case"stepLine":case"spline":case"area":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var p=o("markerSize",n,this)||4,q=c?20:p,r=Math.sqrt(Math.pow(m.x1-a,2)+Math.pow(m.y1-b,2));q>=r&&d.push({dataPoint:n,dataPointIndex:f,dataSeries:this,distance:r}),f=Math.abs(m.x1-a),i>=f?i=f:g>0?j++:k++,p/2>=r&&(h=!0);break;case"bubble":p=m.size,r=Math.sqrt(Math.pow(m.x1-a,2)+Math.pow(m.y1-b,2)),p/2>=r&&(d.push({dataPoint:n,dataPointIndex:f,dataSeries:this,distance:r}),h=!0);break;case"pie":case"doughnut":p=m.center,q="doughnut"===this.type?.6*m.radius:0,r=Math.sqrt(Math.pow(p.x-a,2)+Math.pow(p.y-b,2)),r<m.radius&&r>q&&(r=Math.atan2(b-p.y,a-p.x),0>r&&(r+=2*Math.PI),r=(180*(r/Math.PI)%360+360)%360,p=(180*(m.startAngle/Math.PI)%360+360)%360,m=(180*(m.endAngle/Math.PI)%360+360)%360,p>m&&(m+=360,p>r&&(r+=360)),r>p&&m>r&&(d.push({dataPoint:n,dataPointIndex:f,dataSeries:this,distance:0}),h=!0))}if(h||j>1e3&&k>1e3)break}}else if(0>l-e&&l+e>=this.dataPoints.length)break;-1===g?(e++,g=1):g=-1}for(a=null,b=0;b<d.length;b++)a?d[b].distance<=a.distance&&(a=d[b]):a=d[b];return a},z.prototype.getMarkerProperties=function(a,b,c,d){var e=this.dataPoints;return{x:b,y:c,ctx:d,type:e[a].markerType?e[a].markerType:this.markerType,size:e[a].markerSize?e[a].markerSize:this.markerSize,color:e[a].markerColor?e[a].markerColor:this.markerColor?this.markerColor:e[a].color?e[a].color:this.color?this.color:this._colorSet[a%this._colorSet.length],borderColor:e[a].markerBorderColor?e[a].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:e[a].markerBorderThickness?e[a].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},a(A,r),A.prototype.createLabels=function(){var a,b,d=0,e=0,f=0,d=0;if("bottom"===this._position||"top"===this._position?(d=this.lineCoordinates.width/Math.abs(this.maximum-this.minimum)*this.interval,e=this.labelAutoFit?"undefined"==typeof this._options.labelMaxWidth?.9*d>>0:this.labelMaxWidth:"undefined"==typeof this._options.labelMaxWidth?.7*this.chart.width>>0:this.labelMaxWidth,f="undefined"==typeof this._options.labelWrap||this.labelWrap?.5*this.chart.height>>0:this.labelFontSize):("left"===this._position||"right"===this._position)&&(d=this.lineCoordinates.height/Math.abs(this.maximum-this.minimum)*this.interval,e=this.labelAutoFit?"undefined"==typeof this._options.labelMaxWidth?.3*this.chart.width>>0:this.labelMaxWidth:"undefined"==typeof this._options.labelMaxWidth?.5*this.chart.width>>0:this.labelMaxWidth,f="undefined"==typeof this._options.labelWrap||this.labelWrap?2*d>>0:this.labelFontSize),"axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType)for(b=c(new Date(this.maximum),this.interval,this.intervalType),d=this.intervalStartPosition;b>d;c(d,this.interval,this.intervalType))a="axisX"===this.type&&this.labels[d]?this.labels[d]:K(d,this.valueFormatString,this.chart._cultureInfo),a=new v(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:f,angle:this.labelAngle,text:this.prefix+a+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:d.getTime(),textBlock:a,effectiveHeight:null});else{if(b=this.maximum,this.labels&&this.labels.length){a=Math.ceil(this.interval);for(var g=Math.ceil(this.intervalStartPosition),h=!1,d=g;d<this.maximum;d+=a){if(!this.labels[d]){h=!1;break}h=!0}h&&(this.interval=a,this.intervalStartPosition=g)}for(d=this.intervalStartPosition;b>=d;d+=this.interval)a="axisX"===this.type&&this.labels[d]?this.labels[d]:L(d,this.valueFormatString,this.chart._cultureInfo),a=new v(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:f,angle:this.labelAngle,text:this.prefix+a+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:d,textBlock:a,effectiveHeight:null})}},A.prototype.createLabelsAndCalculateWidth=function(){var a=0;if(this._labels=[],"left"===this._position||"right"===this._position)for(this.createLabels(),i=0;i<this._labels.length;i++){textBlock=this._labels[i].textBlock;var b=textBlock.measureText();labelEffectiveWidth=0===this.labelAngle?b.width:b.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+b.height/2*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),labelEffectiveWidth>a&&(a=labelEffectiveWidth),this._labels[i].effectiveWidth=labelEffectiveWidth}return(this.title?this.titleFontSize+5:0)+a+this.tickLength+10},A.prototype.createLabelsAndCalculateHeight=function(){var a=0;this._labels=[];var b,c=0;if(this.createLabels(),"bottom"===this._position||"top"===this._position)for(c=0;c<this._labels.length;c++){b=this._labels[c].textBlock,b=b.measureText();var d=0,d=0===this.labelAngle?b.height:b.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+b.height/2*Math.cos(Math.PI/180*Math.abs(this.labelAngle));d>a&&(a=d),this._labels[c].effectiveHeight=d}return(this.title?this.titleFontSize+5:0)+a+this.tickLength},A.setLayoutAndRender=function(a,b,c,d,e){var f,g,h,i=a.chart,j=i.ctx;if(a.calculateAxisParameters(),b&&b.calculateAxisParameters(),c&&c.calculateAxisParameters(),b&&c&&"undefined"==typeof b._options.maximum&&"undefined"==typeof b._options.minimum&&"undefined"==typeof b._options.interval&&"undefined"==typeof c._options.maximum&&"undefined"==typeof c._options.minimum&&"undefined"==typeof c._options.interval){var k=(b.maximum-b.minimum)/b.interval,l=(c.maximum-c.minimum)/c.interval;k>l?c.maximum=c.interval*k+c.minimum:l>k&&(b.maximum=b.interval*l+b.minimum)}var m=b?b.lineThickness?b.lineThickness:0:0,n=c?c.lineThickness?c.lineThickness:0:0,k=b?b.gridThickness?b.gridThickness:0:0,l=c?c.gridThickness?c.gridThickness:0:0,o=b?b.margin:0;if("normal"===d)a.lineCoordinates={},m=b?b.createLabelsAndCalculateWidth():0,f=e.x1+m+o,a.lineCoordinates.x1=f,o=c?c.createLabelsAndCalculateWidth():0,g=e.x2-o>a.chart.width-10?a.chart.width-10:e.x2-o,a.lineCoordinates.x2=g,a.lineCoordinates.width=Math.abs(g-f),n=a.createLabelsAndCalculateHeight(),d=e.y2-n-a.margin,h=e.y2-a.margin,a.lineCoordinates.y1=d,a.lineCoordinates.y2=d,a.boundingRect={x1:f,y1:d,x2:g,y2:h,width:g-f,height:h-d},b&&(f=e.x1+b.margin,d=10>e.y1?10:e.y1,g=e.x1+m+b.margin,h=e.y2-n-a.margin,b.lineCoordinates={x1:g,y1:d,x2:g,y2:h,height:Math.abs(h-d)},b.boundingRect={x1:f,y1:d,x2:g,y2:h,width:g-f,height:h-d}),c&&(f=a.lineCoordinates.x2,d=10>e.y1?10:e.y1,g=f+o+c.margin,h=e.y2-n-a.margin,c.lineCoordinates={x1:f,y1:d,x2:f,y2:h,height:Math.abs(h-d)},c.boundingRect={x1:f,y1:d,x2:g,y2:h,width:g-f,height:h-d}),a.calculateValueToPixelConvertionParameters(),b&&b.calculateValueToPixelConvertionParameters(),c&&c.calculateValueToPixelConvertionParameters(),j.save(),j.rect(a.boundingRect.x1-40,a.boundingRect.y1,a.boundingRect.width+80,a.boundingRect.height),j.clip(),a.renderLabelsTicksAndTitle(),j.restore(),b&&b.renderLabelsTicksAndTitle(),c&&c.renderLabelsTicksAndTitle(),i.preparePlotArea(),e=a.chart.plotArea,j.save(),j.rect(e.x1,e.y1-Math.max(l,k)/2,Math.abs(e.x2-e.x1),Math.abs(e.y2-e.y1+Math.max(l,k)/2+Math.max(l,k,a.lineThickness)/2));else{var p=a.createLabelsAndCalculateWidth();b&&(b.lineCoordinates={},f=e.x1+p+a.margin+a.lineThickness/2,g=e.x2>b.chart.width-10?b.chart.width-10:e.x2,b.lineCoordinates.x1=f,b.lineCoordinates.x2=g,b.lineCoordinates.width=Math.abs(g-f)),c&&(c.lineCoordinates={},f=e.x1+p+a.margin+a.lineThickness/2,g=e.x2>c.chart.width-10?c.chart.width-10:e.x2,c.lineCoordinates.x1=f,c.lineCoordinates.x2=g,c.lineCoordinates.width=Math.abs(g-f));var q=b?b.createLabelsAndCalculateHeight():0,r=c?c.createLabelsAndCalculateHeight():0;b&&(d=e.y2-q-b.margin,h=e.y2-b.margin,b.lineCoordinates.y1=d,b.lineCoordinates.y2=d,b.boundingRect={x1:f,y1:d,x2:g,y2:h,width:g-f,height:q}),c&&(d=e.y1+c.margin,h=e.y1+c.margin+r,c.lineCoordinates.y1=h,c.lineCoordinates.y2=h,c.boundingRect={x1:f,y1:d,x2:g,y2:h,width:g-f,height:r}),f=e.x1+a.margin,d=10>e.y1+r+n/2?10:e.y1+r+n/2,g=e.x1+p+a.margin,h=e.y2-q-o-m/2,a.lineCoordinates={x1:g,y1:d,x2:g,y2:h,height:Math.abs(h-d)},a.boundingRect={x1:f,y1:d,x2:g,y2:h,width:g-f,height:h-d},a.calculateValueToPixelConvertionParameters(),b&&b.calculateValueToPixelConvertionParameters(),c&&c.calculateValueToPixelConvertionParameters(),j.save(),b&&b.renderLabelsTicksAndTitle(),c&&c.renderLabelsTicksAndTitle(),a.renderLabelsTicksAndTitle(),i.preparePlotArea(),e=a.chart.plotArea,j.save(),j.rect(e.x1-Math.max(a.lineThickness,k,l)/2,e.y1,Math.abs(e.x2-e.x1+Math.max(a.lineThickness,k,l)/2+Math.max(k,l)/2),Math.abs(e.y2-e.y1))}j.clip(),a.renderInterlacedColors(),b&&b.renderInterlacedColors(),c&&c.renderInterlacedColors(),j.restore(),a.renderGrid(),b&&b.renderGrid(),c&&c.renderGrid(),a.renderAxisLine(),b&&b.renderAxisLine(),c&&c.renderAxisLine()},A.prototype.renderLabelsTicksAndTitle=function(){var a=!1,b=0,c=1,d=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(c=1.2),"undefined"==typeof this._options.interval){if("bottom"===this._position||"top"===this._position){for(e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||(f=f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+f.textBlock.height*Math.sin(Math.PI/180*this.labelAngle),b+=f);b>this.lineCoordinates.width*c&&(a=!0)}if("left"===this._position||"right"===this._position){for(e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||(f=f.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),b+=f);b>this.lineCoordinates.height*c&&(a=!0)}}if("bottom"===this._position){var e=0;this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor;for(var f,e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||f.position>this.maximum||(b=this.getPixelCoordinatesOnAxis(f.position),this.tickThickness&&(this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,b.y<<0),this.ctx.lineTo(b.x<<0,b.y+this.tickLength<<0),this.ctx.stroke()),a&&0!==d++%2||(0===f.textBlock.angle?(b.x-=f.textBlock.width/2,b.y+=this.tickLength+f.textBlock.fontSize/2):(b.x-=0>this.labelAngle?f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,b.y+=this.tickLength+Math.abs(0>this.labelAngle?f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)),f.textBlock.x=b.x,f.textBlock.y=b.y,f.textBlock.render(!0)));this.title&&(this._titleTextBlock=new v(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y2-this.titleFontSize-5,maxWidth:this.lineCoordinates.width,maxHeight:this.titleFontSize,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.render(!0))}else if("top"===this._position){for(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||f.position>this.maximum||(b=this.getPixelCoordinatesOnAxis(f.position),this.tickThickness&&(this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,b.y<<0),this.ctx.lineTo(b.x<<0,b.y-this.tickLength<<0),this.ctx.stroke()),a&&0!==d++%2||(0===f.textBlock.angle?(b.x-=f.textBlock.width/2,b.y-=this.tickLength+f.textBlock.height/2):(b.x-=0<this.labelAngle?f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,b.y-=this.tickLength+Math.abs(0<this.labelAngle?f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5:5)),f.textBlock.x=b.x,f.textBlock.y=b.y,f.textBlock.render(!0)));this.title&&(this._titleTextBlock=new v(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y1,maxWidth:this.lineCoordinates.width,maxHeight:this.titleFontSize,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.render(!0))}else if("left"===this._position){for(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||f.position>this.maximum||(b=this.getPixelCoordinatesOnAxis(f.position),this.tickThickness&&(this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,b.y<<0),this.ctx.lineTo(b.x-this.tickLength<<0,b.y<<0),this.ctx.stroke()),a&&0!==d++%2||(f.textBlock.x=b.x-f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5,f.textBlock.y=0===this.labelAngle?b.y-f.textBlock.height/2+this.labelFontSize/2:b.y-f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),f.textBlock.render(!0)));this.title&&(this._titleTextBlock=new v(this.ctx,{x:this.boundingRect.x1+5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:this.titleFontSize,angle:-90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}else if("right"===this._position){for(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||f.position>this.maximum||(b=this.getPixelCoordinatesOnAxis(f.position),this.tickThickness&&(this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,b.y<<0),this.ctx.lineTo(b.x+this.tickLength<<0,b.y<<0),this.ctx.stroke()),a&&0!==d++%2||(f.textBlock.x=b.x+this.tickLength+5,f.textBlock.y=0===this.labelAngle?b.y-f.textBlock.height/2+this.labelFontSize/2:b.y,f.textBlock.render(!0)));this.title&&(this._titleTextBlock=new v(this.ctx,{x:this.boundingRect.x2-5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:this.titleFontSize,angle:90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}},A.prototype.renderInterlacedColors=function(){var a,b,c=this.chart.plotArea.ctx,d=this.chart.plotArea;if("bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(c.fillStyle=this.interlacedColor,e=0;e<this._labels.length;e+=2)b=this.getPixelCoordinatesOnAxis(this._labels[e].position),a=e+1>=this._labels.length?this.getPixelCoordinatesOnAxis(this.maximum):this.getPixelCoordinatesOnAxis(this._labels[e+1].position),c.fillRect(d.x1,a.y,Math.abs(d.x1-d.x2),Math.abs(a.y-b.y))}else{var e=0;for(c.fillStyle=this.interlacedColor,e=0;e<this._labels.length;e+=2)a=this.getPixelCoordinatesOnAxis(this._labels[e].position),b=e+1>=this._labels.length?this.getPixelCoordinatesOnAxis(this.maximum):this.getPixelCoordinatesOnAxis(this._labels[e+1].position),c.fillRect(a.x,d.y1,Math.abs(b.x-a.x),Math.abs(d.y1-d.y2))}},A.prototype.renderGrid=function(){var a,b=this.chart.ctx,c=this.chart.plotArea;if("bottom"===this._position||"top"===this._position){if(this.gridThickness&&0<this.gridThickness)for(b.lineWidth=this.gridThickness,b.strokeStyle=this.gridColor,b.beginPath(),d=0;d<this._labels.length;d++)this._labels[d].position<this.minimum||this._labels[d].position>this.maximum||(a=this.getPixelCoordinatesOnAxis(this._labels[d].position),b.moveTo(a.x<<0,c.y1<<0),b.lineTo(a.x<<0,c.y2<<0),b.stroke())}else if(("left"===this._position||"right"===this._position)&&this.gridThickness&&0<this.gridThickness){b.lineWidth=this.gridThickness,b.strokeStyle=this.gridColor,b.beginPath();for(var d=0;d<this._labels.length;d++)this._labels[d].position<this.minimum||this._labels[d].position>this.maximum||(a=this.getPixelCoordinatesOnAxis(this._labels[d].position),b.moveTo(c.x1<<0,a.y<<0),b.lineTo(c.x2<<0,a.y<<0),b.stroke())}},A.prototype.renderAxisLine=function(){var a=this.chart.ctx;"bottom"===this._position||"top"===this._position?this.lineThickness&&(a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor?this.lineColor:"black",a.beginPath(),a.moveTo(this.lineCoordinates.x1,this.lineCoordinates.y1),a.lineTo(this.lineCoordinates.x2,this.lineCoordinates.y2),a.stroke()):"left"!==this._position&&"right"!==this._position||!this.lineThickness||(a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor,a.beginPath(),a.moveTo(this.lineCoordinates.x1,this.lineCoordinates.y1),a.lineTo(this.lineCoordinates.x2,this.lineCoordinates.y2),a.stroke())},A.prototype.getPixelCoordinatesOnAxis=function(a){var b={},c=this.lineCoordinates.width,d=this.lineCoordinates.height;return("bottom"===this._position||"top"===this._position)&&(c/=Math.abs(this.maximum-this.minimum),b.x=this.lineCoordinates.x1+c*(a-this.minimum),b.y=this.lineCoordinates.y1),("left"===this._position||"right"===this._position)&&(c=d/Math.abs(this.maximum-this.minimum),b.y=this.lineCoordinates.y2-c*(a-this.minimum),b.x=this.lineCoordinates.x2),b},A.prototype.getXValueAt=function(a){if(!a)return null;var b=null;return"left"===this._position?b=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-a.y)+this.chart.axisX.minimum:"bottom"===this._position&&(b=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a.x-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum),b},A.prototype.calculateValueToPixelConvertionParameters=function(a){a={pixelPerUnit:null,minimum:null,reference:null};var b=this.lineCoordinates.width,c=this.lineCoordinates.height;a.minimum=this.minimum,("bottom"===this._position||"top"===this._position)&&(a.pixelPerUnit=b/Math.abs(this.maximum-this.minimum),a.reference=this.lineCoordinates.x1),("left"===this._position||"right"===this._position)&&(a.pixelPerUnit=-1*c/Math.abs(this.maximum-this.minimum),a.reference=this.lineCoordinates.y2),this.convertionParameters=a},A.prototype.calculateAxisParameters=function(){var a=this.chart.layoutManager.getFreeSpace();"bottom"===this._position||"top"===this._position?(this.maxWidth=a.width,this.maxHeight=a.height):(this.maxWidth=a.height,this.maxHeight=a.width);var b,c,d,e,a="axisX"===this.type?500>this.maxWidth?8:Math.max(6,Math.floor(this.maxWidth/62)):Math.floor(this.maxWidth/40);if("axisX"===this.type?(b=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:this.dataInfo.viewPortMin,c=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:this.dataInfo.viewPortMax,0===c-b&&(c+=.4,b-=.4),d=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1):"axisY"===this.type&&(b="undefined"==typeof this._options.minimum?this.dataInfo.viewPortMin:this._options.minimum,c="undefined"==typeof this._options.maximum?this.dataInfo.viewPortMax:this._options.maximum,0===c-b?(c+=5,b-=5):(0!==c&&(c+=Math.abs(.05)),0!==b&&(b-=Math.abs(.05))),this.includeZero&&"undefined"==typeof this._options.minimum&&b>0&&(b=0),this.includeZero&&"undefined"==typeof this._options.maximum&&0>c&&(c=0)),"axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType?(e=c-b,this.intervalType||(a>=e/1?(this.interval=1,this.intervalType="millisecond"):a>=e/2?(this.interval=2,this.intervalType="millisecond"):a>=e/5?(this.interval=5,this.intervalType="millisecond"):a>=e/10?(this.interval=10,this.intervalType="millisecond"):a>=e/20?(this.interval=20,this.intervalType="millisecond"):a>=e/50?(this.interval=50,this.intervalType="millisecond"):a>=e/100?(this.interval=100,this.intervalType="millisecond"):a>=e/200?(this.interval=200,this.intervalType="millisecond"):a>=e/250?(this.interval=250,this.intervalType="millisecond"):a>=e/300?(this.interval=300,this.intervalType="millisecond"):a>=e/400?(this.interval=400,this.intervalType="millisecond"):a>=e/500?(this.interval=500,this.intervalType="millisecond"):e/(1*J.secondDuration)<=a?(this.interval=1,this.intervalType="second"):e/(2*J.secondDuration)<=a?(this.interval=2,this.intervalType="second"):e/(5*J.secondDuration)<=a?(this.interval=5,this.intervalType="second"):e/(10*J.secondDuration)<=a?(this.interval=10,this.intervalType="second"):e/(15*J.secondDuration)<=a?(this.interval=15,this.intervalType="second"):e/(20*J.secondDuration)<=a?(this.interval=20,this.intervalType="second"):e/(30*J.secondDuration)<=a?(this.interval=30,this.intervalType="second"):e/(1*J.minuteDuration)<=a?(this.interval=1,this.intervalType="minute"):e/(2*J.minuteDuration)<=a?(this.interval=2,this.intervalType="minute"):e/(5*J.minuteDuration)<=a?(this.interval=5,this.intervalType="minute"):e/(10*J.minuteDuration)<=a?(this.interval=10,this.intervalType="minute"):e/(15*J.minuteDuration)<=a?(this.interval=15,this.intervalType="minute"):e/(20*J.minuteDuration)<=a?(this.interval=20,this.intervalType="minute"):e/(30*J.minuteDuration)<=a?(this.interval=30,this.intervalType="minute"):e/(1*J.hourDuration)<=a?(this.interval=1,this.intervalType="hour"):e/(2*J.hourDuration)<=a?(this.interval=2,this.intervalType="hour"):e/(3*J.hourDuration)<=a?(this.interval=3,this.intervalType="hour"):e/(6*J.hourDuration)<=a?(this.interval=6,this.intervalType="hour"):e/(1*J.dayDuration)<=a?(this.interval=1,this.intervalType="day"):e/(2*J.dayDuration)<=a?(this.interval=2,this.intervalType="day"):e/(4*J.dayDuration)<=a?(this.interval=4,this.intervalType="day"):e/(1*J.weekDuration)<=a?(this.interval=1,this.intervalType="week"):e/(2*J.weekDuration)<=a?(this.interval=2,this.intervalType="week"):e/(3*J.weekDuration)<=a?(this.interval=3,this.intervalType="week"):e/(1*J.monthDuration)<=a?(this.interval=1,this.intervalType="month"):e/(2*J.monthDuration)<=a?(this.interval=2,this.intervalType="month"):e/(3*J.monthDuration)<=a?(this.interval=3,this.intervalType="month"):e/(6*J.monthDuration)<=a?(this.interval=6,this.intervalType="month"):(this.interval=e/(1*J.yearDuration)<=a?1:e/(2*J.yearDuration)<=a?2:e/(4*J.yearDuration)<=a?4:Math.floor(A.getNiceNumber(e/(a-1),!0)/J.yearDuration),this.intervalType="year")),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:b-d/2,this.maximum=this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:c+d/2,this.valueFormatString||("year"===this.intervalType?this.valueFormatString="YYYY":"month"===this.intervalType?this.valueFormatString="MMM YYYY":"week"===this.intervalType?this.valueFormatString="MMM DD YYYY":"day"===this.intervalType?this.valueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.valueFormatString="hh:mm TT":"minute"===this.intervalType?this.valueFormatString="hh:mm TT":"second"===this.intervalType?this.valueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.valueFormatString="fff'ms'")),this.intervalStartPosition=this.getLabelStartPoint(new Date(this.minimum),this.intervalType,this.interval)):(this.intervalType="number",e=A.getNiceNumber(c-b,!1),this.interval=this._options&&this._options.interval?this._options.interval:A.getNiceNumber(e/(a-1),!0),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:Math.floor(b/this.interval)*this.interval,this.maximum=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:Math.ceil(c/this.interval)*this.interval,"axisX"===this.type?(null===this.sessionVariables.internalMinimum&&(this.minimum=b-d/2),this.sessionVariables.internalMaximum||(this.maximum=c+d/2),this.intervalStartPosition=Math.floor((this.minimum+this.interval)/this.interval)*this.interval):"axisY"===this.type&&(this.intervalStartPosition=this.minimum)),"axisX"===this.type&&(this._absoluteMinimum=this._options&&"undefined"!=typeof this._options.minimum?this._options.minimum:this.dataInfo.min-d/2,this._absoluteMaximum=this._options&&"undefined"!=typeof this._options.maximum?this._options.maximum:this.dataInfo.max+d/2),!this.valueFormatString&&(this.valueFormatString="#,##0.##",e=Math.abs(this.maximum-this.minimum),1>e&&(b=Math.floor(Math.abs(Math.log(e)/Math.LN10))+2,b>2)))for(c=0;b-2>c;c++)this.valueFormatString+="#"},A.prototype._getFontString=function(){return this.labelFontStyle+" "+this.labelFontWeight+" "+this.labelFontSize+"px "+this.labelFontFamily},A.getNiceNumber=function(a,b){var c=Math.floor(Math.log(a)/Math.LN10),d=a/Math.pow(10,c);return(b?1.5>d?1:3>d?2:7>d?5:10:1>=d?1:2>=d?2:5>=d?5:10)*Math.pow(10,c)},A.prototype.getLabelStartPoint=function(){var a=d(this.interval,this.intervalType),a=new Date(Math.floor(this.minimum/a)*a);return"millisecond"!==this.intervalType&&("second"===this.intervalType?0<a.getMilliseconds()&&(a.setSeconds(a.getSeconds()+1),a.setMilliseconds(0)):"minute"===this.intervalType?(0<a.getSeconds()||0<a.getMilliseconds())&&(a.setMinutes(a.getMinutes()+1),a.setSeconds(0),a.setMilliseconds(0)):"hour"===this.intervalType?(0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setHours(a.getHours()+1),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"day"===this.intervalType?(0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setDate(a.getDate()+1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"week"===this.intervalType?(0<a.getDay()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setDate(a.getDate()+(7-a.getDay())),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"month"===this.intervalType?(1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setMonth(a.getMonth()+1),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)):"year"===this.intervalType&&(0<a.getMonth()||1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())&&(a.setFullYear(a.getFullYear()+1),a.setMonth(0),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0))),a},a(B,r),B.prototype._initialize=function(){if(this.enabled){this.container=document.createElement("div"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.display="none";var a;a='<div style=" width: auto;height: auto;min-width: 50px;',a+="line-height: 20px;",a+="padding: 5px;",a+="font-family: Calibri, Arial, Georgia, serif;",a+="font-weight: 400;",a+="font-style: italic;",a+="font-size: 14px;",a+="color: #000000;",a+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",a+="text-align: left;",a+="border: 2px solid gray;",a+=E?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",a+="text-indent: 0px;",a+="white-space: nowrap;",a+="border-radius: 10px;",E||(a+="filter: alpha(opacity = 90);",a+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),a+='} "> Sample Tooltip</div>',this.container.innerHTML=a,this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},B.prototype.mouseMoveHandler=function(a,b){this._lastUpdated&&40>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this._updateToolTip(a,b))},B.prototype._updateToolTip=function(a,b){if(this.enabled){if("undefined"==typeof a||"undefined"==typeof b){if(isNaN(this._prevX)||isNaN(this._prevY))return;a=this._prevX,b=this._prevY}else this._prevX=a,this._prevY=b;var c=null,d=null,e=[],f=0;if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){for(f="xySwapped"===this.chart.plotInfo.axisPlacement?(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-b)+this.chart.axisX.minimum:(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum,c=[],d=0;d<this.chart.data.length;d++){var g=this.chart.data[d].getDataPointAtX(f,!0);g&&0<=g.index&&(g.dataSeries=this.chart.data[d],c.push(g))}if(0===c.length)return;for(c.sort(function(a,b){return a.distance-b.distance}),f=c[0],d=0;d<c.length;d++)c[d].dataPoint.x.valueOf()===f.dataPoint.x.valueOf()&&e.push(c[d]);c=null}else if((g=this.chart.getDataPointAtXY(a,b,!0))?(this.currentDataPointIndex=g.dataPointIndex,this.currentSeriesIndex=g.dataSeries.index):E?(g=n(a,b,this.chart._eventManager.ghostCtx),g>0&&"undefined"!=typeof this.chart._eventManager.objectMap[g]?(eventObject=this.chart._eventManager.objectMap[g],this.currentSeriesIndex=eventObject.dataSeriesIndex,this.currentDataPointIndex=0<=eventObject.dataPointIndex?eventObject.dataPointIndex:-1):this.currentDataPointIndex=-1):this.currentDataPointIndex=-1,0<=this.currentSeriesIndex){if(d=this.chart.data[this.currentSeriesIndex],g={},0<=this.currentDataPointIndex)c=d.dataPoints[this.currentDataPointIndex],g.dataSeries=d,g.dataPoint=c,g.index=this.currentDataPointIndex,g.distance=Math.abs(c.x-f);else{if("line"!==d.type&&"stepLine"!==d.type&&"spline"!==d.type&&"area"!==d.type&&"splineArea"!==d.type&&"stackedArea"!==d.type&&"stackedArea100"!==d.type)return;f=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum.valueOf(),g=d.getDataPointAtX(f,!0),g.dataSeries=d,this.currentDataPointIndex=g.index,c=g.dataPoint}e.push(g)}if(0<e.length){this.highlightObjects(e),f="",f=this.getToolTipInnerHTML({entries:e}),this.contentDiv.innerHTML=f,this.contentDiv.innerHTML=f,f=!1,"none"===this.container.style.display&&(f=!0,this.container.style.display="block");
try{this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.borderColor?this.borderColor:e[0].dataPoint.color?e[0].dataPoint.color:e[0].dataSeries.color?e[0].dataSeries.color:e[0].dataSeries._colorSet[e[0].index%e[0].dataSeries._colorSet.length]}catch(h){}"pie"===e[0].dataSeries.type||"doughnut"===e[0].dataSeries.type||"bar"===e[0].dataSeries.type||"stackedBar"===e[0].dataSeries.type||"stackedBar100"===e[0].dataSeries.type?toolTipLeft=a-10-this.container.clientWidth:(toolTipLeft=this.chart.axisX.lineCoordinates.width/Math.abs(this.chart.axisX.maximum-this.chart.axisX.minimum)*Math.abs(e[0].dataPoint.x-this.chart.axisX.minimum)+this.chart.axisX.lineCoordinates.x1+.5-this.container.clientWidth<<0,toolTipLeft-=10),toolTipLeft=toolTipLeft>0?toolTipLeft+"px":toolTipLeft+this.container.clientWidth+20+"px",e=1!==e.length||this.shared||"line"!==e[0].dataSeries.type&&"stepLine"!==e[0].dataSeries.type&&"spline"!==e[0].dataSeries.type&&"area"!==e[0].dataSeries.type&&"splineArea"!==e[0].dataSeries.type&&"stackedArea"!==e[0].dataSeries.type&&"stackedArea100"!==e[0].dataSeries.type?"bar"===e[0].dataSeries.type||"stackedBar"===e[0].dataSeries.type||"stackedBar100"===e[0].dataSeries.type?e[0].dataSeries.axisX.lineCoordinates.y2-e[0].dataSeries.axisX.lineCoordinates.height/Math.abs(e[0].dataSeries.axisX.maximum-e[0].dataSeries.axisX.minimum)*Math.abs(e[0].dataPoint.x-e[0].dataSeries.axisX.minimum)+.5<<0:b:e[0].dataSeries.axisY.lineCoordinates.y2-e[0].dataSeries.axisY.lineCoordinates.height/Math.abs(e[0].dataSeries.axisY.maximum-e[0].dataSeries.axisY.minimum)*Math.abs(e[0].dataPoint.y-e[0].dataSeries.axisY.minimum)+.5<<0,e=-e+10,0<e+this.container.clientHeight+5&&(e-=e+this.container.clientHeight+5-0),this.container.style.left=toolTipLeft,this.container.style.bottom=e+"px",!this.animationEnabled||f?this.disableAnimation():this.enableAnimation()}}},B.prototype.highlightObjects=function(a){if(this.enabled){var b=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),b.save();var c=this.chart.plotArea;for(b.rect(c.x1,c.y1,c.width,c.height),b.clip(),b.beginPath(),c=0;c<a.length;c++){var d=a[c];if((d=this.chart._eventManager.objectMap[d.dataSeries.dataPointIds[d.index]])&&d.objectType&&"dataPoint"===d.objectType){var e=this.chart.data[d.dataSeriesIndex],f=d.dataPointIndex;"line"===e.type||"stepLine"===e.type||"spline"===e.type||"scatter"===e.type||"area"===e.type||"splineArea"===e.type||"stackedArea"===e.type||"stackedArea100"===e.type?(e=e.getMarkerProperties(f,d.x1,d.y1,this.chart.overlaidCanvasCtx),e.size=Math.max(1.5*e.size<<0,10),e.borderColor=e.borderColor||"#FFFFFF",e.borderThickness=e.borderThickness||Math.ceil(.1*e.size),T.drawMarkers([e])):"bubble"===e.type?(e=e.getMarkerProperties(f,d.x1,d.y1,this.chart.overlaidCanvasCtx),e.size=d.size,e.color="white",e.borderColor="white",b.globalAlpha=.3,T.drawMarkers([e]),b.globalAlpha=1):"column"===e.type||"stackedColumn"===e.type||"stackedColumn100"===e.type||"bar"===e.type||"stackedBar"===e.type||"stackedBar100"===e.type?(b.globalAlpha=.3,R(b,d.x1,d.y1,d.x2,d.y2,"white",!1,!1,!1,!1),b.globalAlpha=1):("pie"===e.type||"doughnut"===e.type)&&(b.globalAlpha=.3,S(b,d.center,d.radius,"white",e.type,d.startAngle,d.endAngle),b.globalAlpha=1)}}b.globalAlpha=1,b.restore()}},B.prototype.getToolTipInnerHTML=function(a){a=a.entries;for(var b="",c=null,d=null,e=0,f="",g=!0,h=0;h<a.length;h++)if(a[h].dataSeries.toolTipContent||a[h].dataPoint.toolTipContent){g=!1;break}if(g&&this.content&&"function"==typeof this.content)b=this.content({entries:a});else if(1<a.length)for(h=0;h<a.length;h++)c=a[h].dataSeries,d=a[h].dataPoint,e=a[h].index,f="",0===h&&g&&!this.content&&(f+="undefined"!=typeof this.chart.axisX.labels[d.x]?this.chart.axisX.labels[d.x]:"{x}",f+="</br>"),"line"===c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"splineArea"===c.type||"column"===c.type||"bar"===c.type||"scatter"===c.type||"stackedColumn"===c.type||"stackedColumn100"===c.type||"stackedBar"===c.type||"stackedBar100"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type?f+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}":"bubble"===c.type?f+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":("pie"===c.type||"doughnut"===c.type)&&(f+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"&nbsp;&nbsp;{y}"),b+=this.chart.replaceKeywordsWithValue(f,d,c,e),h<a.length-1&&(b+="</br>");else c=a[0].dataSeries,d=a[0].dataPoint,e=a[0].index,"line"===c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"splineArea"===c.type||"column"===c.type||"bar"===c.type||"scatter"===c.type||"stackedColumn"===c.type||"stackedColumn100"===c.type||"stackedBar"===c.type||"stackedBar100"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type?f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y}":"bubble"===c.type?f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":("pie"===c.type||"doughnut"===c.type)&&(f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!=typeof this.content?this.content:(d.name?"{name}:&nbsp;&nbsp;":d.label?"{label}:&nbsp;&nbsp;":"")+"{y}"),b+=this.chart.replaceKeywordsWithValue(f,d,c,e);return b},B.prototype.enableAnimation=function(){this.container.style.WebkitTransition||(this.container.style.WebkitTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MozTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MsTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.transition="left .2s ease-out, bottom .2s ease-out")},B.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},B.prototype.hide=function(){this.enabled&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=0/0,this.chart.resetOverlayedCanvas())},s.prototype.replaceKeywordsWithValue=function(a,b,c,d){var e=this;return a.replace(/\{\s*[a-zA-Z]+\s*\}|"[^"]*"|'[^']*'/g,function(a){if('"'===a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1])return a.slice(1,a.length-1);a=f(a.slice(1,a.length-1));var g=null;if("color"===a)return b.color?b.color:c.color?c.color:c._colorSet[d%c._colorSet.length];if(b.hasOwnProperty(a))g=b;else{if(!c.hasOwnProperty(a))return"";g=c}return"x"===a?e.axisX&&"dateTime"===e.plotInfo.axisXValueType?K(g[a],b.xValueFormatString?b.xValueFormatString:c.xValueFormatString?c.xValueFormatString:e.axisX&&e.axisX.valueFormatString?e.axisX.valueFormatString:"DD MMM YY",e._cultureInfo):L(g[a],b.xValueFormatString?b.xValueFormatString:c.xValueFormatString?c.xValueFormatString:"#,##0.########",e._cultureInfo):"y"===a?L(g[a],b.yValueFormatString?b.yValueFormatString:c.yValueFormatString?c.yValueFormatString:"#,##0.########",e._cultureInfo):g[a]})},C.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,E&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},C.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},C.prototype.mouseEventHandler=function(a){if("mousemove"===a.type||"click"===a.type){var b=null,c=null,d=null,e=-1,f=!1,g=!1,h=M(a),d=c=null;(d=this.chart.getDataPointAtXY(h.x,h.y,!1))?c=d.dataSeries.dataPointIds[d.dataPointIndex]:E&&(c=n(h.x,h.y,this.ghostCtx)),d=this.chart.plotArea,c&&h.x>d.x1&&h.x<d.x2&&h.y>d.y1&&h.y<d.y2?"undefined"!=typeof this.objectMap[c]&&"dataPoint"===this.objectMap[c].objectType?(b=this.objectMap[c],c=this.chart.data[b.dataSeriesIndex],d=c.dataPoints[b.dataPointIndex],e=b.dataPointIndex,(null===this.previousDataPointEventObject||this.previousDataPointEventObject.dataSeriesIndex!==b.dataSeriesIndex||this.previousDataPointEventObject.dataPointIndex!==b.dataPointIndex)&&(this.previousDataPointEventObject&&(f=!0),d.mouseover&&d.mouseover.call(d,{x:h.x,y:h.y,dataPoint:d,dataSeries:c,dataPointIndex:e}),!c.mouseover||null!==this.previousDataPointEventObject&&this.previousDataPointEventObject.dataSeriesIndex===b.dataSeriesIndex||(c.mouseover&&c.mouseover.call(c,{x:h.x,y:h.y,dataPoint:d,dataSeries:c,dataPointIndex:e}),this.previousDataPointEventObject&&(g=!0))),"mousemove"===a.type?(d.cursor&&d.cursor!==a.target.style.cursor?a.target.style.cursor=d.cursor:c.cursor&&c.cursor!==a.target.style.cursor&&(a.target.style.cursor=c.cursor),d.mousemove&&d.mousemove.call(d,{x:h.x,y:h.y,dataPoint:d,dataSeries:c,dataPointIndex:e}),c.mousemove&&c.mousemove.call(c,{x:h.x,y:h.y,dataPoint:d,dataSeries:c,dataPointIndex:e})):"click"===a.type&&5>Math.sqrt(Math.pow(this.chart.dragStartPoint.x-h.x,2)+Math.pow(this.chart.dragStartPoint.y-h.y,2))&&(d.click&&d.click.call(d,{x:h.x,y:h.y,dataPoint:d,dataSeries:c,dataPointIndex:e}),c.click&&c.click.call(c,{x:h.x,y:h.y,dataPoint:d,dataSeries:c,dataPointIndex:e}),this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(c,{x:h.x,y:h.y,dataPoint:d,dataSeries:c,dataPointIndex:e}))):this.previousDataPointEventObject&&(g=f=!0):this.previousDataPointEventObject&&(g=f=!0),(f||g)&&(a.target.style.cursor=this.chart._defaultCursor,a=this.chart.data[this.previousDataPointEventObject.dataSeriesIndex],c=a.dataPoints[this.previousDataPointEventObject.dataPointIndex],d=this.previousDataPointEventObject.dataPointIndex,f&&c.mouseout&&c.mouseout.call(c,{x:h.x,y:h.y,dataPoint:c,dataSeries:a,dataPointIndex:d}),g&&a.mouseout&&a.mouseout.call(a,{x:h.x,y:h.y,dataPoint:c,dataSeries:a,dataPointIndex:d})),this.previousDataPointEventObject=b}},a(D,r);var T={drawMarker:function(a,b,c,d,e,f,g,h){if(c){var i=1;c.fillStyle=f?f:"#000000",c.strokeStyle=g?g:"#000000",c.lineWidth=h?h:0,"circle"===d?(c.moveTo(a,b),c.beginPath(),c.arc(a,b,e/2,0,2*Math.PI,!1),f&&c.fill(),h&&(g?c.stroke():(i=c.globalAlpha,c.globalAlpha=.15,c.strokeStyle="black",c.stroke(),c.globalAlpha=i))):"square"===d?(c.beginPath(),c.rect(a-e/2,b-e/2,e,e),f&&c.fill(),h&&(g?c.stroke():(i=c.globalAlpha,c.globalAlpha=.15,c.strokeStyle="black",c.stroke(),c.globalAlpha=i))):"triangle"===d?(c.beginPath(),c.moveTo(a-e/2,b+e/2),c.lineTo(a+e/2,b+e/2),c.lineTo(a,b-e/2),c.closePath(),f&&c.fill(),h&&(g?c.stroke():(i=c.globalAlpha,c.globalAlpha=.15,c.strokeStyle="black",c.stroke(),c.globalAlpha=i)),c.beginPath()):"cross"===d&&(c.strokeStyle=f,c.lineWidth=e/4,c.beginPath(),c.moveTo(a-e/2,b-e/2),c.lineTo(a+e/2,b+e/2),c.stroke(),c.moveTo(a+e/2,b-e/2),c.lineTo(a-e/2,b+e/2),c.stroke())}},drawMarkers:function(a){for(var b=0;b<a.length;b++){var c=a[b];T.drawMarker(c.x,c.y,c.ctx,c.type,c.size,c.color,c.borderColor,c.borderThickness)}}},U={Chart:function(a,b){var c=new s(a,b,this);this.render=function(){c.render()},this.options=c._options},addColorSet:function(a,b){H[a]=b},addCultureInfo:function(a,b){G[a]=b}};U.Chart.version="1.3.0 Beta 3",window.CanvasJS=U}(),document.createElement("canvas").getContext||function(){function a(){return this.context_||(this.context_=new n(this))}function b(a,b){var c=E.call(arguments,2);return function(){return a.apply(b,c.concat(E.call(arguments)))}}function c(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function d(a){a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),a.namespaces.g_o_||a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),a.styleSheets.ex_canvas_||(a=a.createStyleSheet(),a.owningElement.id="ex_canvas_",a.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function e(a){var b=a.srcElement;switch(a.propertyName){case"width":b.getContext().clearRect(),b.style.width=b.attributes.width.nodeValue+"px",b.firstChild.style.width=b.clientWidth+"px";break;case"height":b.getContext().clearRect(),b.style.height=b.attributes.height.nodeValue+"px",b.firstChild.style.height=b.clientHeight+"px"}}function f(a){a=a.srcElement,a.firstChild&&(a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px")}function g(){return[[1,0,0],[0,1,0],[0,0,1]]}function h(a,b){for(var c=g(),d=0;3>d;d++)for(var e=0;3>e;e++){for(var f=0,h=0;3>h;h++)f+=a[d][h]*b[h][e];c[d][e]=f}return c}function i(a,b){b.fillStyle=a.fillStyle,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.lineWidth=a.lineWidth,b.miterLimit=a.miterLimit,b.shadowBlur=a.shadowBlur,b.shadowColor=a.shadowColor,b.shadowOffsetX=a.shadowOffsetX,b.shadowOffsetY=a.shadowOffsetY,b.strokeStyle=a.strokeStyle,b.globalAlpha=a.globalAlpha,b.font=a.font,b.textAlign=a.textAlign,b.textBaseline=a.textBaseline,b.arcScaleX_=a.arcScaleX_,b.arcScaleY_=a.arcScaleY_,b.lineScale_=a.lineScale_}function j(a){var b=a.indexOf("(",3),c=a.indexOf(")",b+1),b=a.substring(b+1,c).split(",");return(4!=b.length||"a"!=a.charAt(3))&&(b[3]=1),b}function k(a,b,c){return Math.min(c,Math.max(b,a))}function l(a,b,c){return 0>c&&c++,c>1&&c--,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}function m(a){if(a in K)return K[a];var b,c=1;if(a=String(a),"#"==a.charAt(0))b=a;else if(/^rgb/.test(a)){c=j(a),b="#";for(var d,e=0;3>e;e++)d=-1!=c[e].indexOf("%")?Math.floor(255*(parseFloat(c[e])/100)):+c[e],b+=G[k(d,0,255)];c=+c[3]}else if(/^hsl/.test(a)){if(e=c=j(a),b=parseFloat(e[0])/360%360,0>b&&b++,d=k(parseFloat(e[1])/100,0,1),e=k(parseFloat(e[2])/100,0,1),0==d)d=e=b=e;else{var f=.5>e?e*(1+d):e+d-e*d,g=2*e-f;d=l(g,f,b+1/3),e=l(g,f,b),b=l(g,f,b-1/3)}b="#"+G[Math.floor(255*d)]+G[Math.floor(255*e)]+G[Math.floor(255*b)],c=c[3]}else b=J[a]||a;return K[a]={color:b,alpha:c}}function n(a){this.m_=g(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*C,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=a;var b="width:"+a.clientWidth+"px;height:"+a.clientHeight+"px;overflow:hidden;position:absolute",c=a.ownerDocument.createElement("div");c.style.cssText=b,a.appendChild(c),b=c.cloneNode(!1),b.style.backgroundColor="red",b.style.filter="alpha(opacity=0)",a.appendChild(b),this.element_=c,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function o(a,b,c,d){a.currentPath_.push({type:"bezierCurveTo",cp1x:b.x,cp1y:b.y,cp2x:c.x,cp2y:c.y,x:d.x,y:d.y}),a.currentX_=d.x,a.currentY_=d.y}function p(a,b){var c=m(a.strokeStyle),d=c.color,c=c.alpha*a.globalAlpha,e=a.lineScale_*a.lineWidth;1>e&&(c*=e),b.push("<g_vml_:stroke",' opacity="',c,'"',' joinstyle="',a.lineJoin,'"',' miterlimit="',a.miterLimit,'"',' endcap="',M[a.lineCap]||"square",'"',' weight="',e,'px"',' color="',d,'" />')}function q(a,b,c,d){var e=a.fillStyle,f=a.arcScaleX_,g=a.arcScaleY_,h=d.x-c.x,i=d.y-c.y;if(e instanceof t){var j=0,k=d=0,l=0,n=1;if("gradient"==e.type_){j=e.x1_/f,c=e.y1_/g;var o=r(a,e.x0_/f,e.y0_/g),j=r(a,j,c),j=180*Math.atan2(j.x-o.x,j.y-o.y)/Math.PI;0>j&&(j+=360),1e-6>j&&(j=0)}else o=r(a,e.x0_,e.y0_),d=(o.x-c.x)/h,k=(o.y-c.y)/i,h/=f*C,i/=g*C,n=w.max(h,i),l=2*e.r0_/n,n=2*e.r1_/n-l;f=e.colors_,f.sort(function(a,b){return a.offset-b.offset}),g=f.length,o=f[0].color,c=f[g-1].color,h=f[0].alpha*a.globalAlpha,a=f[g-1].alpha*a.globalAlpha;for(var i=[],p=0;g>p;p++){var q=f[p];i.push(q.offset*n+l+" "+q.color)}b.push('<g_vml_:fill type="',e.type_,'"',' method="none" focus="100%"',' color="',o,'"',' color2="',c,'"',' colors="',i.join(","),'"',' opacity="',a,'"',' g_o_:opacity2="',h,'"',' angle="',j,'"',' focusposition="',d,",",k,'" />')}else e instanceof u?h&&i&&b.push("<g_vml_:fill",' position="',-c.x/h*f*f,",",-c.y/i*g*g,'"',' type="tile"',' src="',e.src_,'" />'):(e=m(a.fillStyle),b.push('<g_vml_:fill color="',e.color,'" opacity="',e.alpha*a.globalAlpha,'" />'))}function r(a,b,c){return a=a.m_,{x:C*(b*a[0][0]+c*a[1][0]+a[2][0])-D,y:C*(b*a[0][1]+c*a[1][1]+a[2][1])-D}}function s(a,b,c){isFinite(b[0][0])&&isFinite(b[0][1])&&isFinite(b[1][0])&&isFinite(b[1][1])&&isFinite(b[2][0])&&isFinite(b[2][1])&&(a.m_=b,c&&(a.lineScale_=B(A(b[0][0]*b[1][1]-b[0][1]*b[1][0]))))}function t(a){this.type_=a,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function u(a,b){if(!a||1!=a.nodeType||"IMG"!=a.tagName)throw new v("TYPE_MISMATCH_ERR");if("complete"!=a.readyState)throw new v("INVALID_STATE_ERR");switch(b){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=b;break;default:throw new v("SYNTAX_ERR")}this.src_=a.src,this.width_=a.width,this.height_=a.height}function v(a){this.code=this[a],this.message=a+": DOM Exception "+this.code}var w=Math,x=w.round,y=w.sin,z=w.cos,A=w.abs,B=w.sqrt,C=10,D=C/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var E=Array.prototype.slice;d(document);var F={init:function(a){a=a||document,a.createElement("canvas"),a.attachEvent("onreadystatechange",b(this.init_,this,a))},init_:function(a){a=a.getElementsByTagName("canvas");for(var b=0;b<a.length;b++)this.initElement(a[b])},initElement:function(b){if(!b.getContext){b.getContext=a,d(b.ownerDocument),b.innerHTML="",b.attachEvent("onpropertychange",e),b.attachEvent("onresize",f);var c=b.attributes;c.width&&c.width.specified?b.style.width=c.width.nodeValue+"px":b.width=b.clientWidth,c.height&&c.height.specified?b.style.height=c.height.nodeValue+"px":b.height=b.clientHeight}return b}};F.init();for(var G=[],H=0;16>H;H++)for(var I=0;16>I;I++)G[16*H+I]=H.toString(16)+I.toString(16);var J={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},K={},L={},M={butt:"flat",round:"round"},H=n.prototype;H.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},H.beginPath=function(){this.currentPath_=[]},H.moveTo=function(a,b){var c=r(this,a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y}),this.currentX_=c.x,this.currentY_=c.y},H.lineTo=function(a,b){var c=r(this,a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y}),this.currentX_=c.x,this.currentY_=c.y},H.bezierCurveTo=function(a,b,c,d,e,f){e=r(this,e,f),a=r(this,a,b),c=r(this,c,d),o(this,a,c,e)},H.quadraticCurveTo=function(a,b,c,d){a=r(this,a,b),c=r(this,c,d),d={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)},o(this,d,{x:d.x+(c.x-this.currentX_)/3,y:d.y+(c.y-this.currentY_)/3},c)},H.arc=function(a,b,c,d,e,f){c*=C;var g=f?"at":"wa",h=a+z(d)*c-D,i=b+y(d)*c-D;d=a+z(e)*c-D,e=b+y(e)*c-D,h!=d||f||(h+=.125),a=r(this,a,b),h=r(this,h,i),d=r(this,d,e),this.currentPath_.push({type:g,x:a.x,y:a.y,radius:c,xStart:h.x,yStart:h.y,xEnd:d.x,yEnd:d.y})},H.rect=function(a,b,c,d){this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath()},H.strokeRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.stroke(),this.currentPath_=e},H.fillRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.fill(),this.currentPath_=e},H.createLinearGradient=function(a,b,c,d){var e=new t("gradient");return e.x0_=a,e.y0_=b,e.x1_=c,e.y1_=d,e},H.createRadialGradient=function(a,b,c,d,e,f){var g=new t("gradientradial");return g.x0_=a,g.y0_=b,g.r0_=c,g.x1_=d,g.y1_=e,g.r1_=f,g},H.drawImage=function(a){var b,c,d,e,f,g,h,i;d=a.runtimeStyle.width,e=a.runtimeStyle.height,a.runtimeStyle.width="auto",a.runtimeStyle.height="auto";var j=a.width,k=a.height;if(a.runtimeStyle.width=d,a.runtimeStyle.height=e,3==arguments.length)b=arguments[1],c=arguments[2],f=g=0,h=d=j,i=e=k;else if(5==arguments.length)b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],f=g=0,h=j,i=k;else{if(9!=arguments.length)throw Error("Invalid number of arguments");f=arguments[1],g=arguments[2],h=arguments[3],i=arguments[4],b=arguments[5],c=arguments[6],d=arguments[7],e=arguments[8]}var l=r(this,b,c),m=[];if(m.push(" <g_vml_:group",' coordsize="',10*C,",",10*C,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var n=[];n.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",x(l.x/C),",","Dy=",x(l.y/C),"");var o=r(this,b+d,c),p=r(this,b,c+e);b=r(this,b+d,c+e),l.x=w.max(l.x,o.x,p.x,b.x),l.y=w.max(l.y,o.y,p.y,b.y),m.push("padding:0 ",x(l.x/C),"px ",x(l.y/C),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",n.join(""),", sizingmethod='clip');")}else m.push("top:",x(l.y/C),"px;left:",x(l.x/C),"px;");m.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',C*d,"px;"," height:",C*e,'px"',' cropleft="',f/j,'"',' croptop="',g/k,'"',' cropright="',(j-f-h)/j,'"',' cropbottom="',(k-g-i)/k,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",m.join(""))},H.stroke=function(a){var b=[];b.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*C,",",10*C,'"',' stroked="',!a,'"',' path="');for(var c={x:null,y:null},d={x:null,y:null},e=0;e<this.currentPath_.length;e++){var f=this.currentPath_[e];switch(f.type){case"moveTo":b.push(" m ",x(f.x),",",x(f.y));break;case"lineTo":b.push(" l ",x(f.x),",",x(f.y));break;case"close":b.push(" x "),f=null;break;case"bezierCurveTo":b.push(" c ",x(f.cp1x),",",x(f.cp1y),",",x(f.cp2x),",",x(f.cp2y),",",x(f.x),",",x(f.y));break;case"at":case"wa":b.push(" ",f.type," ",x(f.x-this.arcScaleX_*f.radius),",",x(f.y-this.arcScaleY_*f.radius)," ",x(f.x+this.arcScaleX_*f.radius),",",x(f.y+this.arcScaleY_*f.radius)," ",x(f.xStart),",",x(f.yStart)," ",x(f.xEnd),",",x(f.yEnd))}f&&((null==c.x||f.x<c.x)&&(c.x=f.x),(null==d.x||f.x>d.x)&&(d.x=f.x),(null==c.y||f.y<c.y)&&(c.y=f.y),(null==d.y||f.y>d.y)&&(d.y=f.y))}b.push(' ">'),a?q(this,b,c,d):p(this,b),b.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",b.join(""))},H.fill=function(){this.stroke(!0)},H.closePath=function(){this.currentPath_.push({type:"close"})},H.save=function(){var a={};i(this,a),this.aStack_.push(a),this.mStack_.push(this.m_),this.m_=h(g(),this.m_)},H.restore=function(){this.aStack_.length&&(i(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},H.translate=function(a,b){s(this,h([[1,0,0],[0,1,0],[a,b,1]],this.m_),!1)},H.rotate=function(a){var b=z(a);a=y(a),s(this,h([[b,a,0],[-a,b,0],[0,0,1]],this.m_),!1)},H.scale=function(a,b){this.arcScaleX_*=a,this.arcScaleY_*=b,s(this,h([[a,0,0],[0,b,0],[0,0,1]],this.m_),!0)},H.transform=function(a,b,c,d,e,f){s(this,h([[a,b,0],[c,d,0],[e,f,1]],this.m_),!0)},H.setTransform=function(a,b,c,d,e,f){s(this,[[a,b,0],[c,d,0],[e,f,1]],!0)},H.drawText_=function(a,b,d,e,f){var g=this.m_;e=0;var h,i=1e3,j=0,k=[];if(h=this.font,L[h])h=L[h];else{var l=document.createElement("div").style;try{l.font=h}catch(m){}h=L[h]={style:l.fontStyle||"normal",variant:l.fontVariant||"normal",weight:l.fontWeight||"normal",size:l.fontSize||10,family:l.fontFamily||"sans-serif"}}var l=h,n=this.element_;h={};for(var o in l)h[o]=l[o];switch(o=parseFloat(n.currentStyle.fontSize),n=parseFloat(l.size),h.size="number"==typeof l.size?l.size:-1!=l.size.indexOf("px")?n:-1!=l.size.indexOf("em")?o*n:-1!=l.size.indexOf("%")?o/100*n:-1!=l.size.indexOf("pt")?n/.75:o,h.size*=.981,o=h.style+" "+h.variant+" "+h.weight+" "+h.size+"px "+h.family,n=this.element_.currentStyle,l=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":l="ltr"==n.direction?"right":"left";break;case"start":l="rtl"==n.direction?"right":"left";break;default:l="left"}switch(this.textBaseline){case"hanging":case"top":j=h.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":j=-h.size/2.25}switch(l){case"right":e=1e3,i=.05;break;case"center":e=i=500}b=r(this,b+0,d+j),k.push('<g_vml_:line from="',-e,' 0" to="',i,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!f,'" stroked="',!!f,'" style="position:absolute;width:1px;height:1px;">'),f?p(this,k):q(this,k,{x:-e,y:0},{x:i,y:h.size}),f=g[0][0].toFixed(3)+","+g[1][0].toFixed(3)+","+g[0][1].toFixed(3)+","+g[1][1].toFixed(3)+",0,0",b=x(b.x/C)+","+x(b.y/C),k.push('<g_vml_:skew on="t" matrix="',f,'" ',' offset="',b,'" origin="',e,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',c(a),'" style="v-text-align:',l,";font:",c(o),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",k.join(""))},H.fillText=function(a,b,c,d){this.drawText_(a,b,c,d,!1)},H.strokeText=function(a,b,c,d){this.drawText_(a,b,c,d,!0)},H.measureText=function(a){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var b=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(b.createTextNode(a)),{width:this.textMeasureEl_.offsetWidth}},H.clip=function(){},H.arcTo=function(){},H.createPattern=function(a,b){return new u(a,b)},t.prototype.addColorStop=function(a,b){b=m(b),this.colors_.push({offset:a,color:b.color,alpha:b.alpha})},H=v.prototype=Error(),H.INDEX_SIZE_ERR=1,H.DOMSTRING_SIZE_ERR=2,H.HIERARCHY_REQUEST_ERR=3,H.WRONG_DOCUMENT_ERR=4,H.INVALID_CHARACTER_ERR=5,H.NO_DATA_ALLOWED_ERR=6,H.NO_MODIFICATION_ALLOWED_ERR=7,H.NOT_FOUND_ERR=8,H.NOT_SUPPORTED_ERR=9,H.INUSE_ATTRIBUTE_ERR=10,H.INVALID_STATE_ERR=11,H.SYNTAX_ERR=12,H.INVALID_MODIFICATION_ERR=13,H.NAMESPACE_ERR=14,H.INVALID_ACCESS_ERR=15,H.VALIDATION_ERR=16,H.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=F,CanvasRenderingContext2D=n,CanvasGradient=t,CanvasPattern=u,DOMException=v}(),wh=$(window).height(),fh=$("footer").outerHeight(),ch=$(".body").outerHeight(),hh=$(".header").outerHeight(),$(window).ready(function(){$(".body").css("min-height",wh-fh-hh)}),$(window).resize(function(){$(".body").css("min-height",wh-fh-hh)}),$(window).change(function(){$(".body").css("min-height",wh-fh-hh)}),$(".toggle-menu").on("click touchstart",function(a){$("body").toggleClass("menu-active"),a.preventDefault()}),!function(a){var b,c,d="0.4.2",e="hasOwnProperty",f=/[\.\/]/,g="*",h=function(){},i=function(a,b){return a-b},j={n:{}},k=function(a,d){a=String(a);var e,f=c,g=Array.prototype.slice.call(arguments,2),h=k.listeners(a),j=0,l=[],m={},n=[],o=b;b=a,c=0;for(var p=0,q=h.length;q>p;p++)"zIndex"in h[p]&&(l.push(h[p].zIndex),h[p].zIndex<0&&(m[h[p].zIndex]=h[p]));for(l.sort(i);l[j]<0;)if(e=m[l[j++]],n.push(e.apply(d,g)),c)return c=f,n;for(p=0;q>p;p++)if(e=h[p],"zIndex"in e)if(e.zIndex==l[j]){if(n.push(e.apply(d,g)),c)break;do if(j++,e=m[l[j]],e&&n.push(e.apply(d,g)),c)break;while(e)}else m[e.zIndex]=e;else if(n.push(e.apply(d,g)),c)break;return c=f,b=o,n.length?n:null};k._events=j,k.listeners=function(a){var b,c,d,e,h,i,k,l,m=a.split(f),n=j,o=[n],p=[];for(e=0,h=m.length;h>e;e++){for(l=[],i=0,k=o.length;k>i;i++)for(n=o[i].n,c=[n[m[e]],n[g]],d=2;d--;)b=c[d],b&&(l.push(b),p=p.concat(b.f||[]));o=l}return p},k.on=function(a,b){if(a=String(a),"function"!=typeof b)return function(){};for(var c=a.split(f),d=j,e=0,g=c.length;g>e;e++)d=d.n,d=d.hasOwnProperty(c[e])&&d[c[e]]||(d[c[e]]={n:{}});for(d.f=d.f||[],e=0,g=d.f.length;g>e;e++)if(d.f[e]==b)return h;return d.f.push(b),function(a){+a==+a&&(b.zIndex=+a)}},k.f=function(a){var b=[].slice.call(arguments,1);return function(){k.apply(null,[a,null].concat(b).concat([].slice.call(arguments,0)))}},k.stop=function(){c=1},k.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(b):b},k.nts=function(){return b.split(f)},k.off=k.unbind=function(a,b){if(!a)return k._events=j={n:{}},void 0;var c,d,h,i,l,m,n,o=a.split(f),p=[j];for(i=0,l=o.length;l>i;i++)for(m=0;m<p.length;m+=h.length-2){if(h=[m,1],c=p[m].n,o[i]!=g)c[o[i]]&&h.push(c[o[i]]);else for(d in c)c[e](d)&&h.push(c[d]);p.splice.apply(p,h)}for(i=0,l=p.length;l>i;i++)for(c=p[i];c.n;){if(b){if(c.f){for(m=0,n=c.f.length;n>m;m++)if(c.f[m]==b){c.f.splice(m,1);break}!c.f.length&&delete c.f}for(d in c.n)if(c.n[e](d)&&c.n[d].f){var q=c.n[d].f;for(m=0,n=q.length;n>m;m++)if(q[m]==b){q.splice(m,1);break}!q.length&&delete c.n[d].f}}else{delete c.f;for(d in c.n)c.n[e](d)&&c.n[d].f&&delete c.n[d].f}c=c.n}},k.once=function(a,b){var c=function(){return k.unbind(a,c),b.apply(this,arguments)};return k.on(a,c)},k.version=d,k.toString=function(){return"You are running Eve "+d},"undefined"!=typeof module&&module.exports?module.exports=k:"undefined"!=typeof define?define("eve",[],function(){return k}):a.eve=k}(this),function(a,b){"function"==typeof define&&define.amd?define(["eve"],function(c){return b(a,c)
}):b(a,a.eve)}(this,function(a,b){var c=function(b){var c={},d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){setTimeout(a,16)},e=Array.isArray||function(a){return a instanceof Array||"[object Array]"==Object.prototype.toString.call(a)},f=0,g="M"+(+new Date).toString(36),h=function(){return g+(f++).toString(36)},i=function(){return+new Date},j=function(a){var b=this;if(null==a)return b.s;var c=b.s-a;b.b+=b.dur*c,b.B+=b.dur*c,b.s=a},k=function(a){var b=this;return null==a?b.spd:(b.spd=a,void 0)},l=function(a){var b=this;return null==a?b.dur:(b.s=b.s*a/b.dur,b.dur=a,void 0)},m=function(){var a=this;delete c[a.id],b("mina.stop."+a.id,a)},n=function(){var a=this;a.pdif||(delete c[a.id],a.pdif=a.get()-a.b)},o=function(){var a=this;a.pdif&&(a.b=a.get()-a.pdif,delete a.pdif,c[a.id]=a)},p=function(){var a=0;for(var f in c)if(c.hasOwnProperty(f)){var g,h=c[f],i=h.get();if(a++,h.s=(i-h.b)/(h.dur/h.spd),h.s>=1&&(delete c[f],h.s=1,a--),e(h.start)){g=[];for(var j=0,k=h.start.length;k>j;j++)g[j]=h.start[j]+(h.end[j]-h.start[j])*h.easing(h.s)}else g=h.start+(h.end-h.start)*h.easing(h.s);h.set(g),1==h.s&&b("mina.finish."+h.id,h)}a&&d(p)},q=function(a,b,e,f,g,i,r){var s={id:h(),start:a,end:b,b:e,s:0,dur:f-e,spd:1,get:g,set:i,easing:r||q.linear,status:j,speed:k,duration:l,stop:m,pause:n,resume:o};c[s.id]=s;var t,u=0;for(t in c)if(c.hasOwnProperty(t)&&(u++,2==u))break;return 1==u&&d(p),s};return q.time=i,q.getById=function(a){return c[a]||null},q.linear=function(a){return a},q.easeout=function(a){return Math.pow(a,1.7)},q.easein=function(a){return Math.pow(a,.48)},q.easeinout=function(a){if(1==a)return 1;if(0==a)return 0;var b=.48-a/1.04,c=Math.sqrt(.1734+b*b),d=c-b,e=Math.pow(Math.abs(d),1/3)*(0>d?-1:1),f=-c-b,g=Math.pow(Math.abs(f),1/3)*(0>f?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},q.backin=function(a){if(1==a)return 1;var b=1.70158;return a*a*((b+1)*a-b)},q.backout=function(a){if(0==a)return 0;a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},q.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1},q.bounce=function(a){var b,c=7.5625,d=2.75;return 1/d>a?b=c*a*a:2/d>a?(a-=1.5/d,b=c*a*a+.75):2.5/d>a?(a-=2.25/d,b=c*a*a+.9375):(a-=2.625/d,b=c*a*a+.984375),b},a.mina=q,q}("undefined"==typeof b?function(){}:b);!function(){function a(a){a=a||Object(a);for(var b,d,e=1,f=a.length+1,h=c(a,0);f>e;e++)b=d,d=h,h=c(a,e),this.raw+=d,g.call(this,d,h,b);return this._beforeEnd=function(){g.call(this,"","",d)},this}function c(a,b){return a&&(a.charAt?a.charAt(b):a[b])}function d(a,b){this.events=this.events||{},this.events[a]=this.events[a]||[],this.events[a].push(b)}function e(a,c,d){"function"==typeof b&&b("elemental."+a+(c?"."+c:""),null,c,d||"",this.raw);for(var e=this.events&&this.events[a],f=e&&e.length;f--;)try{this.events[a][f](c,d||"",this.raw)}catch(g){}this.raw=""}function f(){g.call(this,"eof"),this.event("eof")}function g(a,b,c){"\n"==a&&this.event("newline"),m[this.mode].call(this,a,b,c)}function h(b,c){var g=function(a){g.parse(a)};return g.mode="text",g.type=String(b||"html").toLowerCase(),g.textchunk="",g.raw="",g.parse=a,g.on=d,g.event=e,g.end=f,c&&(i=c),g}var i={lt:60,"lt;":60,"AMP;":38,AMP:38,"GT;":62,GT:62,"QUOT;":34,QUOT:34,"apos;":39,"bull;":8226,"bullet;":8226,"copy;":169,copy:169,"deg;":176,deg:176},j=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]/,k=function(a){var b;return"#"==a.charAt()&&(b="x"==a.charAt(1).toLowerCase()?parseInt(a.substring(2),16):parseInt(a.substring(1),10)),b=i[a],b?String.fromCharCode(b):"&"+a},l=function(){for(var a in this.attr)this.attr.hasOwnProperty(a)&&this.event("attr",a,{value:this.attr[a],tagname:this.tagname,attr:this.attr})},m={text:function(a){switch(a){case"<":case"eof":this.nodename="",this.attr={},this.mode="tag name start",this.raw=this.raw.slice(0,-1),this.textchunk&&this.event("text",this.textchunk),this.raw+=a,this.textchunk="";break;case"&":this.mode="entity",this.entity="";break;default:this.textchunk+=a}},entity:function(a){j.test(a)?(this.textchunk+=k(this.entity),this.mode="text"):";"==a?(this.textchunk+=k(this.entity+a),this.mode="text"):this.entity+=a},special:function(a,b,c){return"!"==c&&"-"==a&&"-"==b?(this.mode="comment start",void 0):"[CDATA"==this.textchunk&&"["==a?(this.mode="cdata",this.textchunk="",void 0):">"==a||"eof"==a?(this.event("special",this.textchunk),this.mode="text",this.textchunk="",void 0):(this.textchunk+=a,void 0)},cdata:function(a,b,c){return"]"==c&&"]"==a&&">"==b?(this.mode="cdata end",this.textchunk=this.textchunk.slice(0,-1),void 0):("eof"==a&&m["cdata end"].call(this),this.textchunk+=a,void 0)},"cdata end":function(){this.event("cdata",this.textchunk),this.textchunk="",this.mode="text"},"comment start":function(a,b){">"==b||"eof"==a?(this.event("comment",""),this.mode="skip"):this.mode="comment"},skip:function(){this.mode="text"},comment:function(a,b,c){"-"==a&&"-"==c&&">"==b?(this.mode="comment end",this.textchunk=this.textchunk.slice(0,-1)):"eof"==a?this.event("comment",this.textchunk):this.textchunk+=a},"comment end":function(){this.event("comment",this.textchunk),this.textchunk="",this.mode="text"},declaration:function(a,b){return"?"==a&&">"==b?(this.mode="declaration end",void 0):("eof"==a&&this.event("comment",this.textchunk),this.textchunk+=a,void 0)},"declaration end":function(){this.event("comment",this.textchunk),this.textchunk="",this.mode="text"},"tag name start":function(a,b,c){if("eof"==a)return this.event("text","<"),void 0;if(!j.test(a)){if(this.mode="tag name","/"==a)return this.mode="close tag name start",void 0;if("!"==a)return this.mode="special",this.textchunk="",void 0;if("?"==a)return this.mode="declaration",void 0;m[this.mode].call(this,a,b,c)}},"close tag name start":function(a,b,c){j.test(a)||(this.mode="close tag name",this.tagname="",this.nodename="",m[this.mode].call(this,a,b,c))},"close tag name":function(a){if(j.test(a))this.tagname=this.nodename;else switch(a){case">":this.event("/tag",this.tagname||this.nodename),this.mode="text";break;default:!this.tagname&&(this.nodename+=a)}},"tag name":function(a,b){if(j.test(a))this.tagname=this.nodename,this.nodename="",this.mode="attr start";else switch(a){case">":this.event("tag",this.nodename),this.mode="text";break;case"/":this.raw+=b,this.event("tag",this.nodename),this.event("/tag",this.nodename),this.mode="skip";break;default:this.nodename+=a}},"attr start":function(a,b,c){j.test(a)||(this.mode="attr",this.nodename="",m[this.mode].call(this,a,b,c))},attr:function(a){if(j.test(a)||"="==a)this.attr[this.nodename]="",this.mode="attr value start";else switch(a){case">":"/"==this.nodename?(delete this.attr["/"],this.event("tag",this.tagname,this.attr),l.call(this),this.event("/tag",this.tagname,!0)):(this.nodename&&(this.attr[this.nodename]=""),this.event("tag",this.tagname,this.attr),l.call(this)),this.mode="text";break;default:this.nodename+=a}},"attr value start":function(a,b,c){if(!j.test(a)){if(this.mode="attr value",this.quote=!1,"'"==a||'"'==a)return this.quote=a,void 0;m[this.mode].call(this,a,b,c)}},"attr value":function(a,b,c){if(j.test(a)&&!this.quote)this.mode="attr start";else if(">"!=a||this.quote)switch(a){case'"':case"'":this.quote==a&&"\\"!=c&&(this.mode="attr start");break;default:this.attr[this.nodename]+=a}else this.event("tag",this.tagname,this.attr),this.mode="text"}};h.version="0.2.4",("undefined"==typeof exports?this:exports).elemental=h}();var d=function(){function d(a,b){if(a){if(a.tagName)return z(a);if(a instanceof u)return a;if(null==b)return a=I.doc.querySelector(a),z(a)}return a=null==a?"100%":a,b=null==b?"100%":b,new y(a,b)}function e(a,b){if(b){if("string"==typeof a&&(a=e(a)),"string"==typeof b)return"xlink:"==b.substring(0,6)?a.getAttributeNS(gb,b.substring(6)):a.getAttribute(b);for(var c in b)if(b[J](c)){var d=K(b[c]);d?"xlink:"==c.substring(0,6)?a.setAttributeNS(gb,c.substring(6),d):a.setAttribute(c,d):a.removeAttribute(c)}}else a=I.doc.createElementNS("http://www.w3.org/2000/svg",a);return a}function f(a,b){return b=K.prototype.toLowerCase.call(b),"finite"==b?!W[J](+a):"array"==b&&(a instanceof Array||Array.isArray&&Array.isArray(a))?!0:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||U.call(a).slice(8,-1).toLowerCase()==b}function g(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor;for(var c in a)a[J](c)&&(b[c]=g(a[c]));return b}function h(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function i(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join("␀"),g=d.cache=d.cache||{},i=d.count=d.count||[];return g[J](f)?(h(i,f),c?c(g[f]):g[f]):(i.length>=1e3&&delete g[i.shift()],i.push(f),g[f]=a.apply(b,e),c?c(g[f]):g[f])}return d}function j(a,b,c,d,e,f){if(null==e){var g=a-c,h=b-d;return g||h?(180+180*N.atan2(-h,-g)/R+360)%360:0}return j(a,b,e,f)-j(c,d,e,f)}function k(a){return a%360*R/180}function l(a){return 180*a/R%360}function m(){return this.x+T+this.y+T+this.width+" × "+this.height}function n(a,b,c,d,e,f){return null==b&&"[object SVGMatrix]"==U.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,this.f=a.f,void 0):(null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0),void 0)}function o(a){var b=[];return a=a.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(a,c,d){return d=d.split(/\s*,\s*/),"rotate"==c&&1==d.length&&d.push(0,0),"scale"==c&&(2==d.length&&d.push(0,0),1==d.length&&d.push(d[0],0,0)),"skewX"==c?b.push(["m",1,0,N.tan(k(d[0])),1,0,0]):"skewY"==c?b.push(["m",1,N.tan(k(d[0])),0,1,0,0]):b.push([c.charAt(0)].concat(d)),a}),b}function p(a,b){var c=pb(a),d=new n;if(c)for(var e=0,f=c.length;f>e;e++){var g,h,i,j,k,l=c[e],m=l.length,o=K(l[0]).toLowerCase(),p=l[0]!=o,q=p?d.invert():0;"t"==o&&3==m?p?(g=q.x(0,0),h=q.y(0,0),i=q.x(l[1],l[2]),j=q.y(l[1],l[2]),d.translate(i-g,j-h)):d.translate(l[1],l[2]):"r"==o?2==m?(k=k||b,d.rotate(l[1],k.x+k.width/2,k.y+k.height/2)):4==m&&(p?(i=q.x(l[2],l[3]),j=q.y(l[2],l[3]),d.rotate(l[1],i,j)):d.rotate(l[1],l[2],l[3])):"s"==o?2==m||3==m?(k=k||b,d.scale(l[1],l[m-1],k.x+k.width/2,k.y+k.height/2)):4==m?p?(i=q.x(l[2],l[3]),j=q.y(l[2],l[3]),d.scale(l[1],l[1],i,j)):d.scale(l[1],l[1],l[2],l[3]):5==m&&(p?(i=q.x(l[3],l[4]),j=q.y(l[3],l[4]),d.scale(l[1],l[2],i,j)):d.scale(l[1],l[2],l[3],l[4])):"m"==o&&7==m&&d.add(l[1],l[2],l[3],l[4],l[5],l[6])}return d}function q(a,b){if(null==b){var c=!0;if(b="linearGradient"==a.type||"radialGradient"==a.type?a.node.getAttribute("gradientTransform"):"pattern"==a.type?a.node.getAttribute("patternTransform"):a.node.getAttribute("transform"),!b)return new n;b=o(b)}else b=qb.test(b)?K(b).replace(/\.{3}|\u2026/g,a._.transform||S):o(b),f(b,"array")&&(b=d.path?d.path.toString.call(b):K(b)),a._.transform=b;var e=p(b,a.getBBox(1));return c?e:(a.matrix=e,void 0)}function r(a){if(d._.someDefs)return d._.someDefs;var b=a.paper||a.node.parentNode&&d(a.node.parentNode)||d.select("svg")||d(0,0),c=b.select("defs").node;return c||(c=x("defs",b.node).node),d._.someDefs=c,c}function s(a,b,c){function d(a){return null==a?S:a==+a?a:(e(j,{width:a}),j.getBBox().width)}function f(a){return null==a?S:a==+a?a:(e(j,{height:a}),j.getBBox().height)}function g(d,e){null==b?i[d]=e(a.attr(d)):d==b&&(i=e(null==c?a.attr(d):c))}var h=r(a),i={},j=h.querySelector(".svg---mgr");switch(j||(j=e("rect"),e(j,{width:10,height:10,"class":"svg---mgr"}),h.appendChild(j)),a.type){case"rect":g("rx",d),g("ry",f);case"image":g("width",d),g("height",f);case"text":g("x",d),g("y",f);break;case"circle":g("cx",d),g("cy",f),g("r",d);break;case"ellipse":g("cx",d),g("cy",f),g("rx",d),g("ry",f);break;case"line":g("x1",d),g("x2",d),g("y1",f),g("y2",f);break;case"marker":g("refX",d),g("markerWidth",d),g("refY",f),g("markerHeight",f);break;case"radialGradient":g("fx",d),g("fy",f);break;case"tspan":g("dx",d),g("dy",f);break;default:g(b,d)}return i}function t(a){f(a,"array")||(a=Array.prototype.slice.call(arguments,0));for(var b=0,c=0,d=this.node;this[b];)delete this[b++];for(b=0;b<a.length;b++)"set"==a[b].type?a[b].forEach(function(a){d.appendChild(a.node)}):d.appendChild(a[b].node);var e=d.childNodes;for(b=0;b<e.length;b++)e[b].snap&&(this[c++]=hb[e[b].snap])}function u(a){if(a.snap in hb)return hb[a.snap];var b,c=this.id=fb();try{b=a.ownerSVGElement}catch(d){}if(this.node=a,b&&(this.paper=new y(b)),this.type=a.tagName,this.anims={},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},a.snap=c,hb[c]=this,"g"==this.type){this.add=t;for(var e in y.prototype)y.prototype[J](e)&&(this[e]=y.prototype[e])}}function v(a){for(var b,c=0,d=a.length;d>c;c++)if(b=b||a[c])return b}function w(a){this.node=a}function x(a,b){var c=e(a);b.appendChild(c);var d=z(c);return d.type=a,d}function y(a,b){var c,d,f,g=y.prototype;if(a&&"svg"==a.tagName){if(a.snap in hb)return hb[a.snap];c=new u(a),d=a.getElementsByTagName("desc")[0],f=a.getElementsByTagName("defs")[0],d||(d=e("desc"),d.appendChild(I.doc.createTextNode("Created with Snap")),c.node.appendChild(d)),f||(f=e("defs"),c.node.appendChild(f)),c.defs=f;for(var h in g)g[J](h)&&(c[h]=g[h]);c.paper=c.root=c}else c=x("svg",I.doc.body),e(c.node,{height:b,version:1.1,width:a,xmlns:"http://www.w3.org/2000/svg"});return c}function z(a){return a?a instanceof u||a instanceof w?a:"svg"==a.tagName?new y(a):new u(a):a}function A(){return this.selectAll("stop")}function B(a,b){var c=e("stop"),f={offset:+b+"%"};return a=d.color(a),f["stop-color"]=a.hex,a.opacity<1&&(f["stop-opacity"]=a.opacity),e(c,f),this.node.appendChild(c),this}function C(){if("linearGradient"==this.type){var a=e(this.node,"x1")||0,b=e(this.node,"x2")||1,c=e(this.node,"y1")||0,f=e(this.node,"y2")||0;return d._.box(a,c,N.abs(b-a),N.abs(f-c))}var g=this.node.cx||.5,h=this.node.cy||.5,i=this.node.r||0;return d._.box(g-i,h-i,2*i,2*i)}function D(a,c){function d(a,b){for(var c=(b-j)/(a-k),d=k;a>d;d++)h[d].offset=+(+j+c*(d-k)).toFixed(2);k=a,j=b}var f,g=v(b("snap.util.grad.parse",null,c));if(!g)return null;g.params.unshift(a),f="l"==g.type.toLowerCase()?E.apply(0,g.params):F.apply(0,g.params),g.type!=g.type.toLowerCase()&&e(f.node,{gradientUnits:"userSpaceOnUse"});var h=g.stops,i=h.length,j=0,k=0;i--;for(var l=0;i>l;l++)"offset"in h[l]&&d(l,h[l].offset);for(h[i].offset=h[i].offset||100,d(i,h[i].offset),l=0;i>=l;l++){var m=h[l];f.addStop(m.color,m.offset)}return f}function E(a,b,c,d,f){var g=x("linearGradient",a);return g.stops=A,g.addStop=B,g.getBBox=C,null!=b&&e(g.node,{x1:b,y1:c,x2:d,y2:f}),g}function F(a,b,c,d,f,g){var h=x("radialGradient",a);return h.stops=A,h.addStop=B,h.getBBox=C,null!=b&&e(h.node,{cx:b,cy:c,r:d}),null!=f&&null!=g&&e(h.node,{fx:f,fy:g}),h}function G(a){return function(c){if(b.stop(),c instanceof w&&1==c.node.childNodes.length&&("radialGradient"==c.node.firstChild.tagName||"linearGradient"==c.node.firstChild.tagName||"pattern"==c.node.firstChild.tagName)&&(c=c.node.firstChild,r(this).appendChild(c),c=z(c)),c instanceof u)if("radialGradient"==c.type||"linearGradient"==c.type||"pattern"==c.type){c.node.id||e(c.node,{id:c.id});var f="url(#"+c.node.id+")"}else f=c.attr(a);else if(f=d.color(c),f.error){var g=D(r(this),c);g?(g.node.id||e(g.node,{id:g.id}),f="url(#"+g.node.id+")"):f=c}else f=K(f);var h={};h[a]=f,e(this.node,h),this.node.style[a]=S}}function H(a){for(var b=[],c=a.childNodes,d=0,e=c.length;e>d;d++){var f=c[d];3==f.nodeType&&b.push(f.nodeValue),"tspan"==f.tagName&&(1==f.childNodes.length&&3==f.firstChild.nodeType?b.push(f.firstChild.nodeValue):b.push(H(f)))}return b}d.version="0.1.0",d.toString=function(){return"Snap v"+this.version},d._={};var I={win:a,doc:a.document};d._.glob=I;var J="hasOwnProperty",K=String,L=parseFloat,M=parseInt,N=Math,O=N.max,P=N.min,Q=N.abs,R=(N.pow,N.PI),S=(N.round,""),T=" ",U=Object.prototype.toString,V=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,W={NaN:1,Infinity:1,"-Infinity":1},X=/^url\(#?([^)]+)\)$/,Y="	\n\f\r   ᠎             　\u2028\u2029",Z=new RegExp("[,"+Y+"]+"),$=(new RegExp("["+Y+"]","g"),new RegExp("["+Y+"]*,["+Y+"]*")),_={hs:1,rg:1},ab=new RegExp("([a-z])["+Y+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Y+"]*,?["+Y+"]*)+)","ig"),bb=new RegExp("([rstm])["+Y+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Y+"]*,?["+Y+"]*)+)","ig"),cb=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Y+"]*,?["+Y+"]*","ig"),db=0,eb="S"+(+new Date).toString(36),fb=function(){return eb+(db++).toString(36)},gb="http://www.w3.org/1999/xlink",hb={};d._.$=e,d._.id=fb,d.format=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return K(b).replace(a,function(a,b){return c(a,b,d)})}}();var ib=function(){function a(){this.parentNode.removeChild(this)}return function(b,c){var d=I.doc.createElement("img"),e=I.doc.body;d.style.cssText="position:absolute;left:-9999em;top:-9999em",d.onload=function(){c.call(d),d.onload=d.onerror=null,e.removeChild(d)},d.onerror=a,e.appendChild(d),d.src=b}}();d._.clone=g,d._.cacher=i,d.rad=k,d.deg=l,d.angle=j,d.is=f,d.snapTo=function(a,b,c){if(c=f(c,"finite")?c:10,f(a,"array")){for(var d=a.length;d--;)if(Q(a[d]-b)<=c)return a[d]}else{a=+a;var e=b%a;if(c>e)return b-e;if(e>a-c)return b-e+a}return b},function(a){function b(a){return a[0]*a[0]+a[1]*a[1]}function c(a){var c=N.sqrt(b(a));a[0]&&(a[0]/=c),a[1]&&(a[1]/=c)}a.add=function(a,b,c,d,e,f){var g,h,i,j,k=[[],[],[]],l=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],m=[[a,c,e],[b,d,f],[0,0,1]];for(a&&a instanceof n&&(m=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),g=0;3>g;g++)for(h=0;3>h;h++){for(j=0,i=0;3>i;i++)j+=l[g][i]*m[i][h];k[g][h]=j}return this.a=k[0][0],this.b=k[1][0],this.c=k[0][1],this.d=k[1][1],this.e=k[0][2],this.f=k[1][2],this},a.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new n(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},a.clone=function(){return new n(this.a,this.b,this.c,this.d,this.e,this.f)},a.translate=function(a,b){return this.add(1,0,0,1,a,b)},a.scale=function(a,b,c,d){return null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d),this},a.rotate=function(a,b,c){a=k(a),b=b||0,c=c||0;var d=+N.cos(a).toFixed(9),e=+N.sin(a).toFixed(9);return this.add(d,e,-e,d,b,c),this.add(1,0,0,1,-b,-c)},a.x=function(a,b){return a*this.a+b*this.c+this.e},a.y=function(a,b){return a*this.b+b*this.d+this.f},a.get=function(a){return+this[K.fromCharCode(97+a)].toFixed(4)},a.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},a.split=function(){var a={};a.dx=this.e,a.dy=this.f;var d=[[this.a,this.c],[this.b,this.d]];a.scalex=N.sqrt(b(d[0])),c(d[0]),a.shear=d[0][0]*d[1][0]+d[0][1]*d[1][1],d[1]=[d[1][0]-d[0][0]*a.shear,d[1][1]-d[0][1]*a.shear],a.scaley=N.sqrt(b(d[1])),c(d[1]),a.shear/=a.scaley;var e=-d[0][1],f=d[1][1];return 0>f?(a.rotate=l(N.acos(f)),0>e&&(a.rotate=360-a.rotate)):a.rotate=l(N.asin(e)),a.isSimple=!(+a.shear.toFixed(9)||a.scalex.toFixed(9)!=a.scaley.toFixed(9)&&a.rotate),a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate,a.noRotation=!+a.shear.toFixed(9)&&!a.rotate,a},a.toTransformString=function(a){var b=a||this.split();return b.isSimple?(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx||b.dy?"t"+[+b.dx.toFixed(4),+b.dy.toFixed(4)]:S)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:S)+(b.rotate?"r"+[+b.rotate.toFixed(4),0,0]:S)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(n.prototype),d.Matrix=n,d.getRGB=i(function(a){if(!a||(a=K(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:mb};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:mb};if(!(_[J](a.toLowerCase().substring(0,2))||"#"==a.charAt())&&(a=jb(a)),!a)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:mb};var b,c,e,g,h,i,j=a.match(V);return j?(j[2]&&(e=M(j[2].substring(5),16),c=M(j[2].substring(3,5),16),b=M(j[2].substring(1,3),16)),j[3]&&(e=M((h=j[3].charAt(3))+h,16),c=M((h=j[3].charAt(2))+h,16),b=M((h=j[3].charAt(1))+h,16)),j[4]&&(i=j[4].split($),b=L(i[0]),"%"==i[0].slice(-1)&&(b*=2.55),c=L(i[1]),"%"==i[1].slice(-1)&&(c*=2.55),e=L(i[2]),"%"==i[2].slice(-1)&&(e*=2.55),"rgba"==j[1].toLowerCase().slice(0,4)&&(g=L(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100)),j[5]?(i=j[5].split($),b=L(i[0]),"%"==i[0].slice(-1)&&(b/=100),c=L(i[1]),"%"==i[1].slice(-1)&&(c/=100),e=L(i[2]),"%"==i[2].slice(-1)&&(e/=100),("deg"==i[0].slice(-3)||"°"==i[0].slice(-1))&&(b/=360),"hsba"==j[1].toLowerCase().slice(0,4)&&(g=L(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100),d.hsb2rgb(b,c,e,g)):j[6]?(i=j[6].split($),b=L(i[0]),"%"==i[0].slice(-1)&&(b/=100),c=L(i[1]),"%"==i[1].slice(-1)&&(c/=100),e=L(i[2]),"%"==i[2].slice(-1)&&(e/=100),("deg"==i[0].slice(-3)||"°"==i[0].slice(-1))&&(b/=360),"hsla"==j[1].toLowerCase().slice(0,4)&&(g=L(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100),d.hsl2rgb(b,c,e,g)):(b=P(N.round(b),255),c=P(N.round(c),255),e=P(N.round(e),255),g=P(O(g,0),1),j={r:b,g:c,b:e,toString:mb},j.hex="#"+(16777216|e|c<<8|b<<16).toString(16).slice(1),j.opacity=f(g,"finite")?g:1,j)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:mb}},d),d.hsb=i(function(a,b,c){return d.hsb2rgb(a,b,c).hex}),d.hsl=i(function(a,b,c){return d.hsl2rgb(a,b,c).hex}),d.rgb=i(function(a,b,c,d){if(f(d,"finite")){var e=N.round;return"rgba("+[e(a),e(b),e(c),+d.toFixed(2)]+")"}return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)});var jb=function(a){var b=I.doc.getElementsByTagName("head")[0],c="rgb(255, 0, 0)";return jb=i(function(a){if("red"==a.toLowerCase())return c;b.style.color=c,b.style.color=a;var d=I.doc.defaultView.getComputedStyle(b,S).getPropertyValue("color");return d==c?null:d}),jb(a)},kb=function(){return"hsb("+[this.h,this.s,this.b]+")"},lb=function(){return"hsl("+[this.h,this.s,this.l]+")"},mb=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},nb=function(a,b,c){if(null==b&&f(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(c=a.b,b=a.g,a=a.r),null==b&&f(a,string)){var e=d.getRGB(a);a=e.r,b=e.g,c=e.b}return(a>1||b>1||c>1)&&(a/=255,b/=255,c/=255),[a,b,c]},ob=function(a,b,c,e){a=N.round(255*a),b=N.round(255*b),c=N.round(255*c);var g={r:a,g:b,b:c,opacity:f(e,"finite")?e:1,hex:d.rgb(a,b,c),toString:mb};return f(e,"finite")&&(g.opacity=e),g};d.color=function(a){var b;return f(a,"object")&&"h"in a&&"s"in a&&"b"in a?(b=d.hsb2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.opacity=1,a.hex=b.hex):f(a,"object")&&"h"in a&&"s"in a&&"l"in a?(b=d.hsl2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.opacity=1,a.hex=b.hex):(f(a,"string")&&(a=d.getRGB(a)),f(a,"object")&&"r"in a&&"g"in a&&"b"in a&&!("error"in a)?(b=d.rgb2hsl(a),a.h=b.h,a.s=b.s,a.l=b.l,b=d.rgb2hsb(a),a.v=b.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1,a.error=1)),a.toString=mb,a},d.hsb2rgb=function(a,b,c,d){f(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o),a*=360;var e,g,h,i,j;return a=a%360/60,j=c*b,i=j*(1-Q(a%2-1)),e=g=h=c-j,a=~~a,e+=[j,i,0,0,i,j][a],g+=[i,j,j,i,0,0][a],h+=[0,0,i,j,j,i][a],ob(e,g,h,d)},d.hsl2rgb=function(a,b,c,d){f(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var e,g,h,i,j;return a=a%360/60,j=2*b*(.5>c?c:1-c),i=j*(1-Q(a%2-1)),e=g=h=c-j/2,a=~~a,e+=[j,i,0,0,i,j][a],g+=[i,j,j,i,0,0][a],h+=[0,0,i,j,j,i][a],ob(e,g,h,d)},d.rgb2hsb=function(a,b,c){c=nb(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=O(a,b,c),g=f-P(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=60*((d+360)%6)/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:kb}},d.rgb2hsl=function(a,b,c){c=nb(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=O(a,b,c),h=P(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=60*((d+360)%6)/360,f=(g+h)/2,e=0==i?0:.5>f?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:lb}},d.parsePathString=function(a){if(!a)return null;var b=d.path(a);if(b.arr)return d.path.clone(b.arr);var c={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},e=[];return f(a,"array")&&f(a[0],"array")&&(e=d.path.clone(a)),e.length||K(a).replace(ab,function(a,b,d){var f=[],g=b.toLowerCase();if(d.replace(cb,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(e.push([b].concat(f.splice(0,2))),g="l",b="m"==b?"l":"L"),"o"==g&&1==f.length&&e.push([b,f[0]]),"r"==g)e.push([b].concat(f));else for(;f.length>=c[g]&&(e.push([b].concat(f.splice(0,c[g]))),c[g]););}),e.toString=d.path.toString,b.arr=d.path.clone(e),e};var pb=d.parseTransformString=function(a){if(!a)return null;var b=[];return f(a,"array")&&f(a[0],"array")&&(b=d.path.clone(a)),b.length||K(a).replace(bb,function(a,c,d){var e=[];c.toLowerCase(),d.replace(cb,function(a,b){b&&e.push(+b)}),b.push([c].concat(e))}),b.toString=d.path.toString,b},qb=new RegExp("^[a-z]["+Y+"]*-?\\.?\\d");d._.transform2matrix=p,d._unit2px=s,d._.getSomeDefs=r,d.select=function(a){return z(I.doc.querySelector(a))},d.selectAll=function(a){for(var b=I.doc.querySelectorAll(a),c=(d.set||Array)(),e=0;e<b.length;e++)c.push(z(b[e]));return c},function(a){function g(a){function b(a,b){var c=e(a.node,b);c=c&&c.match(g),c=c&&c[2],c&&"#"==c.charAt()&&(c=c.substring(1),c&&(i[c]=(i[c]||[]).concat(function(c){var d={};d[b]="url(#"+c+")",e(a.node,d)})))}function c(a){var b=e(a.node,"xlink:href");b&&"#"==b.charAt()&&(b=b.substring(1),b&&(i[b]=(i[b]||[]).concat(function(b){a.attr("xlink:href","#"+b)})))}for(var d,f=a.selectAll("*"),g=/^\s*url\(("|'|)(.*)\1\)\s*$/,h=[],i={},j=0,k=f.length;k>j;j++){d=f[j],b(d,"fill"),b(d,"stroke"),b(d,"filter"),b(d,"mask"),b(d,"clip-path"),c(d);var l=e(d.node,"id");l&&(e(d.node,{id:d.id}),h.push({old:l,id:d.id}))}for(j=0,k=h.length;k>j;j++){var m=i[h[j].old];if(m)for(var n=0,o=m.length;o>n;n++)m[n](h[j].id)}}function h(a,b,c){return function(d){var e=d.slice(a,b);return 1==e.length&&(e=e[0]),c?c(e):e}}function i(a){return function(){var b=a?"<"+this.type:"",c=this.node.attributes,d=this.node.childNodes;if(a)for(var e=0,f=c.length;f>e;e++)b+=" "+c[e].name+'="'+c[e].value.replace(/"/g,'\\"')+'"';if(d.length){for(a&&(b+=">"),e=0,f=d.length;f>e;e++)3==d[e].nodeType?b+=d[e].nodeValue:1==d[e].nodeType&&(b+=z(d[e]).toString());a&&(b+="</"+this.type+">")}else a&&(b+="/>");return b}}a.attr=function(a,c){var d=this;if(d.node,!a)return d;if(f(a,"string")){if(!(arguments.length>1))return v(b("snap.util.getattr."+a,d));var e={};e[a]=c,a=e}for(var g in a)a[J](g)&&b("snap.util.attr."+g,d,a[g]);return d},a.getBBox=function(a){var b=this;if("use"==b.type&&(b=b.original),b.removed)return{};var c=b._;return a?((c.dirty||!c.bboxwt)&&(b.realPath=d.path.get[b.type](b),c.bboxwt=d.path.getBBox(b.realPath),c.bboxwt.toString=m,c.dirty=0),d._.box(c.bboxwt)):((c.dirty||c.dirtyT||!c.bbox)&&((c.dirty||!b.realPath)&&(c.bboxwt=0,b.realPath=d.path.get[b.type](b)),c.bbox=d.path.getBBox(d.path.map(b.realPath,b.matrix)),c.bbox.toString=m,c.dirty=c.dirtyT=0),d._.box(c.bbox))};var j=function(){return this.string};a.transform=function(a){var b=this._;if(null==a){var c=new n(this.node.getCTM()),d=q(this),f=d.toTransformString(),g=K(d)==K(this.matrix)?b.transform:f;return{string:g,globalMatrix:c,localMatrix:d,diffMatrix:c.clone().add(d.invert()),global:c.toTransformString(),local:f,toString:j}}return a instanceof n&&(a=a.toTransformString()),q(this,a),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?e(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?e(this.node,{patternTransform:this.matrix}):e(this.node,{transform:this.matrix})),this},a.parent=function(){return z(this.node.parentNode)},a.append=a.add=function(a){if("set"==a.type){var b=this;return a.forEach(function(a){b.append(a)}),this}return a=z(a),this.node.appendChild(a.node),a.paper=this.paper,this},a.prepend=function(a){return a=z(a),this.node.insertBefore(a.node,this.node.firstChild),a.paper=this.paper,this},a.before=function(a){return a=z(a),this.node.parentNode.insertBefore(a.node,this.node),a.paper=this.paper,this},a.after=function(a){return a=z(a),this.node.parentNode.insertBefore(a.node,this.node.nextSibling),a.paper=this.paper,this},a.insertBefore=function(a){return a=z(a),a.node.parentNode.insertBefore(this.node,a.node),this.paper=a.paper,this},a.insertAfter=function(a){return a=z(a),a.node.parentNode.insertBefore(this.node,a.node.nextSibling),this.paper=a.paper,this},a.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,this},a.select=function(a){return z(this.node.querySelector(a))},a.selectAll=function(a){for(var b=this.node.querySelectorAll(a),c=(d.set||Array)(),e=0;e<b.length;e++)c.push(z(b[e]));return c},a.asPX=function(a,b){return null==b&&(b=this.attr(a)),s(this,a,b)},a.use=function(){var a,b=this.node.id;return b||(b=this.id,e(this.node,{id:b})),a="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?x(this.type,this.node.parentNode):x("use",this.node.parentNode),e(a.node,{"xlink:href":"#"+b}),a.original=this,a},a.clone=function(){var a=z(this.node.cloneNode(!0));return e(a.node,"id")&&e(a.node,{id:a.id}),g(a),a.insertAfter(this),a},a.toDefs=function(){var a=r(this);return a.appendChild(this.node),this},a.pattern=function(a,b,c,d){var f=x("pattern",r(this));return null==a&&(a=this.getBBox()),a&&"x"in a&&(b=a.y,c=a.width,d=a.height,a=a.x),e(f.node,{x:a,y:b,width:c,height:d,patternUnits:"userSpaceOnUse",id:f.id,viewBox:[a,b,c,d].join(" ")}),f.node.appendChild(this.node),f},a.marker=function(a,b,c,d,f,g){var h=x("marker",r(this));return null==a&&(a=this.getBBox()),a&&"x"in a&&(b=a.y,c=a.width,d=a.height,f=a.refX||a.cx,g=a.refY||a.cy,a=a.x),e(h.node,{viewBox:[a,b,c,d].join(T),markerWidth:c,markerHeight:d,orient:"auto",refX:f||0,refY:g||0,id:h.id}),h.node.appendChild(this.node),h};var k=function(a,b,d,e){"function"!=typeof d||d.length||(e=d,d=c.linear),this.attr=a,this.dur=b,d&&(this.easing=d),e&&(this.callback=e)};d.animation=function(a,b,c,d){return new k(a,b,c,d)},a.inAnim=function(){var a=this,b=[];for(var c in a.anims)a.anims[J](c)&&function(a){b.push({anim:new k(a._attrs,a.dur,a.easing,a._callback),curStatus:a.status(),status:function(b){return a.status(b)},stop:function(){a.stop()}})}(a.anims[c]);return b},d.animate=function(a,d,e,f,g,h){"function"!=typeof g||g.length||(h=g,g=c.linear);var i=c.time(),j=c(a,d,i,i+f,c.time,e,g);return h&&b.once("mina.finish."+j.id,h),j},a.stop=function(){for(var a=this.inAnim(),b=0,c=a.length;c>b;b++)a[b].stop();return this},a.animate=function(a,d,e,g){"function"!=typeof e||e.length||(g=e,e=c.linear),a instanceof k&&(g=a.callback,e=a.easing,d=e.dur,a=a.attr);var i,j,l,m,n=[],o=[],p={},q=this;for(var r in a)if(a[J](r)){q.equal?(m=q.equal(r,K(a[r])),i=m.from,j=m.to,l=m.f):(i=+q.attr(r),j=+a[r]);var s=f(i,"array")?i.length:1;p[r]=h(n.length,n.length+s,l),n=n.concat(i),o=o.concat(j)}var t=c.time(),u=c(n,o,t,t+d,c.time,function(a){var b={};for(var c in p)p[J](c)&&(b[c]=p[c](a));q.attr(b)},e);return q.anims[u.id]=u,u._attrs=a,u._callback=g,b.once("mina.finish."+u.id,function(){delete q.anims[u.id],g&&g.call(q)}),b.once("mina.stop."+u.id,function(){delete q.anims[u.id]}),q};var l={};a.data=function(a,c){var e=l[this.id]=l[this.id]||{};if(1==arguments.length){if(d.is(a,"object")){for(var f in a)a[J](f)&&this.data(f,a[f]);return this}return b("snap.data.get."+this.id,this,e[a],a),e[a]}return e[a]=c,b("snap.data.set."+this.id,this,c,a),this},a.removeData=function(a){return null==a?l[this.id]={}:l[this.id]&&delete l[this.id][a],this
},a.toString=i(1),a.innerSVG=i()}(u.prototype),d.parse=function(a){var c=I.doc.createDocumentFragment(),d=c;return b.on("elemental.tag",function(a,b){var c=e(a);b&&e(c,b),d.appendChild(c),d=c}),b.on("elemental.text",function(a){d.appendChild(I.doc.createTextNode(a))}),b.on("elemental./tag",function(){d=d.parentNode}),b.on("elemental.eof",function(){b.off("elemental.*"),b("snap.parsed",c)}),elemental().parse(a).end(),new w(c)},w.prototype.select=u.prototype.select,w.prototype.selectAll=u.prototype.selectAll,d.fragment=function(){for(var a=Array.prototype.slice.call(arguments,0),b=I.doc.createDocumentFragment(),c=0,e=a.length;e>c;c++){var f=a[c];f.node&&f.node.nodeType&&b.appendChild(f.node),f.nodeType&&b.appendChild(f),"string"==typeof f&&b.appendChild(d.parse(f).node)}return new w(b)},function(a){a.el=function(a,b){return x(a,this.node).attr(b)},a.rect=function(a,b,c,d,e,g){var h=x("rect",this.node);return null==g&&(g=e),f(a,"object")&&"x"in a?h.attr(a):null!=a&&(h.attr({x:a,y:b,width:c,height:d}),null!=e&&h.attr({rx:e,ry:g})),h},a.circle=function(a,b,c){var d=x("circle",this.node);return f(a,"object")&&"cx"in a?d.attr(a):null!=a&&d.attr({cx:a,cy:b,r:c}),d},a.image=function(a,b,c,d,g){var h=x("image",this.node);if(f(a,"object")&&"src"in a)h.attr(a);else if(null!=a){var i={"xlink:href":a,preserveAspectRatio:"none"};null!=b&&null!=c&&(i.x=b,i.y=c),null!=d&&null!=g?(i.width=d,i.height=g):ib(a,function(){e(h.node,{width:this.offsetWidth,height:this.offsetHeight})}),e(h.node,i)}return h},a.ellipse=function(a,b,c,d){var e=x("ellipse",this.node);return f(a,"object")&&"cx"in a?e.attr(a):null!=a&&e.attr({cx:a,cy:b,rx:c,ry:d}),e},a.path=function(a){var b=x("path",this.node);return f(a,"object")&&!f(a,"array")?b.attr(a):a&&b.attr({d:a}),b},a.group=a.g=function(b){var c=x("g",this.node);c.add=t;for(var d in a)a[J](d)&&(c[d]=a[d]);return 1==arguments.length&&b&&!b.type?c.attr(b):arguments.length&&c.add(Array.prototype.slice.call(arguments,0)),c},a.text=function(a,b,c){var d=x("text",this.node);return f(a,"object")?d.attr(a):null!=a&&d.attr({x:a,y:b,text:c||""}),d},a.line=function(a,b,c,d){var e=x("line",this.node);return f(a,"object")?e.attr(a):null!=a&&e.attr({x1:a,x2:c,y1:b,y2:d}),e},a.polyline=function(a){arguments.length>1&&(a=Array.prototype.slice.call(arguments,0));var b=x("polyline",this.node);return f(a,"object")&&!f(a,"array")?b.attr(a):null!=a&&b.attr({points:a}),b},a.polygon=function(a){arguments.length>1&&(a=Array.prototype.slice.call(arguments,0));var b=x("polygon",this.node);return f(a,"object")&&!f(a,"array")?b.attr(a):null!=a&&b.attr({points:a}),b},function(){a.gradient=function(a){return D(this.defs,a)},a.gradientLinear=function(a,b,c,d){return E(this.defs,a,b,c,d)},a.gradientRadial=function(a,b,c,d,e){return F(this.defs,a,b,c,d,e)},a.toString=function(){var a,b=I.doc.createDocumentFragment(),c=I.doc.createElement("div"),d=this.node.cloneNode(!0);return b.appendChild(c),c.appendChild(d),e(d,{xmlns:"http://www.w3.org/2000/svg"}),a=c.innerHTML,b.removeChild(b.firstChild),a},a.clear=function(){for(var a,b=this.node.firstChild;b;)a=b.nextSibling,"defs"!=b.tagName&&b.parentNode.removeChild(b),b=a}}()}(y.prototype),d.ajax=function(a,c,d,e){var g=new XMLHttpRequest,h=fb();if(g){if(f(c,"function"))e=d,d=c,c=null;else if(f(c,"object")){var i=[];for(var j in c)c.hasOwnProperty(j)&&i.push(encodeURIComponent(j)+"="+encodeURIComponent(c[j]));c=i.join("&")}return g.open(c?"POST":"GET",a,!0),g.setRequestHeader("X-Requested-With","XMLHttpRequest"),c&&g.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d&&(b.once("snap.ajax."+h+".0",d),b.once("snap.ajax."+h+".200",d),b.once("snap.ajax."+h+".304",d)),g.onreadystatechange=function(){4==g.readyState&&b("snap.ajax."+h+"."+g.status,e,g)},4==g.readyState?g:(g.send(c),g)}},d.load=function(a,b,c){d.ajax(a,function(a){var e=d.parse(a.responseText);c?b.call(c,e):b(e)})},b.on("snap.util.attr.mask",function(a){if(a instanceof u||a instanceof w){if(b.stop(),a instanceof w&&1==a.node.childNodes.length&&(a=a.node.firstChild,r(this).appendChild(a),a=z(a)),"mask"==a.type)var c=a;else c=x("mask",r(this)),c.node.appendChild(a.node),!c.node.id&&e(c.node,{id:c.id});e(this.node,{mask:"url(#"+c.id+")"})}}),function(a){b.on("snap.util.attr.clip",a),b.on("snap.util.attr.clip-path",a),b.on("snap.util.attr.clipPath",a)}(function(a){if(a instanceof u||a instanceof w){if(b.stop(),"clipPath"==a.type)var c=a;else c=x("clipPath",r(this)),c.node.appendChild(a.node),!c.node.id&&e(c.node,{id:c.id});e(this.node,{"clip-path":"url(#"+c.id+")"})}}),b.on("snap.util.attr.fill",G("fill")),b.on("snap.util.attr.stroke",G("stroke"));var rb=/^([lr])(?:\(([^)]*)\))?(.*)$/i;b.on("snap.util.grad.parse",function(a){a=K(a);var b=a.match(rb);if(!b)return null;var c=b[1],d=b[2],e=b[3];return d=d.split(/\s*,\s*/).map(function(a){return+a==a?+a:a}),1==d.length&&0==d[0]&&(d=[]),e=e.split("-"),e=e.map(function(a){a=a.split(":");var b={color:a[0]};return a[1]&&(b.offset=a[1]),b}),{type:c,params:d,stops:e}}),b.on("snap.util.attr.d",function(a){b.stop(),f(a,"array")&&f(a[0],"array")&&(a=d.path.toString.call(a)),a=K(a),a.match(/[ruo]/i)&&(a=d.path.toAbsolute(a)),e(this.node,{d:a})})(-1),b.on("snap.util.attr.#text",function(a){b.stop(),a=K(a);for(var c=I.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(c)})(-1),b.on("snap.util.attr.path",function(a){b.stop(),this.attr({d:a})})(-1),b.on("snap.util.attr.viewBox",function(a){var c;c=f(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):f(a,"array")?a.join(" "):a,e(this.node,{viewBox:c}),b.stop()})(-1),b.on("snap.util.attr.transform",function(a){this.transform(a),b.stop()})(-1),b.on("snap.util.attr.r",function(a){"rect"==this.type&&(b.stop(),e(this.node,{rx:a,ry:a}))})(-1),b.on("snap.util.attr.text",function(a){if("text"==this.type){for(var c=this.node,d=function(a){var b=e("tspan");if(f(a,"array"))for(var c=0;c<a.length;c++)b.appendChild(d(a[c]));else b.appendChild(I.doc.createTextNode(a));return b.normalize&&b.normalize(),b};c.firstChild;)c.removeChild(c.firstChild);for(var g=d(a);g.firstChild;)c.appendChild(g.firstChild)}b.stop()})(-1);var sb={rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,"class":0},circle:{cx:0,cy:0,r:0,"class":0},ellipse:{cx:0,cy:0,rx:0,ry:0,"class":0},line:{x1:0,y1:0,x2:0,y2:0,"class":0},polyline:{points:"","class":0},polygon:{points:"","class":0},text:{x:0,y:0,dx:0,dy:0,rotate:0,textLength:0,lengthAdjust:0,"class":0},tspan:{x:0,y:0,dx:0,dy:0,rotate:0,textLength:0,lengthAdjust:0,"class":0},textPath:{"xlink:href":0,startOffset:0,method:0,spacing:0,"class":0},marker:{viewBox:0,preserveAspectRatio:0,refX:0,refY:0,markerUnits:0,markerWidth:0,markerHeight:0,orient:0,"class":0},use:{"class":0,externalResourcesRequired:0,x:0,y:0,width:0,height:0,"xlink:href":0},linearGradient:{x1:0,y1:0,x2:0,y2:0,gradientUnits:0,gradientTransform:0,spreadMethod:0,"xlink:href":0,"class":0},radialGradient:{cx:0,cy:0,r:0,fx:0,fy:0,gradientUnits:0,gradientTransform:0,spreadMethod:0,"xlink:href":0,"class":0},stop:{offset:0,"class":0},pattern:{viewBox:0,preserveAspectRatio:0,x:0,y:0,width:0,height:0,patternUnits:0,patternContentUnits:0,patternTransform:0,"xlink:href":0,"class":0},clipPath:{transform:0,clipPathUnits:0,"class":0},mask:{x:0,y:0,width:0,height:0,maskUnits:0,maskContentUnits:0,"class":0},image:{preserveAspectRatio:0,transform:0,x:0,y:0,width:0,height:0,"xlink:href":0,"class":0},path:{d:"","class":0},g:{"class":0},feDistantLight:{azimuth:0,elevation:0},fePointLight:{x:0,y:0,z:0},feSpotLight:{x:0,y:0,z:0,pointsAtX:0,pointsAtY:0,pointsAtZ:0,specularExponent:0,limitingConeAngle:0},feBlend:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"in":0,in2:0,mode:0},feColorMatrix:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"in":0,type:0,values:0},feComponentTransfer:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"in":0},feComposite:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"in":0,in2:0,operator:0,k1:0,k2:0,k3:0,k4:0},feConvolveMatrix:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"in":0,order:0,kernelMatrix:0,divisor:0,bias:0,targetX:0,targetY:0,edgeMode:0,kernelUnitLength:0,preserveAlpha:0},feDiffuseLighting:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"in":0,surfaceScale:0,diffuseConstant:0,kernelUnitLength:0},feDisplacementMap:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"in":0,in2:0,scale:0,xChannelSelector:0,yChannelSelector:0},feFlood:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"flood-color":0,"flood-opacity":0},feGaussianBlur:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"in":0,stdDeviation:0},feImage:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,externalResourcesRequired:0,preserveAspectRatio:0,"xlink:href":0},feMerge:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0},feMergeNode:{"in":0},feMorphology:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"in":0,operator:0,radius:0},feOffset:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"in":0,dx:0,dy:0},feSpecularLighting:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"in":0,surfaceScale:0,specularConstant:0,specularExponent:0,kernelUnitLength:0},feTile:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,"in":0},feTurbulence:{height:0,result:0,width:0,x:0,y:0,"class":0,style:0,baseFrequency:0,numOctaves:0,seed:0,stitchTiles:0,type:0}};return sb.feFuncR=sb.feFuncG=sb.feFuncB=sb.feFuncA={type:0,tableValues:0,slope:0,intercept:0,amplitude:0,exponent:0,offset:0},b.on("snap.util.attr",function(a){var c=b.nt();c=c.substring(c.lastIndexOf(".")+1);var d=c.replace(/-(\w)/gi,function(a,b){return b.toUpperCase()});sb[J](this.type)&&sb[this.type][J](c)?null==a?this.node.removeAttribute(c):this.node.setAttribute(c,a):this.node.style[d]=null==a?S:a}),b.on("snap.util.getattr.transform",function(){return b.stop(),this.transform()})(-1),function(){function a(a){return function(){b.stop();var c=I.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+a);return"none"==c?c:d(I.doc.getElementById(c.match(X)[1]))}}function c(a){return function(c){b.stop();var d="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""==c||!c)return this.node.style[d]="none",void 0;if("marker"==c.type){var f=c.node.id;return f||e(c.node,{id:c.id}),this.node.style[d]="url(#"+f+")",void 0}}}b.on("snap.util.getattr.marker-end",a("end"))(-1),b.on("snap.util.getattr.markerEnd",a("end"))(-1),b.on("snap.util.getattr.marker-start",a("start"))(-1),b.on("snap.util.getattr.markerStart",a("start"))(-1),b.on("snap.util.getattr.marker-mid",a("mid"))(-1),b.on("snap.util.getattr.markerMid",a("mid"))(-1),b.on("snap.util.attr.marker-end",c("end"))(-1),b.on("snap.util.attr.markerEnd",c("end"))(-1),b.on("snap.util.attr.marker-start",c("start"))(-1),b.on("snap.util.attr.markerStart",c("start"))(-1),b.on("snap.util.attr.marker-mid",c("mid"))(-1),b.on("snap.util.attr.markerMid",c("mid"))(-1)}(),b.on("snap.util.getattr.r",function(){return"rect"==this.type&&e(this.node,"rx")==e(this.node,"ry")?(b.stop(),e(this.node,"rx")):void 0})(-1),b.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){b.stop();var a=H(this.node);return 1==a.length?a[0]:a}})(-1),b.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),b.on("snap.util.getattr.viewBox",function(){b.stop();var a=e(this.node,"viewBox").split(Z);return d._.box(+a[0],+a[1],+a[2],+a[3])})(-1),b.on("snap.util.getattr.points",function(){var a=e(this.node,"points");return b.stop(),a.split(Z)}),b.on("snap.util.getattr.path",function(){var a=e(this.node,"d");return b.stop(),a}),b.on("snap.util.getattr",function(){var a=b.nt();return a=a.substring(a.lastIndexOf(".")+1),sb[J](this.type)&&sb[this.type][J](a)?this.node.getAttribute(a):I.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue(a)}),d.plugin=function(a){a(d,u,y,I)},I.win.Snap=d,d}();return d.plugin(function(a,b){function c(a){var b=c.ps=c.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[L](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])}),b[a]}function d(a,b,c,d){return null==a&&(a=b=c=d=0),null==b&&(b=a.y,c=a.width,d=a.height,a=a.x),{x:a,y:b,width:c,w:c,height:d,h:d,x2:a+c,y2:b+d,cx:a+c/2,cy:b+d/2,r1:O.min(c,d)/2,r2:O.max(c,d)/2,r0:O.sqrt(c*c+d*d)/2,path:w(a,b,c,d),vb:[a,b,c,d].join(" ")}}function e(){return this.join(",").replace(M,"$1")}function f(a){var b=K(a);return b.toString=e,b}function g(a,b,c,d,e,f,g,h,j){return null==j?n(a,b,c,d,e,f,g,h):i(a,b,c,d,e,f,g,h,o(a,b,c,d,e,f,g,h,j))}function h(c,d){function e(a){return+(+a).toFixed(3)}return a._.cacher(function(a,f,h){a instanceof b&&(a=a.attr("d")),a=F(a);for(var j,k,l,m,n,o="",p={},q=0,r=0,s=a.length;s>r;r++){if(l=a[r],"M"==l[0])j=+l[1],k=+l[2];else{if(m=g(j,k,l[1],l[2],l[3],l[4],l[5],l[6]),q+m>f){if(d&&!p.start){if(n=g(j,k,l[1],l[2],l[3],l[4],l[5],l[6],f-q),o+=["C"+e(n.start.x),e(n.start.y),e(n.m.x),e(n.m.y),e(n.x),e(n.y)],h)return o;p.start=o,o=["M"+e(n.x),e(n.y)+"C"+e(n.n.x),e(n.n.y),e(n.end.x),e(n.end.y),e(l[5]),e(l[6])].join(),q+=m,j=+l[5],k=+l[6];continue}if(!c&&!d)return n=g(j,k,l[1],l[2],l[3],l[4],l[5],l[6],f-q)}q+=m,j=+l[5],k=+l[6]}o+=l.shift()+l}return p.end=o,n=c?q:d?p:i(j,k,l[0],l[1],l[2],l[3],l[4],l[5],1)},null,a._.clone)}function i(a,b,c,d,e,f,g,h,i){var j=1-i,k=S(j,3),l=S(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,w=j*e+i*g,x=j*f+i*h,y=90-180*O.atan2(q-s,r-t)/P;return{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:w,y:x},alpha:y}}function j(b,c,e,f,g,h,i,j){a.is(b,"array")||(b=[b,c,e,f,g,h,i,j]);var k=E.apply(null,b);return d(k.min.x,k.min.y,k.max.x-k.min.x,k.max.y-k.min.y)}function k(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function l(a,b){return a=d(a),b=d(b),k(b,a.x,a.y)||k(b,a.x2,a.y)||k(b,a.x,a.y2)||k(b,a.x2,a.y2)||k(a,b.x,b.y)||k(a,b.x2,b.y)||k(a,b.x,b.y2)||k(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<a.y2&&b.y>a.y)}function m(a,b,c,d,e){var f=-3*b+9*c-9*d+3*e,g=a*f+6*b-12*c+6*d;return a*g-3*b+3*c}function n(a,b,c,d,e,f,g,h,i){null==i&&(i=1),i=i>1?1:0>i?0:i;for(var j=i/2,k=12,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],n=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],o=0,p=0;k>p;p++){var q=j*l[p]+j,r=m(q,a,c,e,g),s=m(q,b,d,f,h),t=r*r+s*s;o+=n[p]*O.sqrt(t)}return j*o}function o(a,b,c,d,e,f,g,h,i){if(!(0>i||n(a,b,c,d,e,f,g,h)<i)){var j,k=1,l=k/2,m=k-l,o=.01;for(j=n(a,b,c,d,e,f,g,h,m);T(j-i)>o;)l/=2,m+=(i>j?1:-1)*l,j=n(a,b,c,d,e,f,g,h,m);return m}}function p(a,b,c,d,e,f,g,h){if(!(R(a,c)<Q(e,g)||Q(a,c)>R(e,g)||R(b,d)<Q(f,h)||Q(b,d)>R(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(k){var l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2);if(!(n<+Q(a,c).toFixed(2)||n>+R(a,c).toFixed(2)||n<+Q(e,g).toFixed(2)||n>+R(e,g).toFixed(2)||o<+Q(b,d).toFixed(2)||o>+R(b,d).toFixed(2)||o<+Q(f,h).toFixed(2)||o>+R(f,h).toFixed(2)))return{x:l,y:m}}}}function q(a,b,c){var d=j(a),e=j(b);if(!l(d,e))return c?0:[];for(var f=n.apply(0,a),g=n.apply(0,b),h=~~(f/5),k=~~(g/5),m=[],o=[],q={},r=c?0:[],s=0;h+1>s;s++){var t=i.apply(0,a.concat(s/h));m.push({x:t.x,y:t.y,t:s/h})}for(s=0;k+1>s;s++)t=i.apply(0,b.concat(s/k)),o.push({x:t.x,y:t.y,t:s/k});for(s=0;h>s;s++)for(var u=0;k>u;u++){var v=m[s],w=m[s+1],x=o[u],y=o[u+1],z=T(w.x-v.x)<.001?"y":"x",A=T(y.x-x.x)<.001?"y":"x",B=p(v.x,v.y,w.x,w.y,x.x,x.y,y.x,y.y);if(B){if(q[B.x.toFixed(4)]==B.y.toFixed(4))continue;q[B.x.toFixed(4)]=B.y.toFixed(4);var C=v.t+T((B[z]-v[z])/(w[z]-v[z]))*(w.t-v.t),D=x.t+T((B[A]-x[A])/(y[A]-x[A]))*(y.t-x.t);C>=0&&1>=C&&D>=0&&1>=D&&(c?r++:r.push({x:B.x,y:B.y,t1:C,t2:D}))}}return r}function r(a,b){return t(a,b)}function s(a,b){return t(a,b,1)}function t(a,b,c){a=F(a),b=F(b);for(var d,e,f,g,h,i,j,k,l,m,n=c?0:[],o=0,p=a.length;p>o;o++){var r=a[o];if("M"==r[0])d=h=r[1],e=i=r[2];else{"C"==r[0]?(l=[d,e].concat(r.slice(1)),d=l[6],e=l[7]):(l=[d,e,d,e,h,i,h,i],d=h,e=i);for(var s=0,t=b.length;t>s;s++){var u=b[s];if("M"==u[0])f=j=u[1],g=k=u[2];else{"C"==u[0]?(m=[f,g].concat(u.slice(1)),f=m[6],g=m[7]):(m=[f,g,f,g,j,k,j,k],f=j,g=k);var v=q(l,m,c);if(c)n+=v;else{for(var w=0,x=v.length;x>w;w++)v[w].segment1=o,v[w].segment2=s,v[w].bez1=l,v[w].bez2=m;n=n.concat(v)}}}}}return n}function u(a,b,c){var d=v(a);return k(d,b,c)&&1==t(a,[["M",b,c],["H",d.x2+10]],1)%2}function v(a){var b=c(a);if(b.bbox)return K(b.bbox);if(!a)return d();a=F(a);for(var e,f=0,g=0,h=[],i=[],j=0,k=a.length;k>j;j++)if(e=a[j],"M"==e[0])f=e[1],g=e[2],h.push(f),i.push(g);else{var l=E(f,g,e[1],e[2],e[3],e[4],e[5],e[6]);h=h.concat(l.min.x,l.max.x),i=i.concat(l.min.y,l.max.y),f=e[5],g=e[6]}var m=Q.apply(0,h),n=Q.apply(0,i),o=R.apply(0,h),p=R.apply(0,i),q=d(m,n,o-m,p-n);return b.bbox=K(q),q}function w(a,b,c,d,f){if(f)return[["M",a+f,b],["l",c-2*f,0],["a",f,f,0,0,1,f,f],["l",0,d-2*f],["a",f,f,0,0,1,-f,f],["l",2*f-c,0],["a",f,f,0,0,1,-f,-f],["l",0,2*f-d],["a",f,f,0,0,1,f,-f],["z"]];var g=[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]];return g.toString=e,g}function x(a,b,c,d,f){if(null==f&&null==d&&(d=c),null!=f)var g=Math.PI/180,h=a+c*Math.cos(-d*g),i=a+c*Math.cos(-f*g),j=b+c*Math.sin(-d*g),k=b+c*Math.sin(-f*g),l=[["M",h,j],["A",c,c,0,+(f-d>180),0,i,k]];else l=[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]];return l.toString=e,l}function y(b){var d=c(b),g=String.prototype.toLowerCase;if(d.rel)return f(d.rel);a.is(b,"array")&&a.is(b&&b[0],"array")||(b=a.parsePathString(b));var h=[],i=0,j=0,k=0,l=0,m=0;"M"==b[0][0]&&(i=b[0][1],j=b[0][2],k=i,l=j,m++,h.push(["M",i,j]));for(var n=m,o=b.length;o>n;n++){var p=h[n]=[],q=b[n];if(q[0]!=g.call(q[0]))switch(p[0]=g.call(q[0]),p[0]){case"a":p[1]=q[1],p[2]=q[2],p[3]=q[3],p[4]=q[4],p[5]=q[5],p[6]=+(q[6]-i).toFixed(3),p[7]=+(q[7]-j).toFixed(3);break;case"v":p[1]=+(q[1]-j).toFixed(3);break;case"m":k=q[1],l=q[2];default:for(var r=1,s=q.length;s>r;r++)p[r]=+(q[r]-(r%2?i:j)).toFixed(3)}else{p=h[n]=[],"m"==q[0]&&(k=q[1]+i,l=q[2]+j);for(var t=0,u=q.length;u>t;t++)h[n][t]=q[t]}var v=h[n].length;switch(h[n][0]){case"z":i=k,j=l;break;case"h":i+=+h[n][v-1];break;case"v":j+=+h[n][v-1];break;default:i+=+h[n][v-2],j+=+h[n][v-1]}}return h.toString=e,d.rel=f(h),h}function z(b){var d=c(b);if(d.abs)return f(d.abs);if(J(b,"array")&&J(b&&b[0],"array")||(b=a.parsePathString(b)),!b||!b.length)return[["M",0,0]];var g,h=[],i=0,j=0,k=0,l=0,m=0;"M"==b[0][0]&&(i=+b[0][1],j=+b[0][2],k=i,l=j,m++,h[0]=["M",i,j]);for(var n,o,p=3==b.length&&"M"==b[0][0]&&"R"==b[1][0].toUpperCase()&&"Z"==b[2][0].toUpperCase(),q=m,r=b.length;r>q;q++){if(h.push(n=[]),o=b[q],g=o[0],g!=g.toUpperCase())switch(n[0]=g.toUpperCase(),n[0]){case"A":n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=+(o[6]+i),n[7]=+(o[7]+j);break;case"V":n[1]=+o[1]+j;break;case"H":n[1]=+o[1]+i;break;case"R":for(var s=[i,j].concat(o.slice(1)),t=2,u=s.length;u>t;t++)s[t]=+s[t]+i,s[++t]=+s[t]+j;h.pop(),h=h.concat(H(s,p));break;case"O":h.pop(),s=x(i,j,o[1],o[2]),s.push(s[0]),h=h.concat(s);break;case"U":h.pop(),h=h.concat(x(i,j,o[1],o[2],o[3])),n=["U"].concat(h[h.length-1].slice(-2));break;case"M":k=+o[1]+i,l=+o[2]+j;default:for(t=1,u=o.length;u>t;t++)n[t]=+o[t]+(t%2?i:j)}else if("R"==g)s=[i,j].concat(o.slice(1)),h.pop(),h=h.concat(H(s,p)),n=["R"].concat(o.slice(-2));else if("O"==g)h.pop(),s=x(i,j,o[1],o[2]),s.push(s[0]),h=h.concat(s);else if("U"==g)h.pop(),h=h.concat(x(i,j,o[1],o[2],o[3])),n=["U"].concat(h[h.length-1].slice(-2));else for(var v=0,w=o.length;w>v;v++)n[v]=o[v];if(g=g.toUpperCase(),"O"!=g)switch(n[0]){case"Z":i=k,j=l;break;case"H":i=n[1];break;case"V":j=n[1];break;case"M":k=n[n.length-2],l=n[n.length-1];default:i=n[n.length-2],j=n[n.length-1]}}return h.toString=e,d.abs=f(h),h}function A(a,b,c,d){return[a,b,c,d,c,d]}function B(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]}function C(b,c,d,e,f,g,h,i,j,k){var l,m=120*P/180,n=P/180*(+f||0),o=[],p=a._.cacher(function(a,b,c){var d=a*O.cos(c)-b*O.sin(c),e=a*O.sin(c)+b*O.cos(c);return{x:d,y:e}});if(k)y=k[0],z=k[1],w=k[2],x=k[3];else{l=p(b,c,-n),b=l.x,c=l.y,l=p(i,j,-n),i=l.x,j=l.y;var q=(O.cos(P/180*f),O.sin(P/180*f),(b-i)/2),r=(c-j)/2,s=q*q/(d*d)+r*r/(e*e);s>1&&(s=O.sqrt(s),d=s*d,e=s*e);var t=d*d,u=e*e,v=(g==h?-1:1)*O.sqrt(T((t*u-t*r*r-u*q*q)/(t*r*r+u*q*q))),w=v*d*r/e+(b+i)/2,x=v*-e*q/d+(c+j)/2,y=O.asin(((c-x)/e).toFixed(9)),z=O.asin(((j-x)/e).toFixed(9));y=w>b?P-y:y,z=w>i?P-z:z,0>y&&(y=2*P+y),0>z&&(z=2*P+z),h&&y>z&&(y-=2*P),!h&&z>y&&(z-=2*P)}var A=z-y;if(T(A)>m){var B=z,D=i,E=j;z=y+m*(h&&z>y?1:-1),i=w+d*O.cos(z),j=x+e*O.sin(z),o=C(i,j,d,e,f,0,h,D,E,[z,B,w,x])}A=z-y;var F=O.cos(y),G=O.sin(y),H=O.cos(z),I=O.sin(z),J=O.tan(A/4),K=4/3*d*J,L=4/3*e*J,M=[b,c],N=[b+K*G,c-L*F],Q=[i+K*I,j-L*H],R=[i,j];if(N[0]=2*M[0]-N[0],N[1]=2*M[1]-N[1],k)return[N,Q,R].concat(o);o=[N,Q,R].concat(o).join().split(",");for(var S=[],U=0,V=o.length;V>U;U++)S[U]=U%2?p(o[U-1],o[U],n).y:p(o[U],o[U+1],n).x;return S}function D(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:S(j,3)*a+3*S(j,2)*i*c+3*j*i*i*e+S(i,3)*g,y:S(j,3)*b+3*S(j,2)*i*d+3*j*i*i*f+S(i,3)*h}}function E(a,b,c,d,e,f,g,h){var i,j=e-2*c+a-(g-2*e+c),k=2*(c-a)-2*(e-c),l=a-c,m=(-k+O.sqrt(k*k-4*j*l))/2/j,n=(-k-O.sqrt(k*k-4*j*l))/2/j,o=[b,h],p=[a,g];return T(m)>"1e12"&&(m=.5),T(n)>"1e12"&&(n=.5),m>0&&1>m&&(i=D(a,b,c,d,e,f,g,h,m),p.push(i.x),o.push(i.y)),n>0&&1>n&&(i=D(a,b,c,d,e,f,g,h,n),p.push(i.x),o.push(i.y)),j=f-2*d+b-(h-2*f+d),k=2*(d-b)-2*(f-d),l=b-d,m=(-k+O.sqrt(k*k-4*j*l))/2/j,n=(-k-O.sqrt(k*k-4*j*l))/2/j,T(m)>"1e12"&&(m=.5),T(n)>"1e12"&&(n=.5),m>0&&1>m&&(i=D(a,b,c,d,e,f,g,h,m),p.push(i.x),o.push(i.y)),n>0&&1>n&&(i=D(a,b,c,d,e,f,g,h,n),p.push(i.x),o.push(i.y)),{min:{x:Q.apply(0,p),y:Q.apply(0,o)},max:{x:R.apply(0,p),y:R.apply(0,o)}}}function F(a,b){var d=!b&&c(a);if(!b&&d.curve)return f(d.curve);for(var e=z(a),g=b&&z(b),h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},j=(function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"].concat(C.apply(0,[b.x,b.y].concat(a.slice(1))));break;case"S":c=b.x+(b.x-(b.bx||b.x)),d=b.y+(b.y-(b.by||b.y)),a=["C",c,d].concat(a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=["C"].concat(B(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"].concat(B(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(A(b.x,b.y,a[1],a[2]));break;case"H":a=["C"].concat(A(b.x,b.y,a[1],b.y));break;case"V":a=["C"].concat(A(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"].concat(A(b.x,b.y,b.X,b.Y))}return a}),k=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1),n=R(e.length,g&&g.length||0)}},l=function(a,b,c,d,f){a&&b&&"M"==a[f][0]&&"M"!=b[f][0]&&(b.splice(f,0,["M",d.x,d.y]),c.bx=0,c.by=0,c.x=a[f][1],c.y=a[f][2],n=R(e.length,g&&g.length||0))},m=0,n=R(e.length,g&&g.length||0);n>m;m++){e[m]=j(e[m],h),k(e,m),g&&(g[m]=j(g[m],i)),g&&k(g,m),l(e,g,h,i,m),l(g,e,i,h,m);var o=e[m],p=g&&g[m],q=o.length,r=g&&p.length;h.x=o[q-2],h.y=o[q-1],h.bx=N(o[q-4])||h.x,h.by=N(o[q-3])||h.y,i.bx=g&&(N(p[r-4])||i.x),i.by=g&&(N(p[r-3])||i.y),i.x=g&&p[r-2],i.y=g&&p[r-1]}return g||(d.curve=f(e)),g?[e,g]:e}function G(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=F(a),e=0,g=a.length;g>e;e++)for(i=a[e],f=1,h=i.length;h>f;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a}function H(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}var I=b.prototype,J=a.is,K=a._.clone,L="hasOwnProperty",M=/,?([a-z]),?/gi,N=parseFloat,O=Math,P=O.PI,Q=O.min,R=O.max,S=O.pow,T=O.abs,U=h(1),V=h(),W=h(0,1),X=a._unit2px,Y={path:function(a){return a.attr("path")},circle:function(a){var b=X(a);return x(b.cx,b.cy,b.r)},ellipse:function(a){var b=X(a);return x(b.cx,b.cy,b.rx,b.ry)},rect:function(a){var b=X(a);return w(b.x,b.y,b.width,b.height,b.rx,b.ry)},image:function(a){var b=X(a);return w(b.x,b.y,b.width,b.height)},text:function(a){var b=a.node.getBBox();return w(b.x,b.y,b.width,b.height)},g:function(a){var b=a.node.getBBox();return w(b.x,b.y,b.width,b.height)},symbol:function(a){var b=a.getBBox();return w(b.x,b.y,b.width,b.height)},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"}};a.path=c,a.path.getTotalLength=U,a.path.getPointAtLength=V,a.path.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return W(a,b).end;var d=W(a,c,1);return b?W(d,b).end:d},I.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},I.getPointAtLength=function(a){return V(this.attr("d"),a)},I.getSubpath=function(b,c){return a.path.getSubpath(this.attr("d"),b,c)},a._.box=d,a.path.findDotsAtSegment=i,a.path.bezierBBox=j,a.path.isPointInsideBBox=k,a.path.isBBoxIntersect=l,a.path.intersection=r,a.path.intersectionNumber=s,a.path.isPointInside=u,a.path.getBBox=v,a.path.get=Y,a.path.toRelative=y,a.path.toAbsolute=z,a.path.toCubic=F,a.path.map=G,a.path.toString=e,a.path.clone=f}),d.plugin(function(a){var b=Math.max,c=Math.min,d=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)a[b]&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},e=d.prototype;e.push=function(){for(var a,b,c=0,d=arguments.length;d>c;c++)a=arguments[c],a&&(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},e.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},e.forEach=function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b,this.items[c],c)===!1)return this;return this},e.attr=function(a){for(var b=0,c=this.items.length;c>b;b++)this.items[b].attr(a);return this},e.clear=function(){for(;this.length;)this.pop()},e.splice=function(a,e){a=0>a?b(this.length+a,0):a,e=b(0,c(this.length-a,e));var f,g=[],h=[],i=[];for(f=2;f<arguments.length;f++)i.push(arguments[f]);for(f=0;e>f;f++)h.push(this[a+f]);for(;f<this.length-a;f++)g.push(this[a+f]);var j=i.length;for(f=0;f<j+g.length;f++)this.items[a+f]=this[a+f]=j>f?i[f]:g[f-j];for(f=this.items.length=this.length-=e-j;this[f];)delete this[f++];return new d(h)},e.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0;return!1},e.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},e.getBBox=function(){for(var a=[],d=[],e=[],f=[],g=this.items.length;g--;)if(!this.items[g].removed){var h=this.items[g].getBBox();a.push(h.x),d.push(h.y),e.push(h.x+h.width),f.push(h.y+h.height)}return a=c.apply(0,a),d=c.apply(0,d),e=b.apply(0,e),f=b.apply(0,f),{x:a,y:d,x2:e,y2:f,width:e-a,height:f-d,cx:a+(e-a)/2,cy:d+(f-d)/2}},e.clone=function(a){a=new d;for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},e.toString=function(){return"Snap‘s set"},e.type="set",a.set=function(){var a=new d;return arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0)),a}}),d.plugin(function(a,b){function c(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}}function d(b,d,e){d=l(d).replace(/\.{3}|\u2026/g,b),b=a.parseTransformString(b)||[],d=a.parseTransformString(d)||[];for(var f,g,j,k,m=Math.max(b.length,d.length),n=[],o=[],p=0;m>p;p++){if(j=b[p]||c(d[p]),k=d[p]||c(j),j[0]!=k[0]||"r"==j[0].toLowerCase()&&(j[2]!=k[2]||j[3]!=k[3])||"s"==j[0].toLowerCase()&&(j[3]!=k[3]||j[4]!=k[4])){b=a._.transform2matrix(b,e()),d=a._.transform2matrix(d,e()),n=[["m",b.a,b.b,b.c,b.d,b.e,b.f]],o=[["m",d.a,d.b,d.c,d.d,d.e,d.f]];break}for(n[p]=[],o[p]=[],f=0,g=Math.max(j.length,k.length);g>f;f++)f in j&&(n[p][f]=j[f]),f in k&&(o[p][f]=k[f])}return{from:i(n),to:i(o),f:h(n)}}function e(a){return a}function f(a){return function(b){return+b.toFixed(3)+a}}function g(b){return a.rgb(b[0],b[1],b[2])}function h(a){var b,c,d,e,f,g,h=0,i=[];for(b=0,c=a.length;c>b;b++){for(f="[",g=['"'+a[b][0]+'"'],d=1,e=a[b].length;e>d;d++)g[d]="val["+h++ +"]";f+=g+"]",i[b]=f}return Function("val","return Snap.path.toString.call(["+i+"])")}function i(a){for(var b=[],c=0,d=a.length;d>c;c++)for(var e=1,f=a[c].length;f>e;e++)b.push(a[c][e]);return b}var j={},k=/[a-z]+$/i,l=String;j.stroke=j.fill="colour",b.prototype.equal=function(b,c){var m,n,o=l(this.attr(b)||""),p=this;if(o==+o&&c==+c)return{from:+o,to:+c,f:e};if("colour"==j[b])return m=a.color(o),n=a.color(c),{from:[m.r,m.g,m.b,m.opacity],to:[n.r,n.g,n.b,n.opacity],f:g};if("transform"==b||"gradientTransform"==b||"patternTransform"==b)return d(o,c,function(){return p.getBBox(1)});if("d"==b||"path"==b)return m=a.path.toCubic(o,c),{from:i(m[0]),to:i(m[1]),f:h(m[0])};var q=o.match(k),r=c.match(k);return q&&q==r?{from:parseFloat(o),to:parseFloat(c),f:f(q)}:{from:this.asPX(b),to:this.asPX(b,c),f:e}}}),d.plugin(function(a,c,d,e){for(var f=c.prototype,g="hasOwnProperty",h=("createTouch"in e.doc),i=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],j={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},k=function(a){var b="y"==a?"scrollTop":"scrollLeft";return e.doc.documentElement[b]||e.doc.body[b]},l=function(){this.returnValue=!1},m=function(){return this.originalEvent.preventDefault()},n=function(){this.cancelBubble=!0},o=function(){return this.originalEvent.stopPropagation()},p=function(){return e.doc.addEventListener?function(a,b,c,d){var e=h&&j[b]?j[b]:b,f=function(e){var f=k("y"),i=k("x"),l=e.clientX+i,n=e.clientY+f;if(h&&j[g](b))for(var p=0,q=e.targetTouches&&e.targetTouches.length;q>p;p++)if(e.targetTouches[p].target==a){var r=e;e=e.targetTouches[p],e.originalEvent=r,e.preventDefault=m,e.stopPropagation=o;break}return c.call(d,e,l,n)};return a.addEventListener(e,f,!1),function(){return a.removeEventListener(e,f,!1),!0}}:e.doc.attachEvent?function(a,b,c,d){var f=function(a){a=a||e.win.event;var b=k("y"),f=k("x"),g=a.clientX+f,h=a.clientY+b;return a.preventDefault=a.preventDefault||l,a.stopPropagation=a.stopPropagation||n,c.call(d,a,g,h)};a.attachEvent("on"+b,f);var g=function(){return a.detachEvent("on"+b,f),!0};return g}:void 0}(),q=[],r=function(c){for(var d,e=c.clientX,f=c.clientY,g=k("y"),i=k("x"),j=q.length;j--;){if(d=q[j],h){for(var l,m=c.touches.length;m--;)if(l=c.touches[m],l.identifier==d.el._drag.id){e=l.clientX,f=l.clientY,(c.originalEvent?c.originalEvent:c).preventDefault();break}}else c.preventDefault();var n=d.el.node;a._.glob,n.nextSibling,n.parentNode,n.style.display,e+=i,f+=g,b("snap.drag.move."+d.el.id,d.move_scope||d.el,e-d.el._drag.x,f-d.el._drag.y,e,f,c)}},s=function(c){a.unmousemove(r).unmouseup(s);for(var d,e=q.length;e--;)d=q[e],d.el._drag={},b("snap.drag.end."+d.el.id,d.end_scope||d.start_scope||d.move_scope||d.el,c);q=[]},t=i.length;t--;)!function(b){a[b]=f[b]=function(c,d){return a.is(c,"function")&&(this.events=this.events||[],this.events.push({name:b,f:c,unbind:p(this.shape||this.node||e.doc,b,c,d||this)})),this},a["un"+b]=f["un"+b]=function(a){for(var c=this.events||[],d=c.length;d--;)if(c[d].name==b&&(c[d].f==a||!a))return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}}(i[t]);f.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},f.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var u=[];f.drag=function(c,d,e,f,g,h){function i(i){(i.originalEvent||i).preventDefault();
var j=k("y"),l=k("x");this._drag.x=i.clientX+l,this._drag.y=i.clientY+j,this._drag.id=i.identifier,!q.length&&a.mousemove(r).mouseup(s),q.push({el:this,move_scope:f,start_scope:g,end_scope:h}),d&&b.on("snap.drag.start."+this.id,d),c&&b.on("snap.drag.move."+this.id,c),e&&b.on("snap.drag.end."+this.id,e),b("snap.drag.start."+this.id,g||f||this,i.clientX+l,i.clientY+j,i)}if(!arguments.length){var j;return this.drag(function(a,b){this.attr({transform:j+(j?"T":"t")+[a,b]})},function(){j=this.transform().local})}return this._drag={},u.push({el:this,start:i}),this.mousedown(i),this},f.undrag=function(){for(var c=u.length;c--;)u[c].el==this&&(this.unmousedown(u[c].start),u.splice(c,1),b.unbind("snap.drag.*."+this.id));return!u.length&&a.unmousemove(r).unmouseup(s),this}}),d.plugin(function(a,c,d){var e=(c.prototype,d.prototype),f=/^\s*url\((.+)\)/,g=String,h=a._.$;a.filter={},e.filter=function(b){var d=this;"svg"!=d.type&&(d=d.paper);var e=a.parse(g(b)),f=a._.id(),i=d.node.offsetWidth,j=d.node.offsetHeight,k=h("filter");return h(k,{id:f,filterUnits:"userSpaceOnUse",x:0,y:0,width:i,height:j}),k.appendChild(e.node),d.defs.appendChild(k),new c(k)},b.on("snap.util.getattr.filter",function(){b.stop();var c=h(this.node,"filter");if(c){var d=g(c).match(f);return d&&a.select(d[1])}}),b.on("snap.util.attr.filter",function(a){if(a instanceof c&&"filter"==a.type){b.stop();var d=a.node.id;d||(h(a.node,{id:a.id}),d=a.id),h(this.node,{filter:"url(#"+d+")"})}a&&"none"!=a||(b.stop(),this.node.removeAttribute("filter"))}),a.filter.blur=function(b,c){null==b&&(b=2);var d=null==c?b:[b,c];return a.format('<feGaussianBlur stdDeviation="{def}"/>',{def:d})},a.filter.blur.toString=function(){return this()},a.filter.shadow=function(b,c,d,e){return e=e||"#000",null==d&&(d=4),"string"==typeof d&&(e=d,d=4),null==b&&(b=0,c=2),null==c&&(c=b),e=a.color(e),a.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:e,dx:b,dy:c,blur:d})},a.filter.shadow.toString=function(){return this()},a.filter.grayscale=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-b),b:.7152-.7152*(1-b),c:.0722-.0722*(1-b),d:.2126-.2126*(1-b),e:.7152+.2848*(1-b),f:.0722-.0722*(1-b),g:.2126-.2126*(1-b),h:.0722+.9278*(1-b)})},a.filter.grayscale.toString=function(){return this()},a.filter.sepia=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-b),b:.769-.769*(1-b),c:.189-.189*(1-b),d:.349-.349*(1-b),e:.686+.314*(1-b),f:.168-.168*(1-b),g:.272-.272*(1-b),h:.534-.534*(1-b),i:.131+.869*(1-b)})},a.filter.sepia.toString=function(){return this()},a.filter.saturate=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-b})},a.filter.saturate.toString=function(){return this()},a.filter.hueRotate=function(b){return b=b||0,a.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:b})},a.filter.hueRotate.toString=function(){return this()},a.filter.invert=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:b,amount2:1-b})},a.filter.invert.toString=function(){return this()},a.filter.brightness=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:b})},a.filter.brightness.toString=function(){return this()},a.filter.contrast=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:b,amount2:.5-b/2})},a.filter.contrast.toString=function(){return this()}}),d});